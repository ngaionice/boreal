(this.webpackJsonpboreal=this.webpackJsonpboreal||[]).push([[0],{167:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(40),c=n.n(i),o=n(11),s=n(19),l=n(217),u=n(218),j=n(227),d=n(219),b=n(239),h=n(229),O=n(36),p=n.n(O),x=n(228),f=n(113),m=n(44),g=n(101),v=n(45),y=function(){var e=360;return{flex:{flex:1},paginator:{justifyContent:"center",padding:"4px"},drawerWidth:e,drawer:{width:{md:e},flexShrink:{md:0}},appBar:{width:{md:"calc(100% - ".concat(e,"px)")},ml:{md:"".concat(e,"px")}},menuButton:{marginRight:2,display:{md:"none"}},tabs:{height:"48px"},drawerPaper:{width:e},content:{flexGrow:1,padding:3},contentWrapper:{flexGrow:1,paddingLeft:3,paddingRight:3,paddingTop:5,paddingBottom:5,marginLeft:"".concat(e,"px")},contentMobileWrapper:{flexGrow:1,paddingLeft:3,paddingRight:3,paddingTop:5,paddingBottom:5},loader:{padding:3},gridItem:{height:"100%"}}},C=n(79),k=n.n(C),S=n(103),w=n(104),T=n.n(w),E=n(230),I=n(210),M=n(221),W=n(233),P=n(234),R=n(235),B=n(222),D=n(232),F=n(224),N=n(236),A=n(105),q=n.n(A),L=n(50),G=n(2),Q=function(){var e=y();return Object(G.jsx)(h.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:e.loader,children:Object(G.jsx)(E.a,{})})},_=function(e){var t=e.searchTermControl,n=e.onButtonClick,r=Object(o.a)(t,2),a=r[0],i=r[1];return Object(G.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(G.jsxs)(I.a,{spacing:1,children:[Object(G.jsx)(M.a,{id:"code-input",label:"Course Code",variant:"filled",placeholder:"Quick search",value:a,onChange:function(e){return i(e.target.value.toUpperCase())},fullWidth:!0,size:"small",flex:1}),Object(G.jsx)(W.a,{variant:"caption",children:"Quick search shows courses for the current year. For more options, use advanced search."}),Object(G.jsx)(P.a,{variant:"outlined",color:"inherit",startIcon:Object(G.jsx)(q.a,{}),component:L.b,to:"/search",onClick:n,children:"Advanced Search"})]})})},H=function(e){var t=e.loading,n=e.data,r=e.onCourseClick,a=e.pageControl,i=e.itemsPerPage,c=e.noOfPages;if(t)return Object(G.jsx)(Q,{});if(null===n||p.a.isEmpty(n))return Object(G.jsxs)(I.a,{spacing:1,justifyContent:"center",alignItems:"center",children:[Object(G.jsx)(R.a,{flexItem:!0}),Object(G.jsx)(W.a,{variant:"body2",children:"Start searching to see courses here!"})]});var s=y(),l=Object(o.a)(a,2),u=l[0],j=l[1];return Object(G.jsxs)(I.a,{spacing:1,children:[Object(G.jsx)(R.a,{}),Object(G.jsx)(B.a,{count:c,page:u,onChange:function(e,t){j(t)},defaultPage:1,siblingCount:0,boundaryCount:1,color:"primary",sx:{ul:s.paginator}}),Object(G.jsx)(R.a,{}),Object(G.jsx)(D.a,{dense:!0,children:Object.keys(n).slice((u-1)*i,u*i).map((function(e){var t=n[e];return Object(G.jsx)(F.a,{button:!0,onClick:function(){return r(t)},children:Object(G.jsx)(N.a,{primary:t.courseTitle,secondary:"".concat(t.code).concat(t.section)})},e)}))})]})},z=function(e){var t=e.setData,n=e.onCourseSelectionAction,a=e.onButtonClick,i=Object(r.useState)(""),c=Object(o.a)(i,2),s=c[0],l=c[1],u=Object(r.useRef)(0),j=Object(r.useState)({}),d=Object(o.a)(j,2),b=d[0],h=d[1],O=Object(r.useState)(!1),p=Object(o.a)(O,2),x=p[0],f=p[1],m=Object(r.useState)(1),g=Object(o.a)(m,2),v=g[0],y=g[1],C=Object(r.useState)(Math.ceil(Object.keys(b).length/10)),w=Object(o.a)(C,2),E=w[0],M=w[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(S.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://ionice.herokuapp.com/https://timetable.iit.artsci.utoronto.ca/api/20219/courses?code=".concat(s),e.next=3,T.a.get(n,{headers:{}});case 3:r=e.sent,a=r.data,u.current===t&&(h(a),M(Math.ceil(Object.keys(a).length/10)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){u.current+=1,f(!0),y(1),e(u.current).then((function(){return f(!1)}))};if(!s||b){var n=setTimeout((function(){s&&t()}),500);return function(){clearTimeout(n)}}t()}),[s]),Object(G.jsxs)(I.a,{flex:1,spacing:1,children:[Object(G.jsx)(_,{searchTermControl:[s,l],onButtonClick:a}),Object(G.jsx)(H,{loading:x,data:b,onCourseClick:function(e){t(e),n()},pageControl:[v,y],noOfPages:E,itemsPerPage:10})]})},Y=n(216),J=n(237),U=n(238),V=n(226),K=n(108),X=n.n(K),Z=n(107),$=n.n(Z),ee=n(109),te=n.n(ee),ne=function(e){var t=e.label,n=e.icon,r=e.right,a=void 0===r?null:r,i=e.to,c=void 0===i?null:i,o=e.onClick,s=void 0===o?null:o;return Object(G.jsx)(F.a,{children:Object(G.jsxs)(Y.a,{component:L.b,to:c,onClick:s,children:[Object(G.jsx)(J.a,{children:n}),Object(G.jsx)(N.a,{primary:t}),a]})})},re=function(e){var t=e.children,n=e.mobileClose;return Object(G.jsxs)(D.a,{dense:!0,children:[Object(G.jsx)(U.a,{id:"site-functions",children:"Site functions"}),Object(G.jsx)(ne,{label:"Favourites",icon:Object(G.jsx)($.a,{}),to:"/favorites",onClick:n}),Object(G.jsx)(ne,{label:"Timetable",icon:Object(G.jsx)(X.a,{}),to:"/timetable",onClick:n}),Object(G.jsx)(ne,{label:"Settings",icon:Object(G.jsx)(te.a,{}),to:"/settings",onClick:n}),Object(G.jsx)(U.a,{id:"search",children:"Search"}),Object(G.jsx)(F.a,{children:t})]})},ae=function(e){var t=e.children,n=e.navControl,r=e.mobile,a=Object(o.a)(n,2),i=a[0],c=a[1],s=y(),l=function(e){return{mobileSx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:e}},permanentSx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:e}}}}(s.drawerWidth),u=l.mobileSx,j=l.permanentSx,d=function(){c(!i)};return Object(G.jsx)(h.a,{sx:s.drawer,"aria-label":"search",children:Object(G.jsxs)(V.a,{variant:r?"temporary":"permanent",open:!r||i,onClose:r?d:null,ModalProps:{keepMounted:!0},sx:r?u:j,children:[Object(G.jsx)(b.a,{}),Object(G.jsx)(R.a,{}),Object(G.jsx)(re,{children:t,mobileClose:r?d:null})]})})},ie=n(220),ce=n(240),oe=n(241),se=n(112),le=n.n(se),ue=n(110),je=n.n(ue),de=n(111),be=n.n(de),he=function(e){var t=e.title,n=e.navControl,r=e.themeControl,a=e.mobile,i=Object(o.a)(r,2),c=i[0],s=i[1],l=Object(o.a)(n,2),u=l[0],j=l[1],d=function(){j(!u)},h=y(),O=function(){return Object(G.jsx)(ie.a,{title:"Toggle theme",children:Object(G.jsx)(ce.a,{color:"inherit","aria-label":"toggle theme",onClick:function(){return s(!c)},children:c?Object(G.jsx)(je.a,{}):Object(G.jsx)(be.a,{})})})},p=function(){return a?Object(G.jsx)(ce.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:d,sx:h.menuButton,children:Object(G.jsx)(le.a,{})}):null},x=function(){return Object(G.jsx)(W.a,{variant:"h6",sx:h.flex,children:t})};return Object(G.jsx)(oe.a,{position:"fixed",sx:h.appBar,children:Object(G.jsxs)(b.a,{children:[Object(G.jsx)(p,{}),Object(G.jsx)(x,{}),Object(G.jsx)(O,{})]})})},Oe=n(245),pe=n(242),xe=n(243),fe=n(244),me=function(e){if(p.a.isEmpty(e))return"TBA";var t="";return Object.entries(e).forEach((function(e){var n=Object(o.a)(e,2)[1],r=n.lastName,a=n.firstName;t+=a+". "+r+", "})),t.substring(0,t.length-2)},ge=function(e,t){var n=e.meetingDay,r=e.meetingStartTime,a=e.meetingEndTime,i=e.assignedRoom1,c=e.assignedRoom2,o=function(e,t){switch(e){case"MO":return t?"Mon":"M";case"TU":return t?"Tue":"T";case"WE":return t?"Wed":"W";case"TH":return t?"Thu":"R";case"FR":return t?"Fri":"F";default:return null}}(n,t),s=t?r+" \u2013 "+a:r.replace(":","")+"\u2013"+a.replace(":","");if(!t)return o+" "+s;var l=function(e,t){return e||t?e&&t?e===t?e:e+"/"+t:e||t:"TBA"}(i,c);return o+" "+s+" "+(t?"at ":"")+l},ve=function(e,t,n,r,a){var i=Number(e)-Number(t);return a?i>0?"Remaining capacity: ".concat(i+" out of "+e):r?"Waitlist: ".concat(n," (capacity: ").concat(e,")"):"Full, no waitlisting. (capacity: ".concat(e,")"):i>0?"Available: "+i:r?"Waitlist: "+n:"Full, no waitlisting"},ye=function(e,t){switch(e){case"CLASS":return"In person";case"ONLSYNC":return t?"Online \u2014 Synchronous":"Online Sync";case"ONLASYNC":return t?"Online \u2014 Asynchronous":"Online Async";default:return null}},Ce=function(e){switch(e){case"P":return"Priority: Some students are given priority access until a specific date.";case"E":return"Enrol at Department: Students must contact the sponsoring Department to enrol.";case"AE":return"Department Approval Required: Students must request enrolment on ACORN and await Departmental review of their request.";case"PE":return"Priority, then Enrol at Department: Some students are given priority access until a specific date, after which time another group of students is also able to enrol by contacting the sponsoring Department.";case"R1":return"Restricted: Course/section is restricted at all times for specific students.";case"R2":return"Restricted: Course/section is restricted to a group of students until a specific date, after which time another group of students is also able to enrol.";default:return""}},ke=function(e){var t=e.meeting,n=e.onClick,r=t.schedule,a=t.instructors,i=t.teachingMethod,c=t.sectionNumber,s=t.enrollmentCapacity,l=t.actualEnrolment,u=t.actualWaitlist,j=t.waitlist,d=t.deliveryMode,b=t.enrollmentIndicator,h=t.enrollmentControls,O=t.cancel,p=function(){if(O)return Object(G.jsx)(W.a,{variant:"body2",children:"Cancelled"});var e=!1;return Object(G.jsxs)(I.a,{spacing:1,direction:"row",divider:Object(G.jsx)(R.a,{orientation:"vertical",flexItem:!0}),children:[Object(G.jsx)(W.a,{variant:"body2",children:ve(s,l,u,j,e)}),Object(G.jsx)(W.a,{variant:"body2",children:ye(d,e)}),Object(G.jsx)(W.a,{variant:"body2",children:me(a)}),Object.entries(r).map((function(t){var n=Object(o.a)(t,2),r=n[0],a=n[1];return"-"===r?null:Object(G.jsx)(W.a,{variant:"body2",children:ge(a,e)},r)})),Object(G.jsx)(W.a,{variant:"body2",children:b})]})},x="".concat(i+c);return Object(G.jsx)(F.a,{disableGutters:!0,children:Object(G.jsx)(Y.a,{onClick:function(){var e=!0;n({section:x,instructors:me(a),meetings:Object.entries(r).filter((function(e){return"-"!==Object(o.a)(e,1)[0]})).map((function(t){var n=Object(o.a)(t,2)[1];return ge(n,e)})),delivery:ye(d,e),priority:Ce(b),capacity:ve(s,l,u,j,e),priorityGroups:h.map((function(e){return function(e){var t=e.postCode,n=e.postName,r=e.restrictedGroup,a=r?"Group ".concat(r," \u2014 "):"";if(t&&n)return a+t+" "+n;var i=e.yearOfStudy,c=e.primaryOrgName,o=e.secondaryOrgName,s=e.assocOrgName,l=e.adminOrgName||o||"";return a+(c?c+": ":"")+(i&&"*"!==i?"Year ".concat(i," "):"")+(l||s||"")}(e)}))})},children:Object(G.jsxs)(I.a,{children:[Object(G.jsx)(N.a,{primary:x}),Object(G.jsx)(p,{})]})})})},Se=function(e){var t=e.data,n=e.onListEntryClick;return Object(G.jsx)(D.a,{dense:!0,children:Object.entries(t).map((function(e){var t=Object(o.a)(e,2),r=t[0],a=t[1];return Object(G.jsx)(ke,{meeting:a,onClick:n},r)}))})},we=function(e){var t=e.data,n=t.instructors,r=t.meetings,a=t.delivery,i=t.priority,c=t.capacity,o=t.priorityGroups;return Object(G.jsxs)(I.a,{spacing:2,divider:Object(G.jsx)(R.a,{}),children:[Object(G.jsx)(W.a,{variant:"body1",children:"Instructors: ".concat(n)}),Object(G.jsx)(W.a,{variant:"body1",children:"Delivery mode: ".concat(a)}),Object(G.jsx)(W.a,{variant:"body1",children:c}),Object(G.jsxs)(I.a,{children:[Object(G.jsx)(W.a,{variant:"body1",paragraph:!0,children:"Meetings:"}),r.map((function(e){return Object(G.jsx)(W.a,{variant:"body2",children:e},e)}))]}),i?Object(G.jsxs)(I.a,{children:[Object(G.jsx)(W.a,{variant:"body1",paragraph:!0,children:"Enrollment priority:"}),Object(G.jsx)(W.a,{variant:"body2",children:i})]}):null,p.a.isEmpty(o)?null:Object(G.jsxs)(I.a,{children:[Object(G.jsx)(W.a,{variant:"body1",paragraph:!0,children:"Priority student groups:"}),o.map((function(e,t){return Object(G.jsx)(W.a,{variant:"body2",children:e},t)}))]})]})},Te=function(e){var t=e.data,n=Object(r.useState)(!1),a=Object(o.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)({section:"",instructors:"",meetings:[],delivery:"",priority:"",capacity:"",priorityGroups:[]}),l=Object(o.a)(s,2),u=l[0],j=l[1];if(!t)return null;return Object(G.jsxs)(I.a,{children:[Object(G.jsx)(W.a,{variant:"h5",paragraph:!0,children:"Meeting Sections"}),Object(G.jsx)(Se,{data:t,onListEntryClick:function(e){c(!0),j(e)}}),Object(G.jsxs)(pe.a,{open:i,onClose:function(){return c(!1)},maxWidth:"sm",fullWidth:!0,children:[Object(G.jsx)(xe.a,{children:u.section}),Object(G.jsx)(fe.a,{children:Object(G.jsx)(we,{data:u})})]})]})},Ee=function(e){var t=e.subheader;return Object(G.jsx)(W.a,{variant:"h5",paragraph:!0,children:t})},Ie=function(e){var t=e.title;return Object(G.jsx)(W.a,{variant:"h4",children:t})},Me=function(e){var t=e.description;return Object(G.jsx)(W.a,{variant:"body1",dangerouslySetInnerHTML:{__html:t}})},We=function(e){var t=e.prerequisite;return t?Object(G.jsx)(W.a,{variant:"body1",children:"Pre-requisites: ".concat(t)}):null},Pe=function(e){var t=e.corequisite;return t?Object(G.jsx)(W.a,{variant:"body1",children:"Co-requisites: ".concat(t)}):null},Re=function(e){var t=e.exclusion;return t?Object(G.jsx)(W.a,{variant:"body1",children:"Exclusions: ".concat(t)}):null},Be=function(e){var t=e.recommendedPreparation;return t?Object(G.jsx)(W.a,{variant:"body1",children:"Recommended preparation: ".concat(t)}):null},De=function(e){var t=e.breadthCategories;return t?Object(G.jsx)(W.a,{variant:"body1",children:"Breadth categories: ".concat(t)}):null},Fe=function(e){var t=e.distributionCategories;return t?Object(G.jsx)(W.a,{variant:"body1",children:"Distribution categories: ".concat(t)}):null},Ne=function(e){var t=e.webTimetableInstructions;return t?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(W.a,{variant:"body1",children:"Timetable instructions:"}),Object(G.jsx)(W.a,{variant:"body1",dangerouslySetInnerHTML:{__html:t}})]}):null},Ae=function(e){var t=e.deliveryInstructions;return t?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(W.a,{variant:"body1",children:"Delivery instructions:"}),Object(G.jsx)(W.a,{variant:"body1",dangerouslySetInnerHTML:{__html:t}})]}):null},qe=function(e){var t=e.data,n=t.courseTitle,r=t.courseDescription,a=t.prerequisite,i=t.corequisite,c=t.exclusion,o=t.recommendedPreparation,s=t.breadthCategories,l=t.distributionCategories,u=t.webTimetableInstructions,j=t.deliveryInstructions,d=t.meetings;return Object(G.jsx)(Oe.a,{maxWidth:"lg",children:Object(G.jsxs)(I.a,{spacing:3,divider:Object(G.jsx)(R.a,{}),children:[Object(G.jsx)(Ie,{title:n}),Object(G.jsx)(Me,{description:r}),a||i||c||o?Object(G.jsxs)(I.a,{spacing:1,children:[Object(G.jsx)(Ee,{subheader:"Enrollment limitations"}),Object(G.jsx)(We,{prerequisite:a}),Object(G.jsx)(Pe,{corequisite:i}),Object(G.jsx)(Re,{exclusion:c}),Object(G.jsx)(Be,{recommendedPreparation:o})]}):null,s||l?Object(G.jsxs)(I.a,{spacing:1,children:[Object(G.jsx)(Ee,{subheader:"Breadth classifications"}),Object(G.jsx)(De,{breadthCategories:s}),Object(G.jsx)(Fe,{distributionCategories:l})]}):null,u||j?Object(G.jsxs)(I.a,{spacing:1,children:[Object(G.jsx)(Ee,{subheader:"Additional instructions"}),Object(G.jsx)(Ne,{webTimetableInstructions:u}),Object(G.jsx)(Ae,{deliveryInstructions:j})]}):null,Object(G.jsx)(Te,{data:d})]})})},Le=function(){var e=y(),t=Object(s.a)(),n=a.a.useState(!0),i=Object(o.a)(n,2),c=i[0],O=i[1],C=a.a.useState(!1),k=Object(o.a)(C,2),S=k[0],w=k[1],T=Object(l.a)(t.breakpoints.down("md")),E=Object(r.useState)({}),I=Object(o.a)(E,2),M=I[0],W=I[1],P=Object(r.useState)(!1),R=Object(o.a)(P,2),B=R[0],D=R[1];Object(r.useEffect)((function(){D(!p.a.isEmpty(M))}),[M]),Object(r.useEffect)((function(){var e=localStorage.getItem("darkMode");e?O("dark"===e):(O(!1),localStorage.setItem("dark","light"))}),[]),Object(r.useEffect)((function(){localStorage.setItem("darkMode",c?"dark":"light")}),[c]);var F;return Object(G.jsx)(u.a,{injectFirst:!0,children:Object(G.jsxs)(j.a,{theme:(F=c,Object(x.a)(Object(f.a)({palette:{mode:F?"dark":"light",primary:{main:m.a[800]},secondary:{main:g.a[50]},error:{main:v.a[500]}},typography:{fontFamily:["Roboto","Quicksand"].join(",")},components:{MuiTypography:{defaultProps:{variantMapping:{h4:"h1",h5:"h2",h6:"h3"}},styleOverrides:{h3:{fontFamily:"Quicksand",fontWeight:300},h4:{fontFamily:"Quicksand",fontWeight:300},h5:{fontFamily:"Quicksand",fontWeight:400},h6:{fontFamily:"Quicksand",fontWeight:400}}}}}))),children:[Object(G.jsx)(d.a,{}),Object(G.jsx)(he,{title:B?"".concat(M.code).concat(M.section):"Boreal",navControl:[S,w],themeControl:[c,O],mobile:T}),Object(G.jsx)(ae,{mobile:T,navControl:[S,w],children:Object(G.jsx)(z,{setData:function(e){return W(e)},onCourseSelectionAction:w,onButtonClick:function(){return w(!S)}})}),Object(G.jsx)(b.a,{}),Object(G.jsx)(h.a,{sx:T?e.contentMobileWrapper:e.contentWrapper,children:Object(G.jsx)(qe,{data:M})})]})})};c.a.render(Object(G.jsx)(L.a,{children:Object(G.jsx)(Le,{})}),document.getElementById("root"))}},[[167,1,2]]]);
//# sourceMappingURL=main.5226f7ac.chunk.js.map