{"version":3,"sources":["theme.js","components/Loader.js","utilities/searchOptions.js","components/QuickSearchPanel.js","components/Drawer.js","utilities/misc.js","utilities/fetcher.js","components/AppBar.js","components/course/CourseInformation.js","utilities/courseFormatter.js","components/course/CourseMeetings.js","components/course/PastOfferings.js","screens/CourseScreen.js","screens/FavoritesScreen.js","screens/LandingScreen.js","screens/SearchScreen.js","Switchboard.js","reducers.js","App.js","index.js"],"names":["styles","drawerWidth","flex","paginator","justifyContent","padding","drawer","width","md","flexShrink","appBar","ml","appBarHome","menuButton","marginRight","display","content","flexGrow","contentWrapper","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","contentMobileWrapper","loader","Loader","classes","Box","alignItems","sx","CircularProgress","years","value","label","short_label","instances","flatMap","v","session","section","daytime","split","studyYears","weekdays","breadth","deliveryModes","sections","departments","Search","fetchedData","setFetchedData","onCourseSelection","useState","searchTerm","setSearchTerm","loading","setLoading","searched","setSearched","page","setPage","Math","ceil","Object","keys","length","noOfPages","setNoOfPages","useEffect","didCancel","search","a","url","slice","retrievedOn","Date","axios","get","headers","data","forEach","key","timerId","setTimeout","then","clearTimeout","Stack","spacing","onCourseClick","pageControl","itemsPerPage","SearchOptions","noValidate","autoComplete","TextField","id","variant","placeholder","onChange","e","target","toUpperCase","fullWidth","size","Typography","Results","Divider","flexItem","_","isEmpty","Pagination","count","event","defaultPage","siblingCount","boundaryCount","color","ul","List","dense","map","result","courseTitle","code","ListItem","button","onClick","component","RouterLink","to","toLowerCase","ListItemText","primary","secondary","ListEntry","icon","right","ListItemButton","ListItemIcon","DrawerContent","children","mobileClose","ListSubheader","backgroundColor","disableGutters","Drawer","navControl","mobile","location","useLocation","expandNav","setExpandNav","mobileSx","xs","boxSizing","permanentSx","handleDrawerToggle","pathname","open","onClose","ModalProps","keepMounted","Toolbar","getCourseId","courseData","instance","create","baseURL","fetchCourseData","currDisplayedId","params","res","updated","catch","fetchPastOfferings","courseCode","omit","searchInstance","pastSessions","sessions","filter","exclude","store","promises","Promise","all","values","Array","isArray","entries","cd","hasOwnProperty","error","console","log","ElevationScroll","props","trigger","useScrollTrigger","disableHysteresis","threshold","cloneElement","elevation","AppBar","title","dark","setDark","currDisplayedData","setCurrDisplayedData","favorites","dispatchFavorites","isCurrFavorite","includes","favorite","setFavorite","handleFavoritesToggle","type","courseId","payload","BrightnessButton","Tooltip","IconButton","FavoritesButton","RefreshButton","mounted","disabled","DrawerButton","edge","Title","position","SectionSubheader","subheader","paragraph","Description","description","dangerouslySetInnerHTML","__html","Prerequisites","prerequisite","Corequisites","corequisite","Exclusions","exclusion","RecommendedPreparation","recommendedPreparation","Breadth","breadthCategories","Distribution","distributionCategories","TimetableInstructions","webTimetableInstructions","DeliveryInstructions","deliveryInstructions","Limitations","BreadthClassifications","AdditionalInstructions","formatInstructors","instructors","string","lastName","firstName","substring","formatSessionInfo","meetingSession","full","meetingDay","meetingStartTime","meetingEndTime","assignedRoom1","assignedRoom2","date","formatDayOfWeek","time","replace","room","formatLocation","formatCapacity","capacity","enrollment","waitlist","waitlistable","spotsLeft","Number","formatDeliveryMode","deliveryMode","getPriorityCodeDescription","formatDate","toString","getYearLabel","seasonLabel","season","year","extractInstructorsAndOccupancy","meetings","lectures","instructorsSet","Set","ratio","instructor","name","has","push","add","sort","b","join","MeetingListing","meeting","schedule","teachingMethod","sectionNumber","enrollmentCapacity","actualEnrolment","actualWaitlist","enrollmentIndicator","enrollmentControls","cancel","ListItemSecondary","theme","useTheme","fontVariant","useMediaQuery","breakpoints","down","direction","divider","orientation","sm","Instructors","k","EnrollmentIndicator","lectureSection","delivery","priority","priorityGroups","entry","groupData","postCode","postName","restrictedGroup","group","yearOfStudy","primaryOrgName","secondaryOrgName","assocOrgName","adminOrgName","dept","college","formatPriorityGroup","getDataForDialog","Boolean","MeetingListings","onListEntryClick","DialogContent","showGroups","setShowGroups","transform","transition","index","CourseMeetings","dialogOpen","setDialogOpen","dialogData","setDialogData","Dialog","maxWidth","DialogTitle","PastOfferings","Content","window","navigator","onLine","reverse","Listing","occupancy","occupancyValue","round","CourseScreen","currFetchedData","loadingHistorical","setLoadingHistorical","historicalData","setHistoricalData","online","useRef","themeFunction","singleColumn","current","pathData","pathnameSplitter","setCurrentData","Error","setPastOfferingsData","fetchHistoricalData","results","info","Container","courseDescription","Grid","container","item","lg","val","FavoritesList","ListItemSecondaryAction","FavoritesScreen","LandingScreen","flexDirection","minHeight","fontWeight","letterSpacing","fontFamily","Button","defaultSearchState","levels","days","times","breadths","last","modes","hasSpace","fyf","allowModes","SearchScreen","setCurrFetchedData","searchFields","setSearchFields","ExpandMore","styled","expand","other","transitions","duration","shortest","expanded","setExpanded","setAllowModes","setTitle","setCourseCode","setSections","setDepartments","setLevels","setLastName","setDays","setTimes","setBreadths","setYear","setModes","setOnline","setHasSpace","setWaitlist","setFyf","Card","CardContent","Autocomplete","multiple","options","sectionOptions","getOptionLabel","option","filterSelectedOptions","renderInput","nv","deptOptions","Collapse","in","isOptionEqualToValue","o","FormGroup","FormControlLabel","control","Checkbox","checked","CardActions","getSearchInstance","format","param","org","studyyear","prof","weekday","deliverymode","available","fyfcourse","SearchResults","Switchboard","sv","searchResults","setSearchResults","path","exact","favoritesKey","favoritesReducer","state","action","updatedState","localStorage","setItem","JSON","stringify","App","getItem","isNavExpanded","setIsNavExpanded","appBarTitle","setAppBarTitle","useReducer","existingFavorites","parse","loadExistingFavorites","monitorCrossTabState","newValue","addEventListener","removeEventListener","newTitle","currDisplayedCourse","startsWith","obj","getPageTitle","document","useDark","StyledEngineProvider","injectFirst","ThemeProvider","responsiveFontSizes","createTheme","palette","mode","main","blue","grey","red","typography","components","MuiTypography","defaultProps","variantMapping","h4","h5","h6","styleOverrides","h3","CssBaseline","ReactDOM","render","getElementById"],"mappings":"2OAsDMA,EAAS,WACb,IAAMC,EAAc,IAEpB,MAAO,CACLC,KAAM,CACJA,KAAM,GAERC,UAAW,CACTC,eAAgB,SAChBC,QAAS,OAEXJ,YAAaA,EACbK,OAAQ,CAAEC,MAAO,CAAEC,GAAIP,GAAeQ,WAAY,CAAED,GAAI,IACxDE,OAAQ,CACNH,MAAO,CAAEC,GAAG,eAAD,OAAiBP,EAAjB,QACXU,GAAI,CAAEH,GAAG,GAAD,OAAKP,EAAL,QAEVW,WAAY,CACVL,MAAO,QAETM,WAAY,CACVC,YAAa,EACbC,QAAS,CACPP,GAAI,SAGRQ,QAAS,CACPC,SAAU,EACVZ,QAAS,GAEXa,eAAgB,CACdD,SAAU,EACVE,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAW,GAAD,OAAKtB,EAAL,OAEZuB,qBAAsB,CACpBP,SAAU,EACVE,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,GAEjBG,OAAQ,CACNpB,QAAS,K,oKCjGTqB,EAAS,WACb,IAAMC,EAAU3B,IAChB,OACE,cAAC4B,EAAA,EAAD,CACEb,QAAQ,OACRX,eAAe,SACfyB,WAAW,SACXC,GAAIH,EAAQF,OAJd,SAME,cAACM,EAAA,EAAD,OCZAC,EAAQ,CACZ,CACEC,MAAO,QACPC,MAAO,wBACPC,YAAa,cAEf,CACEF,MAAO,QACPC,MAAO,aACPC,YAAa,SAEf,CACEF,MAAO,QACPC,MAAO,wBACPC,YAAa,cAEf,CACEF,MAAO,QACPC,MAAO,aACPC,YAAa,SAEf,CACEF,MAAO,QACPC,MAAO,wBACPC,YAAa,cAEf,CACEF,MAAO,QACPC,MAAO,aACPC,YAAa,SAEf,CACEF,MAAO,QACPC,MAAO,wBACPC,YAAa,cAEf,CACEF,MAAO,QACPC,MAAO,aACPC,YAAa,SAEf,CACEF,MAAO,QACPC,MAAO,wBACPC,YAAa,cAEf,CACEF,MAAO,QACPC,MAAO,aACPC,YAAa,SAEf,CACEF,MAAO,QACPC,MAAO,wBACPC,YAAa,cAEf,CACEF,MAAO,QACPC,MAAO,aACPC,YAAa,UAmBXC,EAfW,CACf,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SAGyBC,SAAQ,SAACC,GAAD,MAAO,CACxC,CAAEC,QAASD,EAAGE,QAAS,KACvB,CAAED,QAASD,EAAGE,QAAS,KACvB,CAAED,QAASD,EAAGE,QAAS,SAsBnBC,GAnBY,8tBAiBhBC,MAAM,KAEQ,CACd,CACET,MAAO,KACPC,MAAO,WAET,CACED,MAAO,KACPC,MAAO,aAET,CACED,MAAO,MACPC,MAAO,aAILS,EAAa,CACjB,CACEV,MAAO,IACPC,MAAO,aAET,CACED,MAAO,IACPC,MAAO,aAET,CACED,MAAO,IACPC,MAAO,aAET,CACED,MAAO,IACPC,MAAO,cAILU,EAAW,CACf,CACEX,MAAO,KACPC,MAAO,OAET,CACED,MAAO,KACPC,MAAO,OAET,CACED,MAAO,KACPC,MAAO,OAET,CACED,MAAO,KACPC,MAAO,OAET,CACED,MAAO,KACPC,MAAO,QAILW,EAAU,CACd,CACEZ,MAAO,IACPC,MAAO,6CAET,CACED,MAAO,IACPC,MAAO,qCAET,CACED,MAAO,IACPC,MAAO,oCAET,CACED,MAAO,IACPC,MAAO,2CAET,CACED,MAAO,IACPC,MAAO,gDAILY,EAAgB,CACpB,CACEb,MAAO,UACPC,MAAO,wBAET,CACED,MAAO,WACPC,MAAO,yBAET,CACED,MAAO,QACPC,MAAO,aAET,CACED,MAAO,QACPC,MAAO,cAILa,EAAW,CACf,CACEd,MAAO,IACPC,MAAO,YAET,CACED,MAAO,IACPC,MAAO,cAET,CACED,MAAO,IACPC,MAAO,aAILc,EAAc,CAClB,CAAEf,MAAO,OAAQC,MAAO,gCACxB,CAAED,MAAO,MAAOC,MAAO,iBACvB,CACED,MAAO,MACPC,MAAO,0DAET,CACED,MAAO,QACPC,MAAO,4DAET,CAAED,MAAO,MAAOC,MAAO,qBACvB,CAAED,MAAO,MAAOC,MAAO,8CACvB,CAAED,MAAO,MAAOC,MAAO,sBACvB,CACED,MAAO,OACPC,MAAO,yDAET,CAAED,MAAO,MAAOC,MAAO,oDACvB,CAAED,MAAO,MAAOC,MAAO,2CACvB,CAAED,MAAO,OAAQC,MAAO,wBACxB,CAAED,MAAO,OAAQC,MAAO,8BACxB,CAAED,MAAO,MAAOC,MAAO,sCACvB,CAAED,MAAO,MAAOC,MAAO,kDACvB,CAAED,MAAO,QAASC,MAAO,8CACzB,CAAED,MAAO,MAAOC,MAAO,sDACvB,CACED,MAAO,OACPC,MAAO,wDAET,CAAED,MAAO,MAAOC,MAAO,4CACvB,CACED,MAAO,QACPC,MACE,wEAEJ,CACED,MAAO,KACPC,MAAO,4DAET,CAAED,MAAO,MAAOC,MAAO,4BACvB,CACED,MAAO,MACPC,MACE,4EAEJ,CAAED,MAAO,MAAOC,MAAO,mBACvB,CAAED,MAAO,MAAOC,MAAO,6BACvB,CAAED,MAAO,MAAOC,MAAO,4CACvB,CAAED,MAAO,QAASC,MAAO,kDACzB,CAAED,MAAO,QAASC,MAAO,4BACzB,CAAED,MAAO,QAASC,MAAO,4CACzB,CAAED,MAAO,MAAOC,MAAO,8CACvB,CACED,MAAO,MACPC,MAAO,mEAET,CAAED,MAAO,MAAOC,MAAO,4BACvB,CAAED,MAAO,MAAOC,MAAO,+CACvB,CACED,MAAO,QACPC,MAAO,sEAET,CACED,MAAO,MACPC,MAAO,2DAET,CAAED,MAAO,MAAOC,MAAO,0BACvB,CAAED,MAAO,QAASC,MAAO,8CACzB,CACED,MAAO,MACPC,MAAO,8DAET,CACED,MAAO,QACPC,MAAO,2DAET,CAAED,MAAO,MAAOC,MAAO,uBACvB,CAAED,MAAO,MAAOC,MAAO,0CACvB,CAAED,MAAO,MAAOC,MAAO,8CACvB,CAAED,MAAO,MAAOC,MAAO,mDACvB,CAAED,MAAO,MAAOC,MAAO,uCACvB,CAAED,MAAO,MAAOC,MAAO,sCACvB,CAAED,MAAO,QAASC,MAAO,mDACzB,CAAED,MAAO,QAASC,MAAO,eACzB,CAAED,MAAO,MAAOC,MAAO,mDACvB,CACED,MAAO,MACPC,MACE,mGAEJ,CAAED,MAAO,QAASC,MAAO,8BACzB,CACED,MAAO,OACPC,MAAO,yDAET,CAAED,MAAO,MAAOC,MAAO,4BACvB,CAAED,MAAO,MAAOC,MAAO,oBACvB,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","file":"static/js/main.64b08184.chunk.js","sourcesContent":["import { createTheme, responsiveFontSizes } from \"@mui/material/styles\";\nimport { blue, grey, red } from \"@mui/material/colors\";\n\nconst theme = (useDark) => {\n  return responsiveFontSizes(\n    createTheme({\n      palette: {\n        mode: useDark ? \"dark\" : \"light\",\n        primary: {\n          main: blue[800],\n        },\n        secondary: {\n          main: grey[50],\n        },\n        error: {\n          main: red[500],\n        },\n      },\n      typography: {\n        fontFamily: [\"Roboto\", \"Quicksand\"].join(\",\"),\n      },\n      components: {\n        MuiTypography: {\n          defaultProps: {\n            variantMapping: {\n              h4: \"h1\",\n              h5: \"h2\",\n              h6: \"h3\",\n            },\n          },\n          styleOverrides: {\n            h3: {\n              fontFamily: \"Quicksand\",\n              fontWeight: 300,\n            },\n            h4: {\n              fontFamily: \"Quicksand\",\n              fontWeight: 300,\n            },\n            h5: {\n              fontFamily: \"Quicksand\",\n              fontWeight: 400,\n            },\n            h6: {\n              fontFamily: \"Quicksand\",\n              fontWeight: 400,\n            },\n          },\n        },\n      },\n    })\n  );\n};\n\nconst styles = () => {\n  const drawerWidth = 360;\n\n  return {\n    flex: {\n      flex: 1,\n    },\n    paginator: {\n      justifyContent: \"center\",\n      padding: \"4px\",\n    },\n    drawerWidth: drawerWidth,\n    drawer: { width: { md: drawerWidth }, flexShrink: { md: 0 } },\n    appBar: {\n      width: { md: `calc(100% - ${drawerWidth}px)` },\n      ml: { md: `${drawerWidth}px` },\n    },\n    appBarHome: {\n      width: \"100%\",\n    },\n    menuButton: {\n      marginRight: 2,\n      display: {\n        md: \"none\",\n      },\n    },\n    content: {\n      flexGrow: 1,\n      padding: 3,\n    },\n    contentWrapper: {\n      flexGrow: 1,\n      paddingLeft: 3,\n      paddingRight: 3,\n      paddingTop: 5,\n      paddingBottom: 5,\n      marginLeft: `${drawerWidth}px`,\n    },\n    contentMobileWrapper: {\n      flexGrow: 1,\n      paddingLeft: 3,\n      paddingRight: 3,\n      paddingTop: 5,\n      paddingBottom: 5,\n    },\n    loader: {\n      padding: 2,\n    },\n  };\n};\n\nexport { theme, styles };\n","import { styles } from \"../theme\";\nimport { Box, CircularProgress } from \"@mui/material\";\n\nconst Loader = () => {\n  const classes = styles();\n  return (\n    <Box\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      sx={classes.loader}\n    >\n      <CircularProgress />\n    </Box>\n  );\n};\n\nexport { Loader };\n","const years = [\n  {\n    value: \"20169\",\n    label: \"'16 Fall - '17 Winter\",\n    short_label: \"'16-'17 FW\",\n  },\n  {\n    value: \"20175\",\n    label: \"'17 Summer\",\n    short_label: \"'17 S\",\n  },\n  {\n    value: \"20179\",\n    label: \"'17 Fall - '18 Winter\",\n    short_label: \"'17-'18 FW\",\n  },\n  {\n    value: \"20185\",\n    label: \"'18 Summer\",\n    short_label: \"'18 S\",\n  },\n  {\n    value: \"20189\",\n    label: \"'18 Fall - '19 Winter\",\n    short_label: \"'18-'19 FW\",\n  },\n  {\n    value: \"20195\",\n    label: \"'19 Summer\",\n    short_label: \"'19 S\",\n  },\n  {\n    value: \"20199\",\n    label: \"'19 Fall - '20 Winter\",\n    short_label: \"'19-'20 FW\",\n  },\n  {\n    value: \"20205\",\n    label: \"'20 Summer\",\n    short_label: \"'20 S\",\n  },\n  {\n    value: \"20209\",\n    label: \"'20 Fall - '21 Winter\",\n    short_label: \"'20-'21 FW\",\n  },\n  {\n    value: \"20215\",\n    label: \"'21 Summer\",\n    short_label: \"'21 S\",\n  },\n  {\n    value: \"20219\",\n    label: \"'21 Fall - '22 Winter\",\n    short_label: \"'21-'22 FW\",\n  },\n  {\n    value: \"20225\",\n    label: \"'22 Summer\",\n    short_label: \"'22 S\",\n  },\n];\n\nconst sessions = [\n  \"20169\",\n  \"20175\",\n  \"20179\",\n  \"20185\",\n  \"20189\",\n  \"20195\",\n  \"20199\",\n  \"20205\",\n  \"20209\",\n  \"20215\",\n  \"20219\",\n  \"20225\",\n];\n\nconst instances = sessions.flatMap((v) => [\n  { session: v, section: \"f\" },\n  { session: v, section: \"s\" },\n  { session: v, section: \"y\" },\n]);\n\nconst deptCodes = (\n  \"ABP/ACT/AFR/AMS/ANA/ANT/APM/ARC/ARH/AST/BCB/BCH/\" +\n  \"BIO/BMS/BPM/CAR/CAS/CDN/CHC/CHM/CIN/CJH/CJS/CLA/\" +\n  \"CLT/COG/COL/CRE/CRI/CSB/CSC/CSE/CTA/DHU/DRM/DTS/\" +\n  \"EAS/ECE/ECO/EDS/EDU/EEB/EHJ/ELL/ENG/ENT/ENV/ESS/\" +\n  \"EST/ETH/EUR/FAH/FCS/FIN/FOR/FRE/FSL/GER/GGR/GRK/\" +\n  \"HAJ/HIS/HMB/HPS/HST/HUN/IFP/IMC/IMM/INI/INS/IRE/\" +\n  \"ITA/IVP/JAH/JAL/JAR/JCA/JCC/JCI/JDC/JEE/JEG/JEH/\" +\n  \"JEI/JFE/JFG/JFL/JFP/JFV/JGA/JGE/JGI/JGJ/JGU/JHA/\" +\n  \"JHE/JHN/JHP/JIA/JIG/JLN/JLP/JLS/JMB/JNH/JNR/JNS/\" +\n  \"JOP/JPA/JPD/JPE/JPF/JPH/JPI/JPM/JPP/JPR/JPS/JPU/\" +\n  \"JQR/JRA/JSC/JSH/JSR/JSU/JSV/JUG/JUM/JWE/LAS/LAT/\" +\n  \"LCT/LIN/LMP/MAT/MCS/MGR/MGT/MGY/MHB/MIJ/MST/MUN/\" +\n  \"MUS/NEW/NFS/NMC/NML/NUS/PCJ/PCL/PHC/PHL/PHS/PHY/\" +\n  \"PLN/POL/PPG/PRT/PSL/PSY/REN/RLG/RSM/SAS/SDS/SLA/\" +\n  \"SMC/SOC/SPA/STA/SWE/SWK/TRN/UNI/URB/USA/UTP/VIC/\" +\n  \"WDW/WGS/WRR\"\n).split(\"/\");\n\nconst daytime = [\n  {\n    value: \"AM\",\n    label: \"Morning\",\n  },\n  {\n    value: \"PM\",\n    label: \"Afternoon\",\n  },\n  {\n    value: \"EVE\",\n    label: \"Evening\",\n  },\n];\n\nconst studyYears = [\n  {\n    value: \"1\",\n    label: \"100-level\",\n  },\n  {\n    value: \"2\",\n    label: \"200-level\",\n  },\n  {\n    value: \"3\",\n    label: \"300-level\",\n  },\n  {\n    value: \"4\",\n    label: \"400-level\",\n  },\n];\n\nconst weekdays = [\n  {\n    value: \"MO\",\n    label: \"Mon\",\n  },\n  {\n    value: \"TU\",\n    label: \"Tue\",\n  },\n  {\n    value: \"WE\",\n    label: \"Wed\",\n  },\n  {\n    value: \"TH\",\n    label: \"Thu\",\n  },\n  {\n    value: \"FR\",\n    label: \"Fri\",\n  },\n];\n\nconst breadth = [\n  {\n    value: \"1\",\n    label: \"Creative and Cultural Representations (1)\",\n  },\n  {\n    value: \"2\",\n    label: \"Thought, Belief and Behaviour (2)\",\n  },\n  {\n    value: \"3\",\n    label: \"Society and its Institutions (3)\",\n  },\n  {\n    value: \"4\",\n    label: \"Living Things and Their Environment (4)\",\n  },\n  {\n    value: \"5\",\n    label: \"The Physical and Mathematical Universes (5)\",\n  },\n];\n\nconst deliveryModes = [\n  {\n    value: \"ONLSYNC\",\n    label: \"Online - Synchronous\",\n  },\n  {\n    value: \"ONLASYNC\",\n    label: \"Online - Asynchronous\",\n  },\n  {\n    value: \"CLASS\",\n    label: \"In-person\",\n  },\n  {\n    value: \"INPER\",\n    label: \"In-person\",\n  },\n];\n\nconst sections = [\n  {\n    value: \"F\",\n    label: \"Fall (F)\",\n  },\n  {\n    value: \"S\",\n    label: \"Winter (S)\",\n  },\n  {\n    value: \"Y\",\n    label: \"Year (Y)\",\n  },\n];\n\nconst departments = [\n  { value: \"CSUS\", label: \"American Studies (AMS) (USA)\" },\n  { value: \"ANA\", label: \"Anatomy (ANA)\" },\n  {\n    value: \"ANT\",\n    label: \"Anthropology (ANT) (ARH) (HAJ) (JAH) (JAL) (JAR) (JGA)\",\n  },\n  {\n    value: \"ARCLA\",\n    label: \"Architecture, Landscape & Design, Faculty of (FOR) (ARC)\",\n  },\n  { value: \"FAR\", label: \"Art History (FAH)\" },\n  { value: \"AST\", label: \"Astronomy & Astrophysics (AST) (JCA) (PLN)\" },\n  { value: \"BCH\", label: \"Biochemistry (BCH)\" },\n  {\n    value: \"CITA\",\n    label: \"Canadian Institute for Theoretical Astrophysics (CTA)\",\n  },\n  { value: \"CSB\", label: \"Cell and Systems Biology (CSB) (BCB) (BIO) (CJH)\" },\n  { value: \"CHM\", label: \"Chemistry (CHM) (JCC) (JSC) (NUS) (PHC)\" },\n  { value: \"CINE\", label: \"Cinema Studies (CIN)\" },\n  { value: \"CLAS\", label: \"Classics (CLA) (GRK) (LAT)\" },\n  { value: \"COL\", label: \"Comparative Literature (COL) (JDC)\" },\n  { value: \"CSC\", label: \"Computer Science (CSC) (COG) (ECE) (JCC) (JSC)\" },\n  { value: \"OISUT\", label: \"Concurrent Teacher Education Program (EDU)\" },\n  { value: \"ASI\", label: \"Contemporary Asian Studies (CAS) (JHA) (JPA) (SAS)\" },\n  {\n    value: \"CRIM\",\n    label: \"Criminology and Sociolegal Studies, Centre for (CRI)\",\n  },\n  { value: \"DTS\", label: \"Diaspora and Transnational Studies (DTS)\" },\n  {\n    value: \"DRAMA\",\n    label:\n      \"Drama, Theatre and Performance Studies, Centre for (DRM) (JDC) (JIA)\",\n  },\n  {\n    value: \"ES\",\n    label: \"Earth Sciences (ESS) (JEG) (JGA) (ENV) (JEE) (JPA) (JPE)\",\n  },\n  { value: \"EAS\", label: \"East Asian Studies (EAS)\" },\n  {\n    value: \"EEB\",\n    label:\n      \"Ecology & Evolutionary Biology (EEB) (BIO) (EHJ) (ENV) (JMB) (JHE) (NUS)\",\n  },\n  { value: \"ECO\", label: \"Economics (ECO)\" },\n  { value: \"ENG\", label: \"English (ENG) (JEI) (JWE)\" },\n  { value: \"ENT\", label: \"Entrepreneurship, Centre for (IMC) (ENT)\" },\n  { value: \"ENVMT\", label: \"Environment, School of (ENV) (JEE) (JEH) (JGE)\" },\n  { value: \"ETHIC\", label: \"Ethics, Centre for (ETH)\" },\n  { value: \"CERES\", label: \"European Studies (EUR) (HUN) (MGR) (JRA)\" },\n  { value: \"FRE\", label: \"French (FRE) (FCS) (FSL) (JFG) (JFL) (JFV)\" },\n  {\n    value: \"GGR\",\n    label: \"Geography (GGR) (JFG) (JFE) (JGE) (JGI) (JUG) (JEG) (JGU) (JIG)\",\n  },\n  { value: \"GER\", label: \"German (GER) (JFG) (JGJ)\" },\n  { value: \"HIS\", label: \"History (HIS) (JHA) (JHP) (JHN) (JSH) (JAH)\" },\n  {\n    value: \"IHPST\",\n    label: \"History and Philosophy of Science and Technology (HPS) (JHE) (JPH)\",\n  },\n  {\n    value: \"HMB\",\n    label: \"Human Biology (HMB) (CJH) (HAJ) (JEH) (EHJ) (JHA) (JNH)\",\n  },\n  { value: \"IMM\", label: \"Immunology (IMM) (MIJ)\" },\n  { value: \"ASABS\", label: \"Indigenous Studies (INS) (JFP) (JIG) (JPI)\" },\n  {\n    value: \"IRE\",\n    label: \"Industrial Relations and Human Resources, Centre for (IRE)\",\n  },\n  {\n    value: \"INNIS\",\n    label: \"Innis College (INI) (JGI) (JEI) (JGU) (JWE) (URB) (WRR)\",\n  },\n  { value: \"ITA\", label: \"Italian (ITA) (JCI)\" },\n  { value: \"JSP\", label: \"Jewish Studies, Centre for (CJS) (JGJ)\" },\n  { value: \"LMP\", label: \"Laboratory Medicine and Pathobiology (LMP)\" },\n  { value: \"LIN\", label: \"Linguistics (LIN) (JLP) (JLS) (JAL) (JFL) (ARH)\" },\n  { value: \"MAT\", label: \"Mathematics (MAT) (APM) (JMB) (JUM)\" },\n  { value: \"MST\", label: \"Medieval Studies, Centre for (MST)\" },\n  { value: \"MEDGM\", label: \"Molecular Genetics and Microbiology (MGY) (MIJ)\" },\n  { value: \"MUSIC\", label: \"Music (MUS)\" },\n  { value: \"NMC\", label: \"Near & Middle Eastern Civilizations (NMC) (NML)\" },\n  {\n    value: \"NEW\",\n    label:\n      \"New College (NEW) (AFR) (BPM) (CAR) (CSE) (ELL) (IFP) (JHN) (JLN) (JNH) (JNR) (JNS) (JQR) (UTP)\",\n  },\n  { value: \"NUSCI\", label: \"Nutritional Sciences (NFS)\" },\n  {\n    value: \"GLAF\",\n    label: \"Peace, Conflict and Justice Studies (PCJ) (MUN) (PPG)\",\n  },\n  { value: \"PCL\", label: \"Pharmacology (PCL) (JPM)\" },\n  { value: \"PHL\", label: \"Philosophy (PHL)\" },\n  { value: \"PHY\", label: \"Physics (PHY) (ENV) (JPE) (JPH) (JPA) (JOP) (IVP)\" },\n  { value: \"PSL\", label: \"Physiology (PSL) (JPM)\" },\n  {\n    value: \"POL\",\n    label:\n      \"Political Science (POL) (JHP) (JPA) (JPD) (JPF) (JPI) (JPP) (JPR) (JPS) (JPU) (JRA)\",\n  },\n  { value: \"PSY\", label: \"Psychology (PSY) (JLP)\" },\n  { value: \"RLG\", label: \"Religion (RLG) (MHB) (JAR) (JNR) (JPR) (JSR)\" },\n  { value: \"COMPG\", label: \"Rotman Commerce (RSM) (MGT)\" },\n  {\n    value: \"SDST\",\n    label:\n      \"Sexual Diversity Studies, Mark S. Bonham Centre (SDS) (JNS) (JPS) (JPU) (JSU)\",\n  },\n  {\n    value: \"SLA\",\n    label: \"Slavic Languages and Literature (SLA) (EST) (FIN) (JSH) (SWE)\",\n  },\n  { value: \"SWK\", label: \"Social Work (SWK)\" },\n  { value: \"SOC\", label: \"Sociology (SOC)\" },\n  { value: \"SAS\", label: \"South Asian Studies (SAS)\" },\n  { value: \"SPA\", label: \"Spanish (SPA) (PRT) (LAS)\" },\n  {\n    value: \"SMC\",\n    label: \"St. Michael's College (SMC) (BMS) (CHC) (CLT) (JCA) (MST)\",\n  },\n  { value: \"STAT\", label: \"Statistical Sciences (STA) (ACT) (JSC)\" },\n  { value: \"TRIN\", label: \"Trinity College (TRN)\" },\n  {\n    value: \"UC\",\n    label:\n      \"University College (UNI) (CDN) (COG) (HST) (JCI) (JSU) (JUG) (JUM) (PHS)\",\n  },\n  {\n    value: \"VIC\",\n    label:\n      \"Victoria College (VIC) (CRE) (EDS) (IVP) (JSV) (JFV) (LCT) (MCS) (REN)\",\n  },\n  { value: \"WGSI\", label: \"Women and Gender Studies (WGS)\" },\n  { value: \"WDW\", label: \"Woodsworth College (WDW) (ABP) (DHU)\" },\n];\n\nexport {\n  years,\n  deptCodes,\n  instances,\n  daytime,\n  studyYears,\n  weekdays,\n  breadth,\n  deliveryModes,\n  sections,\n  departments,\n};\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport {\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  Pagination,\n  Stack,\n  TextField,\n  Typography,\n} from \"@mui/material\";\n\nimport { Link as RouterLink } from \"react-router-dom\";\nimport _ from \"lodash\";\n\nimport { styles } from \"../theme\";\nimport { Loader } from \"./Loader\";\nimport { years } from \"../utilities/searchOptions.js\";\n\nconst Search = ({ fetchedData, setFetchedData, onCourseSelection }) => {\n  // search\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const [loading, setLoading] = useState(false);\n  const [searched, setSearched] = useState(false);\n\n  // pagination\n  const itemsPerPage = 10;\n  const [page, setPage] = useState(1);\n  const [noOfPages, setNoOfPages] = useState(\n    Math.ceil(Object.keys(fetchedData).length / itemsPerPage)\n  );\n\n  const onCourseClick = () => {\n    onCourseSelection();\n  };\n\n  useEffect(() => {\n    let didCancel = false;\n    const search = async () => {\n      const url = `https://ionice.herokuapp.com/https://timetable.iit.artsci.utoronto.ca/api/${\n        years.slice(-1)[0][\"value\"]\n      }/courses?code=${searchTerm}`;\n      const retrievedOn = new Date();\n      const { data } = await axios.get(url, { headers: {} });\n\n      Object.keys(data).forEach((key) => {\n        data[key][\"updated\"] = retrievedOn;\n      });\n\n      if (!didCancel) {\n        setFetchedData(data);\n        setNoOfPages(Math.ceil(Object.keys(data).length / itemsPerPage));\n      }\n    };\n\n    const execute = () => {\n      setLoading(true);\n      setSearched(true);\n      setPage(1);\n      search().then(() => setLoading(false));\n    };\n\n    const timerId = setTimeout(() => {\n      if (searchTerm) {\n        execute();\n      }\n    }, 500);\n\n    return () => {\n      clearTimeout(timerId);\n      didCancel = true;\n    };\n  }, [searchTerm, setFetchedData]);\n\n  return (\n    <Stack flex={1} spacing={1}>\n      <SearchOptions\n        searchTerm={searchTerm}\n        setSearchTerm={setSearchTerm}\n        setSearched={setSearched}\n      />\n      <Results\n        loading={loading}\n        data={fetchedData}\n        onCourseClick={onCourseClick}\n        pageControl={[page, setPage]}\n        noOfPages={noOfPages}\n        itemsPerPage={itemsPerPage}\n        searched={searched}\n      />\n    </Stack>\n  );\n};\n\nconst SearchOptions = ({ searchTerm, setSearchTerm, setSearched }) => {\n  return (\n    <form noValidate autoComplete=\"off\">\n      <Stack spacing={1}>\n        <TextField\n          id=\"code-input\"\n          label=\"Course Code\"\n          variant=\"outlined\"\n          placeholder=\"Quick search\"\n          value={searchTerm}\n          onChange={(e) => {\n            if (!e.target.value) {\n              setSearched(false);\n            }\n            setSearchTerm(e.target.value.toUpperCase());\n          }}\n          fullWidth\n          size=\"small\"\n          flex={1}\n        />\n        <Typography variant=\"caption\">\n          Quick search shows courses for the latest timetable only. For more\n          options, use the regular search function.\n        </Typography>\n      </Stack>\n    </form>\n  );\n};\n\nconst Results = ({\n  loading,\n  searched,\n  data,\n  onCourseClick,\n  pageControl,\n  itemsPerPage,\n  noOfPages,\n}) => {\n  // only show results if not loading, search term is not empty, and there are actually results\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (!searched) {\n    return (\n      <Stack spacing={1} justifyContent=\"center\" alignItems=\"center\">\n        <Divider flexItem />\n        <Typography variant=\"body2\">\n          Start searching to see courses here!\n        </Typography>\n      </Stack>\n    );\n  }\n\n  if (data === null || _.isEmpty(data)) {\n    return (\n      <Stack spacing={1} justifyContent=\"center\" alignItems=\"center\">\n        <Divider flexItem />\n        <Typography variant=\"body2\">No courses found.</Typography>\n      </Stack>\n    );\n  }\n\n  const classes = styles();\n\n  const [page, setPage] = pageControl;\n  const handlePageChange = (event, value) => {\n    setPage(value);\n  };\n\n  return (\n    <Stack spacing={1}>\n      <Divider />\n\n      <Pagination\n        count={noOfPages}\n        page={page}\n        onChange={handlePageChange}\n        defaultPage={1}\n        siblingCount={0}\n        boundaryCount={1}\n        color=\"primary\"\n        sx={{ ul: classes.paginator }}\n      />\n\n      <Divider />\n\n      <List dense>\n        {Object.keys(data)\n          .slice((page - 1) * itemsPerPage, page * itemsPerPage)\n          .map((key) => {\n            const result = data[key];\n            const { courseTitle, code, section, session } = result;\n            return (\n              <ListItem\n                button\n                key={key}\n                onClick={() => onCourseClick(result)}\n                component={RouterLink}\n                to={`/course/${session}/${section.toLowerCase()}/${code.toLowerCase()}`}\n              >\n                <ListItemText\n                  primary={courseTitle}\n                  secondary={`${code}${section}`}\n                />\n              </ListItem>\n            );\n          })}\n      </List>\n    </Stack>\n  );\n};\n\nexport { Search as QuickSearchPanel };\n","import {\n  Box,\n  Divider,\n  Drawer as MuiDrawer,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemIcon,\n  ListItemText,\n  ListSubheader,\n  Toolbar,\n} from \"@mui/material\";\n\nimport { Link as RouterLink, useLocation } from \"react-router-dom\";\n\nimport BookmarksIcon from \"@mui/icons-material/Bookmarks\";\nimport SearchIcon from \"@mui/icons-material/Search\";\n\nimport { styles } from \"../theme\";\n\nconst sx = (drawerWidth) => ({\n  mobileSx: {\n    display: { xs: \"block\", md: \"none\" },\n    \"& .MuiDrawer-paper\": {\n      boxSizing: \"border-box\",\n      width: drawerWidth,\n    },\n  },\n  permanentSx: {\n    display: { xs: \"none\", md: \"block\" },\n    \"& .MuiDrawer-paper\": {\n      boxSizing: \"border-box\",\n      width: drawerWidth,\n    },\n  },\n});\n\nconst ListEntry = ({\n  label,\n  icon,\n  right = null,\n  to = null,\n  onClick = null,\n}) => (\n  <ListItem>\n    <ListItemButton component={RouterLink} to={to} onClick={onClick}>\n      <ListItemIcon>{icon}</ListItemIcon>\n      <ListItemText primary={label} />\n      {right}\n    </ListItemButton>\n  </ListItem>\n);\n\nconst DrawerContent = ({ children, mobileClose }) => (\n  <List dense>\n    <ListEntry\n      label=\"Search\"\n      icon={<SearchIcon />}\n      to=\"/search\"\n      onClick={mobileClose}\n    />\n\n    <ListEntry\n      label=\"Bookmarks\"\n      icon={<BookmarksIcon />}\n      to=\"/bookmarks\"\n      onClick={mobileClose}\n    />\n\n    <ListSubheader id=\"search\" sx={{ backgroundColor: \"inherit\" }}>\n      Quick Search\n    </ListSubheader>\n\n    <ListItem disableGutters>\n      <Box paddingLeft={2} paddingRight={2} paddingBottom={1}>\n        {children}{\" \"}\n      </Box>\n    </ListItem>\n  </List>\n);\n\nconst Drawer = ({ children, navControl, mobile }) => {\n  const location = useLocation();\n\n  const [expandNav, setExpandNav] = navControl;\n\n  const classes = styles();\n  const drawerWidth = classes.drawerWidth;\n  const { mobileSx, permanentSx } = sx(drawerWidth);\n\n  const handleDrawerToggle = () => {\n    setExpandNav(!expandNav);\n  };\n\n  if (location.pathname === \"/\") {\n    return null;\n  }\n\n  return (\n    <Box sx={classes.drawer} aria-label=\"search\">\n      <MuiDrawer\n        variant={mobile ? \"temporary\" : \"permanent\"}\n        open={mobile ? expandNav : true}\n        onClose={mobile ? handleDrawerToggle : null}\n        ModalProps={{\n          keepMounted: true,\n        }}\n        sx={mobile ? mobileSx : permanentSx}\n      >\n        <Toolbar />\n        <Divider />\n        <DrawerContent\n          children={children}\n          mobileClose={mobile ? handleDrawerToggle : null}\n        />\n      </MuiDrawer>\n    </Box>\n  );\n};\n\nexport { Drawer };\n","import _ from \"lodash\";\n\nimport { years } from \"./searchOptions\";\n\nconst getPageTitle = (pathname, currDisplayedCourse, mobile) => {\n  if (pathname === \"/search\") {\n    return \"Search\";\n  } else if (pathname === \"/favorites\") {\n    return \"Favorites\";\n  } else if (pathname === \"/timetable\") {\n    return \"Timetable\";\n  } else if (pathname === \"/settings\") {\n    return \"Settings\";\n  } else if (pathname.startsWith(\"/course\")) {\n    if (_.isEmpty(currDisplayedCourse)) return \"\";\n    if (currDisplayedCourse.session !== _.last(years).value) {\n      const session = years.filter(\n        (obj) => obj.value === currDisplayedCourse.session\n      );\n      return `${currDisplayedCourse.code}${currDisplayedCourse.section} (${\n        !mobile ? \"Session: \" : \"\"\n      }${\n        !_.isEmpty(session)\n          ? session[0].short_label\n          : currDisplayedCourse.session\n      })`;\n    }\n    return `${currDisplayedCourse.code}${currDisplayedCourse.section}`;\n  } else {\n    return \"Boreal\";\n  }\n};\n\nconst getCourseId = (courseData) => {\n  if (_.isEmpty(courseData)) return null;\n  return `${courseData.code}-${courseData.section}-${courseData.session}`;\n};\n\nexport { getPageTitle, getCourseId };\n","import axios from \"axios\";\nimport { instances as sessions } from \"./searchOptions\";\n\nconst instance = () => {\n  return axios.create({\n    baseURL:\n      \"https://ionice.herokuapp.com/https://timetable.iit.artsci.utoronto.ca/api/\",\n    headers: {},\n  });\n};\n\n// valid params\n// org:\n// code:\n// section: f,s,y\n// studyyear: 1,2,3,4\n// daytime: am,pm,eve\n// weekday: MO,TU,WE,TH,FR\n// prof:\n// breadth: 1,2,3,4,5\n// deliverymode: onlsync,onlasync,class\n// online: t (if online is selected, delivery mode should be disabled)\n// waitlist: t (or blank if false)\n// available: t\n// fyfcourse: t\n// title:\n\nconst fetchCourseData = async ([session, section, code]) => {\n  const currDisplayedId = `${code}-${section}-${session}`;\n  const retrievedOn = new Date();\n\n  return await instance()\n    .get(`${session}/courses/`, {\n      params: { code, section },\n    })\n    .then((res) => {\n      return !res.data[currDisplayedId]\n        ? {}\n        : {\n            ...res.data[currDisplayedId],\n            updated: retrievedOn,\n          };\n    })\n    .catch(() => {\n      return {};\n    });\n};\n\nconst fetchPastOfferings = async (courseCode, omit = null) => {\n  const searchInstance = instance();\n\n  const pastSessions = omit\n    ? sessions.filter(({ session, section }) => {\n        if (session > omit[\"session\"]) return false;\n        return !(session === omit[\"session\"] && section >= omit[\"section\"]);\n      })\n    : sessions;\n\n  const exclude = omit ? omit[\"session\"] + omit[\"section\"] : \"\";\n\n  const store = {};\n  const promises = pastSessions.map(({ session }) =>\n    searchInstance.get(`${session}/courses/`, { params: { code: courseCode } })\n  );\n  return Promise.all(promises)\n    .then((values) => {\n      // each of the responses\n      values.forEach((v) => {\n        if (!Array.isArray(v.data)) {\n          // each of the course data object\n          Object.entries(v.data).forEach(([, cd]) => {\n            const { session, section } = cd;\n            if (\n              !store.hasOwnProperty(session + section) &&\n              session + section !== exclude\n            ) {\n              store[session + section] = cd;\n            }\n          });\n        }\n      });\n      return store;\n    })\n    .catch((error) => {\n      console.log(error);\n      return {};\n    });\n};\n\nexport { instance as getSearchInstance, fetchCourseData, fetchPastOfferings };\n","import {\n  AppBar as MuiAppBar,\n  CircularProgress,\n  IconButton,\n  Toolbar,\n  Tooltip,\n  Typography,\n  useScrollTrigger,\n} from \"@mui/material\";\nimport _ from \"lodash\";\n\nimport BookmarkAddIcon from \"@mui/icons-material/BookmarkAdd\";\nimport BookmarkRemoveIcon from \"@mui/icons-material/BookmarkRemove\";\nimport Brightness4Icon from \"@mui/icons-material/Brightness4\";\nimport Brightness7Icon from \"@mui/icons-material/Brightness7\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport RefreshIcon from \"@mui/icons-material/Refresh\";\n\nimport { styles } from \"../theme\";\nimport { cloneElement, useEffect, useState } from \"react\";\nimport { getCourseId } from \"../utilities/misc\";\nimport { fetchCourseData } from \"../utilities/fetcher\";\nimport { useLocation } from \"react-router-dom\";\n\nconst ElevationScroll = (props) => {\n  const { children } = props;\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0,\n  });\n\n  return cloneElement(children, {\n    elevation: trigger ? 4 : 0,\n  });\n};\n\nconst AppBar = ({\n  title,\n  expandNav,\n  setExpandNav,\n  dark,\n  setDark,\n  currDisplayedData,\n  setCurrDisplayedData,\n  favorites,\n  dispatchFavorites,\n  mobile,\n}) => {\n  const isCurrFavorite = Object.keys(favorites).includes(\n    getCourseId(currDisplayedData)\n  );\n  const [favorite, setFavorite] = useState(isCurrFavorite);\n  const location = useLocation();\n\n  useEffect(() => {\n    setFavorite(isCurrFavorite);\n  }, [title, isCurrFavorite]);\n\n  const handleDrawerToggle = () => {\n    setExpandNav(!expandNav);\n  };\n\n  const handleFavoritesToggle = () => {\n    dispatchFavorites({\n      type: !favorite ? \"add\" : \"remove\",\n      courseId: getCourseId(currDisplayedData),\n      payload: currDisplayedData,\n    });\n  };\n\n  const classes = styles();\n\n  const BrightnessButton = () => (\n    <Tooltip title={\"Toggle theme\"}>\n      <IconButton\n        color=\"inherit\"\n        aria-label=\"toggle theme\"\n        onClick={() => setDark(!dark)}\n      >\n        {dark ? <Brightness4Icon /> : <Brightness7Icon />}\n      </IconButton>\n    </Tooltip>\n  );\n\n  const FavoritesButton = () => {\n    if (!title) return null;\n\n    return (\n      <Tooltip title={`${favorite ? \"Remove from\" : \"Add to\"} bookmarks`}>\n        <IconButton color=\"inherit\" onClick={handleFavoritesToggle}>\n          {favorite ? <BookmarkRemoveIcon /> : <BookmarkAddIcon />}\n        </IconButton>\n      </Tooltip>\n    );\n  };\n\n  const RefreshButton = () => {\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n      let mounted = true;\n      if (loading) {\n        const { session, section, code } = currDisplayedData;\n        fetchCourseData([session, section, code]).then((data) => {\n          setCurrDisplayedData(data);\n          const currDisplayedId = `${code}-${section}-${session}`;\n          if (\n            data &&\n            favorites.hasOwnProperty(currDisplayedId) &&\n            favorites[currDisplayedId][\"updated\"] < data[\"updated\"]\n          ) {\n            dispatchFavorites({\n              type: \"add\",\n              courseId: currDisplayedId,\n              payload: data,\n            });\n          }\n          if (mounted) {\n            setLoading(false);\n          }\n        });\n      }\n      return () => {\n        mounted = false;\n      };\n    }, [loading]);\n\n    const onRefresh = () => {\n      setLoading(true);\n    };\n\n    if (!title || _.isEmpty(currDisplayedData)) return null;\n\n    if (loading) {\n      return (\n        <IconButton color=\"inherit\" disabled>\n          <CircularProgress size={24} color=\"inherit\" />\n        </IconButton>\n      );\n    }\n\n    return (\n      <Tooltip title=\"Refresh course\">\n        <IconButton color=\"inherit\" onClick={onRefresh}>\n          <RefreshIcon />\n        </IconButton>\n      </Tooltip>\n    );\n  };\n\n  const DrawerButton = () => {\n    if (!mobile || location.pathname === \"/\") return null;\n\n    return (\n      <IconButton\n        color=\"inherit\"\n        aria-label=\"open drawer\"\n        edge=\"start\"\n        onClick={handleDrawerToggle}\n        sx={classes.menuButton}\n      >\n        <MenuIcon />\n      </IconButton>\n    );\n  };\n\n  const Title = () => (\n    <Typography variant=\"h6\" sx={classes.flex}>\n      {title}\n    </Typography>\n  );\n\n  return (\n    <ElevationScroll>\n      <MuiAppBar\n        position=\"fixed\"\n        sx={location.pathname === \"/\" ? classes.appBarHome : classes.appBar}\n      >\n        <Toolbar>\n          <DrawerButton />\n          <Title />\n          <RefreshButton />\n          <FavoritesButton />\n          <BrightnessButton />\n        </Toolbar>\n      </MuiAppBar>\n    </ElevationScroll>\n  );\n};\n\nexport { AppBar };\n","import { Stack, Typography } from \"@mui/material\";\r\n\r\nconst SectionSubheader = ({ subheader }) => (\r\n  <Typography variant=\"h5\" paragraph>\r\n    {subheader}\r\n  </Typography>\r\n);\r\n\r\nconst Title = ({ title, retrievedOn }) => {\r\n  return (\r\n    <>\r\n      <Typography variant=\"h4\">{title}</Typography>\r\n      <Typography variant=\"body2\">{`Retrieved on ${retrievedOn}`}</Typography>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Description = ({ description }) => {\r\n  if (!description) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography\r\n      variant=\"body1\"\r\n      dangerouslySetInnerHTML={{\r\n        __html: description,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst Prerequisites = ({ prerequisite }) => {\r\n  if (!prerequisite) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography variant=\"body1\">{`Pre-requisites: ${prerequisite}`}</Typography>\r\n  );\r\n};\r\n\r\nconst Corequisites = ({ corequisite }) => {\r\n  if (!corequisite) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography variant=\"body1\">{`Co-requisites: ${corequisite}`}</Typography>\r\n  );\r\n};\r\n\r\nconst Exclusions = ({ exclusion }) => {\r\n  if (!exclusion) {\r\n    return null;\r\n  }\r\n\r\n  return <Typography variant=\"body1\">{`Exclusions: ${exclusion}`}</Typography>;\r\n};\r\n\r\nconst RecommendedPreparation = ({ recommendedPreparation }) => {\r\n  if (!recommendedPreparation) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography variant=\"body1\">{`Recommended preparation: ${recommendedPreparation}`}</Typography>\r\n  );\r\n};\r\n\r\nconst Breadth = ({ breadthCategories }) => {\r\n  if (!breadthCategories) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography variant=\"body1\">{`Breadth categories: ${breadthCategories}`}</Typography>\r\n  );\r\n};\r\n\r\nconst Distribution = ({ distributionCategories }) => {\r\n  if (!distributionCategories) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography variant=\"body1\">{`Distribution categories: ${distributionCategories}`}</Typography>\r\n  );\r\n};\r\n\r\nconst TimetableInstructions = ({ webTimetableInstructions }) => {\r\n  if (!webTimetableInstructions) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"body1\">Timetable instructions:</Typography>\r\n      <Typography\r\n        variant=\"body1\"\r\n        dangerouslySetInnerHTML={{\r\n          __html: webTimetableInstructions,\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst DeliveryInstructions = ({ deliveryInstructions }) => {\r\n  if (!deliveryInstructions) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"body1\">Delivery instructions:</Typography>\r\n      <Typography\r\n        variant=\"body1\"\r\n        dangerouslySetInnerHTML={{\r\n          __html: deliveryInstructions,\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst Limitations = ({\r\n  prerequisite,\r\n  corequisite,\r\n  exclusion,\r\n  recommendedPreparation,\r\n}) => {\r\n  if (!prerequisite && !corequisite && !exclusion && !recommendedPreparation) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <SectionSubheader subheader=\"Enrollment limitations\" />\r\n      <Prerequisites prerequisite={prerequisite} />\r\n      <Corequisites corequisite={corequisite} />\r\n      <Exclusions exclusion={exclusion} />\r\n      <RecommendedPreparation recommendedPreparation={recommendedPreparation} />\r\n    </Stack>\r\n  );\r\n};\r\n\r\nconst BreadthClassifications = ({\r\n  breadthCategories,\r\n  distributionCategories,\r\n}) => {\r\n  if (!breadthCategories && !distributionCategories) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <SectionSubheader subheader=\"Breadth classifications\" />\r\n      <Breadth breadthCategories={breadthCategories} />\r\n      <Distribution distributionCategories={distributionCategories} />\r\n    </Stack>\r\n  );\r\n};\r\n\r\nconst AdditionalInstructions = ({\r\n  webTimetableInstructions,\r\n  deliveryInstructions,\r\n}) => {\r\n  if (!webTimetableInstructions && !deliveryInstructions) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <SectionSubheader subheader=\"Additional instructions\" />\r\n      <TimetableInstructions\r\n        webTimetableInstructions={webTimetableInstructions}\r\n      />\r\n      <DeliveryInstructions deliveryInstructions={deliveryInstructions} />\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport {\r\n  Title,\r\n  Description,\r\n  Limitations,\r\n  BreadthClassifications,\r\n  AdditionalInstructions,\r\n};\r\n","import _ from \"lodash\";\n\nconst formatDayOfWeek = (date, full) => {\n  switch (date) {\n    case \"MO\":\n      return full ? \"Mon\" : \"M\";\n    case \"TU\":\n      return full ? \"Tue\" : \"T\";\n    case \"WE\":\n      return full ? \"Wed\" : \"W\";\n    case \"TH\":\n      return full ? \"Thu\" : \"R\";\n    case \"FR\":\n      return full ? \"Fri\" : \"F\";\n    default:\n      return null;\n  }\n};\n\nconst formatInstructors = (instructors) => {\n  if (_.isEmpty(instructors)) return \"TBA\";\n  let string = \"\";\n  Object.entries(instructors).forEach(([, value]) => {\n    const { lastName, firstName } = value;\n    string += firstName + \". \" + lastName + \", \";\n  });\n  return string.substring(0, string.length - 2);\n};\n\nconst formatLocation = (assignedRoom1, assignedRoom2) => {\n  // both rooms N/A\n  if (!assignedRoom1 && !assignedRoom2) {\n    return \"TBA\";\n  }\n\n  // both rooms are used\n  if (assignedRoom1 && assignedRoom2) {\n    if (assignedRoom1 === assignedRoom2) {\n      return assignedRoom1;\n    }\n    return assignedRoom1 + \"/\" + assignedRoom2;\n  }\n\n  // only 1 room is used\n  return assignedRoom1 ? assignedRoom1 : assignedRoom2;\n};\n\nconst formatSessionInfo = (meetingSession, full) => {\n  const {\n    meetingDay,\n    meetingStartTime,\n    meetingEndTime,\n    assignedRoom1,\n    assignedRoom2,\n  } = meetingSession;\n\n  const date = formatDayOfWeek(meetingDay, full);\n\n  const time = full\n    ? meetingStartTime + \" – \" + meetingEndTime\n    : meetingStartTime.replace(\":\", \"\") + \"–\" + meetingEndTime.replace(\":\", \"\");\n\n  if (!full) {\n    return date + \" \" + time;\n  }\n\n  const room = formatLocation(assignedRoom1, assignedRoom2);\n  return date + \" \" + time + \" \" + (full ? \"at \" : \"\") + room;\n};\n\nconst formatCapacity = (capacity, enrollment, waitlist, waitlistable, full) => {\n  const spotsLeft = Number(capacity) - Number(enrollment);\n\n  if (!full) {\n    if (spotsLeft > 0) return \"Available: \" + spotsLeft;\n    if (!waitlistable) return \"Full, no waitlisting\";\n    return \"Waitlist: \" + waitlist;\n  }\n\n  if (spotsLeft > 0)\n    return `Remaining capacity: ${spotsLeft + \" out of \" + capacity}`;\n  if (!waitlistable) return `Full, no waitlisting. (capacity: ${capacity})`;\n  return `Waitlist: ${waitlist} (capacity: ${capacity})`;\n};\n\nconst formatDeliveryMode = (deliveryMode, full) => {\n  switch (deliveryMode) {\n    case \"CLASS\":\n    case \"INPER\":\n      return \"In person\";\n    case \"ONLSYNC\":\n      return full ? \"Online — Synchronous\" : \"Online Sync\";\n    case \"ONLASYNC\":\n      return full ? \"Online — Asynchronous\" : \"Online Async\";\n    case \"ONL\":\n      return \"Online\";\n    default:\n      return null;\n  }\n};\n\nconst formatPriorityGroup = (groupData) => {\n  // note that restrictedGroup can be undefined\n  const { postCode, postName, restrictedGroup } = groupData;\n  const group = restrictedGroup ? `Group ${restrictedGroup} — ` : \"\";\n  if (postCode && postName) return group + postCode + \" \" + postName;\n\n  const {\n    yearOfStudy,\n    primaryOrgName,\n    secondaryOrgName,\n    assocOrgName,\n    adminOrgName,\n  } = groupData;\n\n  const year =\n    !yearOfStudy || yearOfStudy === \"*\" ? \"\" : `Year ${yearOfStudy} `;\n  const dept = adminOrgName\n    ? adminOrgName\n    : secondaryOrgName\n    ? secondaryOrgName\n    : \"\";\n\n  const college = assocOrgName ? assocOrgName : \"\";\n  const faculty = primaryOrgName\n    ? primaryOrgName + (year + (dept ? dept : college) ? \": \" : \"\")\n    : \"\";\n\n  return group + faculty + year + (dept ? dept : college);\n};\n\nconst getPriorityCodeDescription = (code) => {\n  switch (code) {\n    case \"P\":\n      return \"Some students are given priority access until a specific date.\";\n    case \"E\":\n      return \"Students must contact the sponsoring Department to enrol.\";\n    case \"AE\":\n      return \"Students must request enrolment on ACORN and await Departmental review of their request.\";\n    case \"PE\":\n      return \"Some students are given priority access until a specific date, after which time another group of students is also able to enrol by contacting the sponsoring Department.\";\n    case \"R1\":\n      return \"Course/section is restricted at all times for specific students.\";\n    case \"R2\":\n      return \"Course/section is restricted to a group of students until a specific date, after which time another group of students is also able to enrol.\";\n    default:\n      return \"\";\n  }\n};\n\nconst formatDate = (date) => {\n  if (!date) {\n    return null;\n  }\n  const sections = date.toString().split(\" \");\n  return `${sections[1]} ${sections[2]} ${sections[3]} ${sections[4]} ${sections[6]} ${sections[7]} ${sections[8]}`;\n};\n\nconst getYearLabel = (session, section) => {\n  const seasonLabel = session.substring(4);\n  section = section.toLowerCase();\n\n  const year =\n    (seasonLabel === \"9\" && section === \"f\") || seasonLabel === \"5\"\n      ? session.substring(2, 4)\n      : Number(session.substring(2, 4)) + 1;\n  let season;\n  if (seasonLabel === \"9\") {\n    if (section === \"f\") {\n      season = \"Fall\";\n    } else if (section === \"s\") {\n      season = \"Winter\";\n    } else {\n      season = \"Year-long\";\n    }\n  } else {\n    season = \"Summer \";\n    season +=\n      section === \"f\"\n        ? \"(1st half)\"\n        : section === \"s\"\n        ? \"(2nd half)\"\n        : \"(full session)\";\n  }\n\n  return `'${year} ${season}`;\n};\n\nconst extractInstructorsAndOccupancy = (meetings) => {\n  const lectures = Object.entries(meetings).filter(\n    ([, v]) => v[\"teachingMethod\"] === \"LEC\"\n  );\n\n  const instructorsSet = new Set();\n  const instructors = [];\n  let ratio = 0;\n  lectures.forEach(([, v]) => {\n    Object.entries(v[\"instructors\"]).forEach(([, instructor]) => {\n      const name = `${instructor[\"firstName\"]}. ${instructor[\"lastName\"]}`;\n      if (!instructorsSet.has(name)) {\n        instructors.push(name);\n        instructorsSet.add(name);\n      }\n    });\n    if (!v[\"cancel\"] && Number(v[\"enrollmentCapacity\"] > 0)) {\n      ratio += Number(v[\"actualEnrolment\"]) / Number(v[\"enrollmentCapacity\"]);\n    }\n  });\n\n  return [\n    instructors\n      .sort((a, b) => (a.split(\" \")[1] > b.split(\" \")[1] ? 1 : -1))\n      .join(\", \"),\n    lectures.length !== 0 ? ratio / lectures.length : 0,\n  ];\n};\n\nexport {\n  formatDate,\n  formatDeliveryMode,\n  formatInstructors,\n  formatCapacity,\n  formatPriorityGroup,\n  formatSessionInfo,\n  getPriorityCodeDescription,\n  getYearLabel,\n  extractInstructorsAndOccupancy,\n};\n","import {\n  Dialog,\n  DialogContent as MuiDialogContent,\n  DialogTitle,\n  Divider,\n  IconButton,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemText,\n  Stack,\n  Typography,\n  useMediaQuery,\n  useTheme,\n} from \"@mui/material\";\n\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\nimport { useState } from \"react\";\nimport _ from \"lodash\";\n\nimport {\n  formatCapacity,\n  formatDeliveryMode,\n  formatInstructors,\n  formatPriorityGroup,\n  formatSessionInfo,\n  getPriorityCodeDescription,\n} from \"../../utilities/courseFormatter\";\n\nconst MeetingListing = ({ meeting, onClick }) => {\n  const {\n    schedule,\n    instructors,\n\n    teachingMethod, // LEC, TUT, PRA\n    sectionNumber,\n\n    enrollmentCapacity,\n    actualEnrolment,\n    actualWaitlist,\n    waitlist, // Y, N\n\n    deliveryMode, // CLASS, ONLSYNC, ONLASYNC\n\n    enrollmentIndicator, // P, E, AE, PE, R1, R2\n    enrollmentControls,\n\n    cancel,\n  } = meeting;\n\n  const ListItemSecondary = () => {\n    const theme = useTheme();\n    const fontVariant = useMediaQuery(theme.breakpoints.down(\"sm\"))\n      ? \"caption\"\n      : \"body2\";\n\n    if (cancel) {\n      return <Typography variant={fontVariant}>Cancelled</Typography>;\n    }\n\n    const full = false;\n    const Instructors = (instructors) => {\n      if (useMediaQuery(theme.breakpoints.down(\"sm\"))) {\n        return null;\n      }\n\n      return (\n        <Typography variant={fontVariant} display={{ xs: \"none\", sm: \"block\" }}>\n          {formatInstructors(instructors)}\n        </Typography>\n      );\n    };\n\n    const EnrollmentIndicator = (enrollmentIndicator) => {\n      if (useMediaQuery(theme.breakpoints.down(\"sm\")) || !enrollmentIndicator) {\n        return null;\n      }\n\n      return (\n        <Typography variant={fontVariant}>{enrollmentIndicator}</Typography>\n      );\n    };\n\n    return (\n      <Stack\n        spacing={1}\n        direction=\"row\"\n        divider={<Divider orientation=\"vertical\" flexItem />}\n      >\n        <Typography variant={fontVariant}>\n          {formatCapacity(\n            enrollmentCapacity,\n            actualEnrolment,\n            actualWaitlist,\n            waitlist,\n            full\n          )}\n        </Typography>\n\n        <Typography variant={fontVariant}>\n          {formatDeliveryMode(deliveryMode, full)}\n        </Typography>\n\n        {Instructors(instructors)}\n\n        {Object.entries(schedule).map(([k, v]) => {\n          if (k === \"-\") return null;\n          return (\n            <Typography variant={fontVariant} key={k}>\n              {formatSessionInfo(v, full)}\n            </Typography>\n          );\n        })}\n\n        {EnrollmentIndicator(enrollmentIndicator)}\n      </Stack>\n    );\n  };\n\n  const lectureSection = `${teachingMethod + sectionNumber}`;\n\n  const getDataForDialog = () => {\n    const full = true;\n    return {\n      section: lectureSection,\n      instructors: formatInstructors(instructors),\n      meetings: Object.entries(schedule)\n        .filter(([k]) => k !== \"-\")\n        .map(([, v]) => formatSessionInfo(v, full)),\n      delivery: formatDeliveryMode(deliveryMode, full),\n      priority: enrollmentIndicator,\n      capacity: formatCapacity(\n        enrollmentCapacity,\n        actualEnrolment,\n        actualWaitlist,\n        waitlist,\n        full\n      ),\n      priorityGroups: enrollmentControls.map((entry) =>\n        formatPriorityGroup(entry)\n      ),\n    };\n  };\n\n  const onItemClick = () => {\n    onClick(getDataForDialog());\n  };\n\n  return (\n    <ListItem disableGutters>\n      <ListItemButton onClick={onItemClick} disabled={Boolean(cancel)}>\n        <Stack>\n          <ListItemText primary={lectureSection} />\n          <ListItemSecondary />\n        </Stack>\n      </ListItemButton>\n    </ListItem>\n  );\n};\n\nconst MeetingListings = ({ data, onListEntryClick, section, code }) => (\n  <List dense>\n    {Object.entries(data).map(([k, v]) => {\n      return (\n        <MeetingListing\n          meeting={v}\n          onClick={onListEntryClick}\n          key={k}\n          section={section}\n          code={code}\n        />\n      );\n    })}\n  </List>\n);\n\nconst DialogContent = ({ data }) => {\n  const {\n    instructors,\n    meetings,\n    delivery,\n    priority,\n    capacity,\n    priorityGroups,\n  } = data;\n  const [showGroups, setShowGroups] = useState(false);\n\n  return (\n    <MuiDialogContent>\n      <Stack spacing={2} divider={<Divider />}>\n        <Typography variant=\"body1\">{`Instructors: ${instructors}`}</Typography>\n        <Typography variant=\"body1\">{`Delivery mode: ${delivery}`}</Typography>\n        <Typography variant=\"body1\">{capacity}</Typography>\n        {!_.isEmpty(meetings) ? (\n          <Stack>\n            <Typography variant=\"body1\" paragraph>\n              Meetings:\n            </Typography>\n            {meetings.map((entry) => (\n              <Typography variant=\"body2\" key={entry}>\n                {entry}\n              </Typography>\n            ))}\n          </Stack>\n        ) : null}\n        {priority ? (\n          <Stack>\n            <Typography variant=\"body1\" paragraph>\n              {`Enrollment priority: ${priority}`}\n            </Typography>\n            <Typography variant=\"body2\">\n              {getPriorityCodeDescription(priority)}\n            </Typography>\n          </Stack>\n        ) : null}\n        {!_.isEmpty(priorityGroups) ? (\n          <Stack>\n            <Stack\n              direction=\"row\"\n              spacing={1}\n              alignItems=\"center\"\n              paddingBottom={1}\n            >\n              <Typography variant=\"body1\">Priority student groups:</Typography>\n              <IconButton onClick={() => setShowGroups(!showGroups)}>\n                <KeyboardArrowDownIcon\n                  sx={{\n                    transform: showGroups ? \"rotate(-180deg)\" : \"rotate(0)\",\n                    transition: \"0.2s\",\n                  }}\n                />\n              </IconButton>\n            </Stack>\n\n            <Stack sx={{ display: showGroups ? \"block\" : \"none\" }}>\n              {priorityGroups.map((entry, index) => (\n                <Typography variant=\"body2\" key={index}>\n                  {entry}\n                </Typography>\n              ))}\n            </Stack>\n          </Stack>\n        ) : null}\n      </Stack>\n    </MuiDialogContent>\n  );\n};\n\nconst CourseMeetings = ({ data, section, session, code }) => {\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [dialogData, setDialogData] = useState({\n    section: \"\",\n    instructors: \"\",\n    meetings: [],\n    delivery: \"\",\n    priority: \"\",\n    capacity: \"\",\n    priorityGroups: [],\n  });\n\n  if (!data) {\n    return null;\n  }\n\n  const entryClick = (data) => {\n    setDialogOpen(true);\n    setDialogData(data);\n  };\n\n  return (\n    <Stack>\n      <Typography variant=\"h5\" paragraph>\n        Meeting sections\n      </Typography>\n      <MeetingListings\n        data={data}\n        onListEntryClick={entryClick}\n        section={section}\n        session={session}\n        code={code}\n      />\n      <Dialog\n        open={dialogOpen}\n        onClose={() => setDialogOpen(false)}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogTitle>{dialogData.section}</DialogTitle>\n        <DialogContent data={dialogData} />\n      </Dialog>\n    </Stack>\n  );\n};\n\nexport { CourseMeetings };\n","import {\n  Divider,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemText,\n  Stack,\n  Typography,\n} from \"@mui/material\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport _ from \"lodash\";\n\nimport {\n  getYearLabel,\n  extractInstructorsAndOccupancy,\n} from \"../../utilities/courseFormatter\";\nimport { Loader } from \"../Loader\";\n\nconst PastOfferings = ({ data, loading, mobile }) => {\n  return (\n    <Stack divider={mobile ? null : <Divider />} spacing={mobile ? 0 : 2}>\n      <Typography variant=\"h5\" paragraph={mobile}>\n        Past offerings\n      </Typography>\n      <Content data={data} loading={loading} mobile={mobile} />\n    </Stack>\n  );\n};\n\nconst Content = ({ data, loading, mobile }) => {\n  if (!window.navigator.onLine) {\n    return (\n      <Typography variant=\"body2\">\n        Past offerings data is not available when offline.\n      </Typography>\n    );\n  }\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (!data || _.isEmpty(data)) {\n    return (\n      <Typography variant=\"body2\">\n        This course code has no past offerings.\n      </Typography>\n    );\n  }\n\n  return (\n    <List dense={!mobile}>\n      {Object.entries(data)\n        .reverse()\n        .map(([k, v]) => (\n          <Listing data={v} key={k} />\n        ))}\n    </List>\n  );\n};\n\nconst Listing = ({ data }) => {\n  const { session, code, section, meetings } = data;\n  const [instructors, occupancy] = extractInstructorsAndOccupancy(meetings);\n\n  const occupancyValue = occupancy ? Math.round(occupancy * 100) : 0;\n\n  return (\n    <ListItem disableGutters>\n      <ListItemButton\n        component={RouterLink}\n        to={`/course/${session}/${section.toLowerCase()}/${code.toLowerCase()}`}\n      >\n        <Stack>\n          <ListItemText primary={getYearLabel(session, section)} />\n          <Stack\n            direction=\"row\"\n            divider={<Divider orientation=\"vertical\" flexItem />}\n            spacing={1}\n          >\n            <Typography variant=\"caption\">{`Occupancy: ${occupancyValue}%`}</Typography>\n            <Typography variant=\"caption\">{instructors}</Typography>\n          </Stack>\n        </Stack>\n      </ListItemButton>\n    </ListItem>\n  );\n};\n\nexport { PastOfferings };\n","import {\n  Box,\n  Container,\n  Divider,\n  Grid,\n  Stack,\n  Typography,\n  useMediaQuery,\n  useTheme,\n} from \"@mui/material\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport _ from \"lodash\";\n\nimport {\n  Title,\n  Description,\n  Limitations,\n  BreadthClassifications,\n  AdditionalInstructions,\n} from \"../components/course/CourseInformation\";\nimport { CourseMeetings as Meetings } from \"../components/course/CourseMeetings\";\nimport { Loader } from \"../components/Loader\";\nimport { PastOfferings } from \"../components/course/PastOfferings\";\n\nimport { formatDate } from \"../utilities/courseFormatter\";\nimport {\n  fetchCourseData,\n  fetchPastOfferings as fetchHistoricalData,\n} from \"../utilities/fetcher\";\n\nconst CourseScreen = ({\n  currDisplayedData,\n  setCurrDisplayedData,\n  currFetchedData,\n  favorites,\n  dispatchFavorites,\n}) => {\n  const location = useLocation();\n  const [loading, setLoading] = useState(true);\n  const [loadingHistorical, setLoadingHistorical] = useState(true);\n  const [historicalData, setHistoricalData] = useState({});\n  const online = useRef(true);\n  const pathname = useRef(\"\");\n\n  const themeFunction = useTheme();\n  const singleColumn = useMediaQuery(themeFunction.breakpoints.down(\"lg\"));\n\n  // summary: on url change, try to load from current data, if not then\n  // 1) if offline: try to load from favorites\n  // 2) if online: fetch from api\n  // then push to curr displayed data\n  useEffect(() => {\n    let mounted = true;\n    if (location.pathname === pathname.current) {\n      setLoading(false);\n      setLoadingHistorical(false);\n      return;\n    }\n\n    pathname.current = location.pathname;\n    setCurrDisplayedData({});\n    setHistoricalData({});\n    online.current = window.navigator.onLine;\n    const pathData = pathnameSplitter(location.pathname);\n\n    const setCurrentData = async () => {\n      if (pathData.length !== 3) {\n        throw new Error(\"Invalid URL.\");\n      } else {\n        const [session, section, code] = pathData;\n        const currDisplayedId = `${code}-${section}-${session}`;\n\n        if (!online.current) {\n          if (favorites.hasOwnProperty(currDisplayedId)) {\n            setCurrDisplayedData(favorites[currDisplayedId]);\n          } else {\n            throw new Error(\"Offline and not favorited.\");\n          }\n        }\n\n        let data = {};\n        if (currFetchedData.hasOwnProperty(currDisplayedId)) {\n          data = currFetchedData[currDisplayedId];\n        } else if (online.current) {\n          data = await fetchCourseData(pathData);\n        }\n\n        if (mounted) {\n          setCurrDisplayedData(data);\n        }\n\n        // update the saved favorites data instance to the latest version possible\n        if (\n          favorites.hasOwnProperty(currDisplayedId) &&\n          favorites[currDisplayedId][\"updated\"] < data[\"updated\"]\n        ) {\n          dispatchFavorites({\n            type: \"add\",\n            courseId: currDisplayedId,\n            payload: data,\n          });\n        }\n        return [session, section, code];\n      }\n    };\n\n    const setPastOfferingsData = async ([session, section, code]) => {\n      const results = await fetchHistoricalData(code, {\n        session,\n        section,\n      });\n      if (mounted) {\n        setHistoricalData(results);\n      }\n    };\n\n    setCurrentData()\n      .then(async (info) => {\n        setLoading(false);\n        await setPastOfferingsData(info);\n      })\n      .then(() => setLoadingHistorical(false))\n      .catch(() => {\n        setLoading(false);\n        setLoadingHistorical(false);\n      });\n\n    return () => {\n      setLoading(true);\n      setLoadingHistorical(true);\n      mounted = false;\n    };\n  }, [\n    location,\n    setCurrDisplayedData,\n    currFetchedData,\n    favorites,\n    dispatchFavorites,\n  ]);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (!online.current && _.isEmpty(currDisplayedData)) {\n    return (\n      <Typography>\n        You are currently offline. Please try again later.\n      </Typography>\n    );\n  }\n\n  if (Object.keys(currDisplayedData).length === 0) {\n    return (\n      <Container maxWidth=\"lg\">\n        <Box display=\"flex\" justifyContent=\"center\">\n          <Typography variant=\"h4\">\n            Invalid URL. Perhaps you visited a broken link?\n          </Typography>\n        </Box>\n      </Container>\n    );\n  }\n\n  const {\n    code,\n    section,\n    session,\n    courseTitle,\n    courseDescription,\n    prerequisite,\n    corequisite,\n    exclusion,\n    recommendedPreparation,\n    breadthCategories,\n    distributionCategories,\n    webTimetableInstructions,\n    deliveryInstructions,\n    meetings,\n    updated,\n  } = currDisplayedData;\n\n  return (\n    <Grid container>\n      <Grid item xs={12} lg={9}>\n        <Container maxWidth=\"lg\">\n          <Stack spacing={3} divider={<Divider />}>\n            <Title title={courseTitle} retrievedOn={formatDate(updated)} />\n            {Description({ description: courseDescription })}\n            {Limitations({\n              prerequisite,\n              corequisite,\n              exclusion,\n              recommendedPreparation,\n            })}\n            {BreadthClassifications({\n              breadthCategories,\n              distributionCategories,\n            })}\n            {AdditionalInstructions({\n              webTimetableInstructions,\n              deliveryInstructions,\n            })}\n            <Meetings\n              data={meetings}\n              section={section}\n              session={session}\n              code={code}\n            />\n            {singleColumn ? (\n              <PastOfferings\n                data={historicalData}\n                loading={loadingHistorical}\n                mobile={true}\n              />\n            ) : null}\n          </Stack>\n        </Container>\n      </Grid>\n\n      {singleColumn ? null : (\n        <Grid item xs={12} lg={3}>\n          <Container maxWidth=\"sm\">\n            <PastOfferings\n              data={historicalData}\n              loading={loadingHistorical}\n              mobile={false}\n            />\n          </Container>\n        </Grid>\n      )}\n    </Grid>\n  );\n};\n\nconst pathnameSplitter = (pathname) =>\n  pathname\n    .replace(\"/course\", \"\")\n    .toUpperCase()\n    .split(\"/\")\n    .filter((val) => val);\n\nexport { CourseScreen };\n","import {\n  Box,\n  Container,\n  Divider,\n  IconButton,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemSecondaryAction,\n  ListItemText,\n  Stack,\n  Typography,\n} from \"@mui/material\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\n\nimport { Link as RouterLink } from \"react-router-dom\";\n\nconst Title = () => {\n  return <Typography variant=\"h4\">Bookmarked Courses</Typography>;\n};\n\nconst FavoritesList = ({ favorites, dispatchFavorites }) => {\n  if (Object.keys(favorites).length < 1) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\">\n        <Typography variant=\"body2\">\n          You don't have any bookmarked courses yet. To bookmark a course, click\n          the add bookmark button on the top-right corner when you're at a\n          course page.\n        </Typography>\n      </Box>\n    );\n  }\n\n  const ListEntry = ({ entry }) => {\n    const { courseTitle, code, section, session } = entry;\n    return (\n      <ListItem disableGutters>\n        <ListItemButton\n          component={RouterLink}\n          to={`/course/${session}/${section.toLowerCase()}/${code.toLowerCase()}`}\n        >\n          <ListItemText\n            primary={`${courseTitle}`}\n            secondary={`${code}${section}`}\n          />\n        </ListItemButton>\n        <ListItemSecondaryAction>\n          <IconButton\n            onClick={() =>\n              dispatchFavorites({\n                type: \"remove\",\n                courseId: `${code}-${section}-${session}`,\n              })\n            }\n          >\n            <ClearIcon />\n          </IconButton>\n        </ListItemSecondaryAction>\n      </ListItem>\n    );\n  };\n\n  return (\n    <List dense>\n      {Object.entries(favorites)\n        .sort((a, b) => (a < b ? -1 : 1))\n        .map(([k, v]) => (\n          <ListEntry entry={v} key={k} />\n        ))}\n    </List>\n  );\n};\n\nconst FavoritesScreen = ({ favorites, dispatchFavorites }) => {\n  return (\n    <Container maxWidth=\"lg\">\n      <Stack spacing={3} divider={<Divider />}>\n        <Title />\n        <FavoritesList\n          favorites={favorites}\n          dispatchFavorites={dispatchFavorites}\n        />\n      </Stack>\n    </Container>\n  );\n};\n\nexport { FavoritesScreen };\n","import { Button, Container, Grid, Typography } from \"@mui/material\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nconst LandingScreen = () => {\n  return (\n    <Container maxWidth=\"lg\">\n      <Grid\n        container\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        flexDirection=\"column\"\n        minHeight=\"100vh\"\n      >\n        <Grid item paddingBottom={2} marginRight=\"-40px\">\n          {/* keep value of marginRight and letterSpacing equal; old CSS bug that is still not fixed in 2021 */}\n          <Typography\n            variant=\"h3\"\n            sx={{\n              fontWeight: 100,\n              letterSpacing: \"40px\",\n              fontFamily: \"Roboto\",\n            }}\n          >\n            {\"Boreal\".toUpperCase()}\n          </Typography>\n        </Grid>\n\n        <Grid item paddingBottom={2}>\n          <Typography variant=\"body1\" sx={{ fontFamily: \"Quicksand\" }}>\n            An improved course finder.\n          </Typography>\n        </Grid>\n\n        <Grid item>\n          <Button variant=\"outlined\" component={RouterLink} to=\"/search\">\n            Search Courses\n          </Button>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};\n\nexport { LandingScreen };\n","import {\n  Autocomplete,\n  Box,\n  Card,\n  CardActions,\n  CardContent,\n  Checkbox,\n  Collapse,\n  Container,\n  Divider,\n  FormControlLabel,\n  FormGroup,\n  Grid,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Pagination,\n  Stack,\n  TextField,\n  Tooltip,\n  Typography,\n} from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport SearchIcon from \"@mui/icons-material/Search\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport _ from \"lodash\";\n\nimport {\n  breadth,\n  daytime,\n  deliveryModes,\n  departments as deptOptions,\n  sections as sectionOptions,\n  studyYears,\n  weekdays,\n  years,\n} from \"../utilities/searchOptions\";\nimport { getSearchInstance } from \"../utilities/fetcher\";\nimport { Loader } from \"../components/Loader\";\nimport { extractInstructorsAndOccupancy } from \"../utilities/courseFormatter\";\n\nconst defaultSearchState = {\n  title: \"\",\n  courseCode: \"\",\n  sections: [],\n  departments: [],\n  levels: [],\n  lastName: \"\",\n  days: [],\n  times: [],\n  breadths: [],\n  year: _.last(years),\n  modes: [],\n  online: false,\n  hasSpace: false,\n  waitlist: false,\n  fyf: false,\n  allowModes: true,\n};\n\nconst SearchScreen = ({\n  currFetchedData,\n  setCurrFetchedData,\n  setCurrDisplayedData,\n  searchFields,\n  setSearchFields,\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [searched, setSearched] = useState(false);\n\n  return (\n    <Container maxWidth=\"lg\">\n      <Stack spacing={3} divider={<Divider />}>\n        <Typography variant=\"h4\">Search</Typography>\n        <SearchOptions\n          setCurrFetchedData={setCurrFetchedData}\n          setLoading={setLoading}\n          searchFields={searchFields}\n          setSearchFields={setSearchFields}\n          setSearched={setSearched}\n        />\n        <SearchResults\n          currFetchedData={currFetchedData}\n          setCurrDisplayedData={setCurrDisplayedData}\n          loading={loading}\n          searched={searched}\n        />\n      </Stack>\n    </Container>\n  );\n};\n\nconst ExpandMore = styled((props) => {\n  const { expand, ...other } = props;\n  return <IconButton {...other} />;\n})(({ theme, expand }) => ({\n  transform: !expand ? \"rotate(0deg)\" : \"rotate(180deg)\",\n  marginLeft: \"auto\",\n  transition: theme.transitions.create(\"transform\", {\n    duration: theme.transitions.duration.shortest,\n  }),\n}));\n\nconst SearchOptions = ({\n  setCurrFetchedData,\n  setLoading,\n  searchFields,\n  setSearchFields,\n  setSearched,\n}) => {\n  const [expanded, setExpanded] = useState(false);\n  const handleExpandClick = () => setExpanded(!expanded);\n  const mounted = useRef(true);\n\n  const [allowModes, setAllowModes] = useState(true);\n\n  const [title, setTitle] = useState(\"\");\n  const [courseCode, setCourseCode] = useState(\"\");\n  const [sections, setSections] = useState([]);\n  const [departments, setDepartments] = useState([]);\n  const [levels, setLevels] = useState([]);\n  const [lastName, setLastName] = useState(\"\");\n  const [days, setDays] = useState([]);\n  const [times, setTimes] = useState([]);\n  const [breadths, setBreadths] = useState([]);\n  const [year, setYear] = useState(_.last(years));\n  const [modes, setModes] = useState([]);\n  const [online, setOnline] = useState(false);\n  const [hasSpace, setHasSpace] = useState(false);\n  const [waitlist, setWaitlist] = useState(false);\n  const [fyf, setFyf] = useState(false);\n\n  useEffect(() => {\n    mounted.current = true;\n    return () => {\n      mounted.current = false;\n    };\n  });\n\n  useEffect(() => {\n    setTitle(searchFields.title);\n    setCourseCode(searchFields.courseCode);\n    setSections(searchFields.sections);\n    setDepartments(searchFields.departments);\n    setLevels(searchFields.levels);\n    setLastName(searchFields.lastName);\n    setDays(searchFields.days);\n    setTimes(searchFields.times);\n    setBreadths(searchFields.breadths);\n    setYear(searchFields.year);\n    setModes(searchFields.modes);\n    setOnline(searchFields.online);\n    setHasSpace(searchFields.hasSpace);\n    setWaitlist(searchFields.waitlist);\n    setFyf(searchFields.fyf);\n  }, [searchFields]);\n\n  const search = () => {\n    setLoading(true);\n    setSearched(true);\n    const instance = getSearchInstance();\n    const retrievedOn = new Date();\n\n    const format = (param) => {\n      if (typeof param === \"boolean\") {\n        return param ? \"t\" : null;\n      }\n      if (typeof param === \"string\") {\n        return param ? param : null;\n      }\n      if (Array.isArray(param)) {\n        return !_.isEmpty(param) ? param.map((v) => v.value).join(\",\") : null;\n      }\n      throw new Error(\"Unaccounted for param type.\");\n    };\n\n    instance\n      .get(`${year.value}/courses/`, {\n        params: {\n          // note that nulls are not rendered in URL, which is the goal here\n          title: format(title),\n          code: format(courseCode),\n          section: format(sections),\n          org: format(departments),\n          studyyear: format(levels),\n          prof: format(lastName),\n          weekday: format(days),\n          daytime: format(times),\n          breadth: format(breadths),\n          deliverymode: online ? null : format(modes),\n          online: format(online),\n          waitlist: format(waitlist),\n          available: format(hasSpace),\n          fyfcourse: format(fyf),\n        },\n      })\n      .then((res) => {\n        const { data } = res;\n        Object.keys(data).forEach((key) => {\n          data[key][\"updated\"] = retrievedOn;\n        });\n\n        if (mounted.current) {\n          setCurrFetchedData(data);\n        }\n      })\n      .then(() => {\n        setLoading(false);\n        setSearchFields({\n          title,\n          courseCode,\n          sections,\n          departments,\n          levels,\n          lastName,\n          days,\n          times,\n          breadths,\n          year,\n          modes,\n          online,\n          hasSpace,\n          waitlist,\n          fyf,\n        });\n      });\n  };\n\n  const clear = () => {\n    setSearchFields(defaultSearchState);\n    setSearched(false);\n  };\n\n  return (\n    <Card elevation={0}>\n      <CardContent>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <TextField\n              label=\"Course title\"\n              fullWidth\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n            />\n          </Grid>\n          <Grid item xs={12} sm={3} lg={4}>\n            <TextField\n              label=\"Course code\"\n              fullWidth\n              value={courseCode}\n              onChange={(e) => setCourseCode(e.target.value)}\n            />\n          </Grid>\n          <Grid item xs={12} sm={9} lg={8}>\n            <Autocomplete\n              multiple\n              options={sectionOptions}\n              getOptionLabel={(option) => option.label}\n              filterSelectedOptions\n              renderInput={(params) => (\n                <TextField {...params} label=\"Section(s)\" />\n              )}\n              value={sections}\n              onChange={(e, nv) => setSections(nv)}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Autocomplete\n              multiple\n              options={deptOptions}\n              getOptionLabel={(option) => option.label}\n              filterSelectedOptions\n              renderInput={(params) => (\n                <TextField {...params} label=\"Offering department(s)\" />\n              )}\n              onChange={(e, nv) => {\n                setDepartments(nv);\n                console.log(nv);\n              }}\n            />\n          </Grid>\n        </Grid>\n      </CardContent>\n\n      <Collapse in={expanded}>\n        <CardContent>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <Typography variant=\"h5\">Advanced options</Typography>\n            </Grid>\n            <Grid item xs={12} lg={6}>\n              <Autocomplete\n                multiple\n                options={studyYears}\n                getOptionLabel={(option) => option.label}\n                filterSelectedOptions\n                renderInput={(params) => (\n                  <TextField {...params} label=\"Course level(s)\" />\n                )}\n                value={levels}\n                onChange={(e, nv) => setLevels(nv)}\n              />\n            </Grid>\n            <Grid item xs={12} lg={6}>\n              <TextField\n                label=\"Instructor's last name\"\n                fullWidth\n                value={lastName}\n                onChange={(e) => setLastName(e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={12} lg={6}>\n              <Autocomplete\n                multiple\n                options={weekdays}\n                getOptionLabel={(option) => option.label}\n                filterSelectedOptions\n                renderInput={(params) => (\n                  <TextField {...params} label=\"Day(s) of week\" />\n                )}\n                value={days}\n                onChange={(e, nv) => setDays(nv)}\n              />\n            </Grid>\n            <Grid item xs={12} lg={6}>\n              <Autocomplete\n                multiple\n                options={daytime}\n                getOptionLabel={(option) => option.label}\n                filterSelectedOptions\n                renderInput={(params) => (\n                  <TextField {...params} label=\"Time(s) of day\" />\n                )}\n                value={times}\n                onChange={(e, nv) => setTimes(nv)}\n              />\n            </Grid>\n            <Grid item xs={12} lg={6}>\n              <Autocomplete\n                multiple\n                options={breadth}\n                getOptionLabel={(option) => option.label}\n                filterSelectedOptions\n                renderInput={(params) => (\n                  <TextField {...params} label=\"Breadth requirement(s)\" />\n                )}\n                value={breadths}\n                onChange={(e, nv) => setBreadths(nv)}\n              />\n            </Grid>\n            <Grid item xs={12} lg={6}>\n              <Autocomplete\n                options={years}\n                getOptionLabel={(option) => option.label}\n                filterSelectedOptions\n                renderInput={(params) => (\n                  <TextField {...params} label=\"Offering year\" />\n                )}\n                value={year}\n                onChange={(e, nv) => setYear(nv)}\n                isOptionEqualToValue={(o, v) => o.value === v.value}\n              />\n            </Grid>\n            <Grid item xs={12} lg={6}>\n              <Autocomplete\n                multiple\n                options={deliveryModes}\n                getOptionLabel={(option) => option.label}\n                filterSelectedOptions\n                renderInput={(params) => (\n                  <TextField\n                    {...params}\n                    label={\n                      allowModes\n                        ? \"Delivery modes (lectures)\"\n                        : \"Disabled as online only is selected\"\n                    }\n                  />\n                )}\n                value={modes}\n                onChange={(e, nv) => setModes(nv)}\n                disabled={!allowModes}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6} lg={3}>\n              <FormGroup>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      checked={online}\n                      onChange={(e) => {\n                        setOnline(e.target.checked);\n                        setAllowModes(!e.target.checked);\n                        if (e.target.checked) {\n                          setModes([]);\n                        }\n                      }}\n                    />\n                  }\n                  label={\"Online only\"}\n                />\n              </FormGroup>\n            </Grid>\n            <Grid item xs={12} sm={6} lg={3}>\n              <FormGroup>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      checked={hasSpace}\n                      onChange={(e) => setHasSpace(e.target.checked)}\n                    />\n                  }\n                  label={\"Meetings with space only\"}\n                />\n              </FormGroup>\n            </Grid>\n            <Grid item xs={12} sm={6} lg={3}>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={waitlist}\n                    onChange={(e) => setWaitlist(e.target.checked)}\n                  />\n                }\n                label={\"Waitlistable courses only\"}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6} lg={3}>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={fyf}\n                    onChange={(e) => setFyf(e.target.checked)}\n                  />\n                }\n                label={\"First-year foundations courses\"}\n              />\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Collapse>\n      <CardActions>\n        <Tooltip title=\"Clear options\">\n          <IconButton sx={{ marginRight: \"auto\" }} onClick={clear}>\n            <ClearIcon />\n          </IconButton>\n        </Tooltip>\n        <ExpandMore\n          expand={expanded}\n          onClick={handleExpandClick}\n          aria-expanded={expanded}\n          aria-label=\"show more\"\n        >\n          <Tooltip title={`${expanded ? \"Hide\" : \"Show\"} advanced options`}>\n            <ExpandMoreIcon />\n          </Tooltip>\n        </ExpandMore>\n        <Tooltip title=\"Search\">\n          <IconButton sx={{ marginLeft: \"auto\" }} onClick={search}>\n            <SearchIcon />\n          </IconButton>\n        </Tooltip>\n      </CardActions>\n    </Card>\n  );\n};\n\nconst SearchResults = ({\n  currFetchedData,\n  setCurrDisplayedData,\n  loading,\n  searched,\n}) => {\n  const [page, setPage] = useState(1);\n  const [noOfPages, setNoOfPages] = useState(1);\n  const itemsPerPage = 10;\n\n  useEffect(() => {\n    setPage(1);\n    setNoOfPages(Math.ceil(Object.keys(currFetchedData).length / itemsPerPage));\n  }, [currFetchedData]);\n\n  const onCourseClick = (data) => {\n    setCurrDisplayedData(data);\n  };\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (!searched) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n        <Typography variant=\"body1\">\n          Configure your options above, then hit search!\n        </Typography>\n      </Box>\n    );\n  }\n\n  if (_.isEmpty(currFetchedData)) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n        <Typography variant=\"body1\">No results found.</Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <Stack display=\"flex\" divider={<Divider />} spacing={3}>\n      <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\n        <Pagination\n          count={noOfPages}\n          page={page}\n          onChange={(e, v) => setPage(v)}\n        />\n      </Box>\n      <List>\n        {Object.keys(currFetchedData)\n          .slice((page - 1) * itemsPerPage, page * itemsPerPage)\n          .map((key) => {\n            const result = currFetchedData[key];\n            const { courseTitle, code, section, session, meetings } = result;\n            return (\n              <ListItem\n                button\n                key={key}\n                onClick={() => onCourseClick(result)}\n                component={RouterLink}\n                to={`/course/${session}/${section.toLowerCase()}/${code.toLowerCase()}`}\n              >\n                <Stack>\n                  <ListItemText primary={courseTitle} />\n                  <ListItemSecondary\n                    code={code}\n                    section={section}\n                    meetings={meetings}\n                  />\n                </Stack>\n              </ListItem>\n            );\n          })}\n      </List>\n    </Stack>\n  );\n};\n\nconst ListItemSecondary = ({ code, section, meetings }) => {\n  const instructors = extractInstructorsAndOccupancy(meetings)[0];\n\n  return (\n    <Stack\n      spacing={1}\n      direction=\"row\"\n      divider={<Divider orientation=\"vertical\" flexItem />}\n    >\n      <Typography variant=\"body2\">{`${code}${section}`}</Typography>\n      <Typography variant=\"body2\">\n        {instructors ? instructors : \"TBA\"}\n      </Typography>\n    </Stack>\n  );\n};\n\nexport { SearchScreen, defaultSearchState };\n","import { Box, Toolbar } from \"@mui/material\";\nimport { useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport { CourseScreen } from \"./screens/CourseScreen\";\nimport { FavoritesScreen } from \"./screens/FavoritesScreen\";\nimport { LandingScreen } from \"./screens/LandingScreen\";\nimport { defaultSearchState, SearchScreen } from \"./screens/SearchScreen\";\n\nconst Switchboard = ({\n  favorites,\n  dispatchFavorites,\n  currFetchedData,\n  currDisplayedData,\n  setCurrDisplayedData,\n  sv,\n}) => {\n  const [searchFields, setSearchFields] = useState(defaultSearchState);\n  const [searchResults, setSearchResults] = useState({});\n\n  return (\n    <Switch>\n      <Route path=\"/\" exact>\n        <LandingScreen />\n      </Route>\n\n      <Box sx={sv}>\n        <Toolbar />\n        <Route path=\"/course\">\n          <CourseScreen\n            currDisplayedData={currDisplayedData}\n            setCurrDisplayedData={setCurrDisplayedData}\n            currFetchedData={currFetchedData}\n            favorites={favorites}\n            dispatchFavorites={dispatchFavorites}\n          />\n        </Route>\n\n        <Route path=\"/bookmarks\">\n          <FavoritesScreen\n            favorites={favorites}\n            dispatchFavorites={dispatchFavorites}\n          />\n        </Route>\n\n        <Route path=\"/search\">\n          <SearchScreen\n            currFetchedData={searchResults}\n            setCurrFetchedData={setSearchResults}\n            setCurrDisplayedData={setCurrDisplayedData}\n            searchFields={searchFields}\n            setSearchFields={setSearchFields}\n          />\n        </Route>\n      </Box>\n    </Switch>\n  );\n};\n\nexport { Switchboard };\n","import _ from \"lodash\";\n\nconst favoritesKey = \"dfsoudfhsud\";\nconst timetablesKey = \"asfoahfisd\";\n\nconst timetableReducer = (state, action) => {\n  if (action.type === \"reset\") {\n    localStorage.setItem(timetablesKey, JSON.stringify(action.payload));\n    return action.payload;\n  }\n\n  let { session, code, section, meeting } = action.payload;\n  const { teachingMethod } = meeting;\n  let updatedTimetable = { ...state };\n  code = code.toUpperCase();\n  section = section.toUpperCase();\n\n  switch (action.type) {\n    case \"add\":\n      if (!Object.keys(updatedTimetable).includes(session)) {\n        updatedTimetable[session] = {};\n      }\n      if (\n        !Object.keys(updatedTimetable[session]).includes(`${code}${section}`)\n      ) {\n        updatedTimetable[session][`${code}${section}`] = {};\n      }\n      updatedTimetable[session][`${code}${section}`][teachingMethod] = meeting;\n      break;\n    case \"remove\":\n      if (\n        Object.keys(updatedTimetable).includes(session) &&\n        Object.keys(updatedTimetable[session]).includes(`${code}${section}`) &&\n        Object.keys(updatedTimetable[session][`${code}${section}`]).includes(\n          teachingMethod\n        )\n      ) {\n        delete updatedTimetable[session][`${code}${section}`][teachingMethod];\n      }\n      break;\n    default:\n      throw new Error(\n        `Called timetableReducer with unknown action type ${action.type}`\n      );\n  }\n  localStorage.setItem(timetablesKey, JSON.stringify(updatedTimetable));\n  return updatedTimetable;\n};\n\nconst favoritesReducer = (state, action) => {\n  const { type, payload, courseId } = action;\n  if (!courseId && type !== \"reset\") {\n    throw new Error(\"Called favoritesReducer while course ID is invalid.\");\n  }\n  let updatedState;\n  switch (type) {\n    case \"add\":\n      updatedState = {\n        ...state,\n        [courseId]: payload,\n      };\n      break;\n    case \"remove\":\n      updatedState = _.omit(state, courseId);\n      break;\n    case \"reset\":\n      updatedState = payload;\n      break;\n    default:\n      throw new Error(\n        `Called favoritesReducer with invalid action.type: ${type}`\n      );\n  }\n  localStorage.setItem(favoritesKey, JSON.stringify(updatedState));\n  return updatedState;\n};\n\nexport { timetableReducer, favoritesReducer, favoritesKey, timetablesKey };\n","import { useEffect, useReducer, useState } from \"react\";\nimport {\n  CssBaseline,\n  StyledEngineProvider,\n  ThemeProvider,\n  useMediaQuery,\n  useTheme,\n} from \"@mui/material\";\nimport { useLocation } from \"react-router-dom\";\n\nimport { styles, theme } from \"./theme\";\nimport { QuickSearchPanel } from \"./components/QuickSearchPanel\";\nimport { Drawer } from \"./components/Drawer\";\nimport { AppBar } from \"./components/AppBar\";\nimport { Switchboard } from \"./Switchboard\";\nimport { getPageTitle } from \"./utilities/misc\";\nimport { favoritesReducer, favoritesKey } from \"./reducers\";\n\nconst loadExistingFavorites = (favoritesKey) => {\n  const existingFavorites = localStorage.getItem(favoritesKey);\n  return existingFavorites ? JSON.parse(existingFavorites) : {};\n};\n\nconst App = () => {\n  const sv = styles();\n  const themeFunction = useTheme();\n  const mobile = useMediaQuery(themeFunction.breakpoints.down(\"md\"));\n  const location = useLocation();\n\n  const [dark, setDark] = useState(localStorage.getItem(\"darkMode\") === \"dark\");\n  const [isNavExpanded, setIsNavExpanded] = useState(false);\n  const [appBarTitle, setAppBarTitle] = useState(\"\");\n\n  const [currDisplayedData, setCurrDisplayedData] = useState({});\n  const [currFetchedData, setCurrFetchedData] = useState({});\n\n  const [favorites, dispatchFavorites] = useReducer(\n    favoritesReducer,\n    loadExistingFavorites(favoritesKey)\n  );\n\n  // initial setup\n  useEffect(() => {\n    const monitorCrossTabState = (e) => {\n      if (e.key === \"darkMode\") {\n        setDark(e.newValue === \"dark\");\n      } else if (e.key === favoritesKey) {\n        dispatchFavorites({ type: \"reset\", payload: JSON.parse(e.newValue) });\n      }\n    };\n\n    window.addEventListener(\"storage\", monitorCrossTabState);\n    return () => {\n      window.removeEventListener(\"storage\", monitorCrossTabState);\n    };\n  }, []);\n\n  // location updates\n  useEffect(() => {\n    const { pathname } = location;\n    const newTitle = getPageTitle(pathname, currDisplayedData, mobile);\n\n    setAppBarTitle(location.pathname.startsWith(\"/course\") ? newTitle : \"\");\n    document.title = `${\n      newTitle === \"Boreal\" ? newTitle : newTitle + \" — Boreal\"\n    }`;\n  }, [location, currDisplayedData, mobile]);\n\n  // theme updates\n  useEffect(() => {\n    localStorage.setItem(\"darkMode\", dark ? \"dark\" : \"light\");\n  }, [dark]);\n\n  const onQuickPanelCourseSelection = () => {\n    setIsNavExpanded(false);\n  };\n\n  return (\n    <StyledEngineProvider injectFirst>\n      <ThemeProvider theme={theme(dark)}>\n        <CssBaseline />\n        <AppBar\n          title={appBarTitle}\n          expandNav={isNavExpanded}\n          setExpandNav={setIsNavExpanded}\n          dark={dark}\n          setDark={setDark}\n          currDisplayedData={currDisplayedData}\n          setCurrDisplayedData={setCurrDisplayedData}\n          favorites={favorites}\n          dispatchFavorites={dispatchFavorites}\n          mobile={mobile}\n        />\n        <Drawer mobile={mobile} navControl={[isNavExpanded, setIsNavExpanded]}>\n          <QuickSearchPanel\n            fetchedData={currFetchedData}\n            setFetchedData={setCurrFetchedData}\n            onCourseSelection={onQuickPanelCourseSelection}\n          />\n        </Drawer>\n\n        <Switchboard\n          favorites={favorites}\n          dispatchFavorites={dispatchFavorites}\n          currFetchedData={currFetchedData}\n          currDisplayedData={currDisplayedData}\n          setCurrDisplayedData={setCurrDisplayedData}\n          sv={mobile ? sv.contentMobileWrapper : sv.contentWrapper}\n        />\n      </ThemeProvider>\n    </StyledEngineProvider>\n  );\n};\n\nexport { App };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { App } from \"./App\";\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}