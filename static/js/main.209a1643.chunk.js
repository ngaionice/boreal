(this["webpackJsonpcourse-finder"]=this["webpackJsonpcourse-finder"]||[]).push([[0],{132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),s=a(12),l=a(188),o=a(189),j=a(51),u=a.n(j),b=a(9),d=a(89),h=a(197),O=a(171),x=a(59),m=a(57),p=a(58),v=Object(h.a)(Object(d.a)({palette:{primary:{main:x.a[900]},secondary:{main:m.a[50]},error:{main:p.a[500]}},props:{MuiTypography:{variantMapping:{h4:"h1",h5:"h2",h6:"h3"}}}})),g=320,f=Object(O.a)((function(e){return{root:{display:"flex"},paginator:{justifyContent:"center",padding:"10px"},searchBox:{marginBottom:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),"& > *":{marginTop:e.spacing(1)}},drawer:Object(b.a)({},e.breakpoints.up("md"),{width:g,flexShrink:0}),appBar:Object(b.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(g,"px)"),marginLeft:g}),menuButton:Object(b.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),toolbar:e.mixins.toolbar,tabs:{height:"48px"},drawerPaper:{width:g},content:{flexGrow:1,padding:e.spacing(3)},loader:{margin:e.spacing(3)},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},gridItem:{height:"100%"}}}),{index:1}),y=a(64),C=a.n(y),S=a(85),w=a(86),N=a.n(w),T=a(191),k=a(173),I=a(134),D=a(175),M=a(190),F=a(177),W=a(178),B=a(176),E=a(193),P=[{value:"20169",label:"'16 Fall - '17 Winter"},{value:"20175",label:"'17 Summer"},{value:"20179",label:"'17 Fall - '18 Winter"},{value:"20185",label:"'18 Summer"},{value:"20189",label:"'18 Fall - '19 Winter"},{value:"20195",label:"'19 Summer"},{value:"20199",label:"'19 Fall - '20 Winter"},{value:"20205",label:"'20 Summer"},{value:"20209",label:"'20 Fall - '21 Winter"},{value:"20215",label:"'21 Summer"},{value:"20219",label:"'21 Fall - '22 Winter"}],q=a(3),A=function(){var e=f();return Object(q.jsx)(T.a,{display:"flex",justifyContent:"center",alignItems:"center",className:e.loader,children:Object(q.jsx)(k.a,{})})},L=function(e){var t=e.setData,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(P[P.length-1].value),o=Object(s.a)(l,2),j=o[0],u=o[1],b=Object(n.useState)({}),d=Object(s.a)(b,2),h=d[0],O=d[1],x=Object(n.useState)(!1),m=Object(s.a)(x,2),p=m[0],v=m[1],g=Object(n.useState)(1),y=Object(s.a)(g,2),w=y[0],k=y[1],L=Object(n.useState)(Math.ceil(Object.keys(h).length/10)),_=Object(s.a)(L,2),R=_[0],H=_[1],U=f();Object(n.useEffect)((function(){var e=function(){var e=Object(S.a)(C.a.mark((function e(){var t,a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://ionice.herokuapp.com/https://timetable.iit.artsci.utoronto.ca/api/".concat(j,"/courses?code=").concat(c),e.next=3,N.a.get(t,{headers:{}});case 3:a=e.sent,n=a.data,O(n),H(Math.ceil(Object.keys(n).length/10));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){v(!0),k(1),e().then((function(){return v(!1)}))};if(!c||!j||h){var a=setTimeout((function(){c&&j&&t()}),500);return function(){clearTimeout(a)}}t()}),[c,j]);var J=Object.keys(h).slice(10*(w-1),10*w).map((function(e){var a=h[e];return Object(q.jsx)(I.a,{button:!0,onClick:function(){return t(a)},children:Object(q.jsx)(D.a,{primary:a.courseTitle,secondary:"".concat(a.code).concat(a.section)})},e)}));return Object(q.jsxs)("div",{children:[Object(q.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(q.jsxs)(T.a,{className:U.searchBox,children:[Object(q.jsx)(M.a,{id:"year-input",select:!0,label:"Academic Year",variant:"filled",value:j,onChange:function(e){return u(e.target.value)},fullWidth:!0,children:P.map((function(e){return Object(q.jsx)(F.a,{value:e.value,children:e.label},e.value)}))}),Object(q.jsx)(M.a,{id:"code-input",label:"Course Code",variant:"filled",value:c,onChange:function(e){return i(e.target.value.toUpperCase())},fullWidth:!0})]})}),Object(q.jsx)(W.a,{}),p?Object(q.jsx)(A,{}):null,p?null:Object(q.jsxs)(n.Fragment,{children:[Object(q.jsx)(T.a,{padding:"10px",children:Object(q.jsx)(E.a,{count:R,page:w,onChange:function(e,t){k(t)},defaultPage:1,siblingCount:0,boundaryCount:1,color:"primary",classes:{ul:U.paginator}})}),Object(q.jsx)(W.a,{}),Object(q.jsx)(T.a,{children:Object(q.jsx)(B.a,{dense:!0,children:J})})]})]})},_=a(41),R=a(2),H=a(179),U=a(180),J=a(33),Y=a(182),z=a(183),G=a(184),V=a(87),K=a.n(V),Q=a(181),X=["children","value","index"],Z=function(e){switch(e){case"MO":return"Mon";case"TU":return"Tue";case"WE":return"Wed";case"TH":return"Thu";case"FR":return"Fri";default:return e+": this date is unformatted; please report this to the developer."}},$=function(e){var t=e.children,a=e.value,n=e.index,r=Object(R.a)(e,X);return Object(q.jsx)("div",Object(_.a)(Object(_.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:t}))},ee=function(e){var t=e.title,a=e.subtitle,r=e.children,c=Object(n.useState)(!1),i=Object(s.a)(c,2),l=i[0],o=i[1];return Object(q.jsxs)(H.a,{variant:"outlined",children:[Object(q.jsx)(U.a,{action:Object(q.jsx)(Q.a,{onClick:function(){o(!l)},"aria-expanded":l,"aria-label":"show more",children:Object(q.jsx)(K.a,{})}),title:Object(q.jsx)(J.a,{variant:"h6",children:t}),subheader:Object(q.jsx)(J.a,{variant:"body1",children:a})}),Object(q.jsx)(Y.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(q.jsx)(z.a,{children:r})})]})},te=function(e){var t=e.sectionCode,a=e.meetingData,r=f(),c=Number(a.enrollmentCapacity)-Number(a.actualEnrolment),i=Number(a.actualWaitlist),l=(c>0?"Remaining spots: "+String(c):"Y"===a.waitlist?"Waitlist size: "+String(i):"Full, no waitlisting allowed")+" (capacity: ".concat(a.enrollmentCapacity,")"),o=function(e){var t=e.schedule;return Object(q.jsxs)(G.a,{container:!0,children:[Object(q.jsx)(J.a,{variant:"body1",children:"Schedule:"}),Object.entries(t).map((function(e){var t=e[1];return Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(J.a,{variant:"body1",children:"".concat(Z(t.meetingDay)," ").concat(t.meetingStartTime,"-").concat(t.meetingEndTime)})})}))]})};return Object(q.jsxs)(H.a,{variant:"outlined",className:r.gridItem,children:[Object(q.jsx)(U.a,{title:Object(q.jsx)(J.a,{variant:"h6",color:c>0?"initial":"error",children:t}),subheader:Object(q.jsxs)(n.Fragment,{children:[Object(q.jsx)(J.a,{variant:"body1",children:l}),null!==a.online?Object(q.jsx)(J.a,{variant:"body1",children:"Delivery mode: ".concat(a.online)}):null]})}),Object(q.jsx)(z.a,{children:Object(q.jsxs)(G.a,{container:!0,spacing:2,children:[Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(J.a,{variant:"body1",children:"Instructor(s): ".concat(function(e){if(u.a.isEmpty(e))return"Not available yet";for(var t="",a=0,n=Object.entries(e);a<n.length;a++){var r=Object(s.a)(n[a],2)[1];t+=r.firstName,t+=". ",t+=r.lastName,t+=", "}return t.substring(0,t.length-2)}(a.instructors))})}),Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(o,{schedule:a.schedule})})]})})]})},ae=function(e){var t=e.courseData,a=e.selectedIndex;return Object(q.jsxs)(n.Fragment,{children:[Object(q.jsx)($,{value:a,index:0,children:Object(q.jsx)(ne,{courseData:t})}),Object(q.jsx)($,{value:a,index:1,children:Object(q.jsx)(re,{courseData:t})})]})},ne=function(e){var t=e.courseData,a=f();return 0===Object.keys(t).length?Object(q.jsx)(J.a,{variant:"h6",children:"Search for a course for data to show up here!"}):Object(q.jsxs)(G.a,{container:!0,className:a.root,spacing:1,children:[Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(J.a,{variant:"h4",children:t.courseTitle})}),Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(J.a,{variant:"body1",dangerouslySetInnerHTML:{__html:t.courseDescription}})}),Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(ee,{title:"Additional course information:",subtitle:"Pre/co-requisites, exclusions and recommended preparation",children:Object(q.jsxs)(n.Fragment,{children:[Object(q.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Pre-requisites: ".concat(t.prerequisite?t.prerequisite:"N/A")}),Object(q.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Co-requisites: ".concat(t.corequisite?t.corequisite:"N/A")}),Object(q.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Exclusions: ".concat(t.exclusion?t.exclusion:"N/A")}),Object(q.jsx)(J.a,{variant:"body2",children:"Recommended preparation: ".concat(t.recommendedPreparation?t.recommendedPreparation:"N/A")})]})})}),Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsxs)(ee,{title:"Breadth & distribution classifications:",children:[Object(q.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Breadth categories: ".concat(t.breadthCategories)}),Object(q.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Distribution categories: ".concat(t.distributionCategories?t.distributionCategories:"N/A")})]})}),t.webTimetableInstructions?Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(ee,{title:"Timetable instructions:",children:Object(q.jsx)(J.a,{variant:"body2",dangerouslySetInnerHTML:{__html:t.webTimetableInstructions}})})}):null,t.deliveryInstructions?Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(ee,{title:"Delivery instructions:",children:Object(q.jsx)(J.a,{variant:"body2",dangerouslySetInnerHTML:{__html:t.deliveryInstructions}})})}):null]})},re=function(e){var t=e.courseData,a=f();return Object(q.jsx)("div",{className:a.root,children:Object(q.jsx)(G.a,{container:!0,spacing:2,children:Object.keys(t.meetings).map((function(e){return Object(q.jsx)(G.a,{item:!0,xs:12,md:6,lg:3,children:Object(q.jsx)(te,{sectionCode:e,meetingData:t.meetings[e]})})}))})})},ce=a(196),ie=a(195);function se(e){var t=e.children,a=e.mobileOpen,n=e.setMobileOpen,r=f(),c=Object(q.jsx)("div",{children:t});return Object(q.jsx)("div",{className:r.root,children:Object(q.jsxs)("nav",{className:r.drawer,"aria-label":"search",children:[Object(q.jsx)(ie.a,{mdUp:!0,implementation:"css",children:Object(q.jsx)(ce.a,{variant:"temporary",anchor:"left",open:a,onClose:function(){n(!a)},classes:{paper:r.drawerPaper},ModalProps:{keepMounted:!0},children:c})}),Object(q.jsx)(ie.a,{smDown:!0,implementation:"css",children:Object(q.jsx)(ce.a,{classes:{paper:r.drawerPaper},variant:"permanent",open:!0,children:c})})]})})}var le=a(186),oe=a(88),je=a.n(oe),ue=a(192),be=a(187),de=a(185);function he(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Oe=function(e){var t=e.title,a=e.showTabs,n=e.mobileOpen,r=e.setMobileOpen,c=e.index,i=e.setIndex,s=f();return Object(q.jsxs)(de.a,{position:"fixed",className:s.appBar,children:[Object(q.jsxs)(le.a,{children:[Object(q.jsx)(Q.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){r(!n)},className:s.menuButton,children:Object(q.jsx)(je.a,{})}),Object(q.jsx)(J.a,{variant:"h6",children:t})]}),a?Object(q.jsxs)(ue.a,{value:c,onChange:function(e,t){i(t)},variant:"fullWidth","aria-label":"course information",children:[Object(q.jsx)(be.a,Object(_.a)({label:"Course Info"},he(0))),Object(q.jsx)(be.a,Object(_.a)({label:"Meeting Sections"},he(1)))]}):null]})},xe=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],c=t[1],i=r.a.useState(!1),j=Object(s.a)(i,2),b=j[0],d=j[1],h=Object(n.useState)(!1),O=Object(s.a)(h,2),x=O[0],m=O[1],p=r.a.useState(0),g=Object(s.a)(p,2),y=g[0],C=g[1];Object(n.useEffect)((function(){m(!u.a.isEmpty(a))}),[a]);var S=f();return Object(q.jsxs)(l.a,{theme:v,children:[Object(q.jsx)(o.a,{}),Object(q.jsxs)("div",{className:S.root,children:[Object(q.jsx)(Oe,{title:x?"".concat(a.code).concat(a.section):"Course Finder 2",showTabs:x,mobileOpen:b,setMobileOpen:d,index:y,setIndex:C}),Object(q.jsx)(se,{children:Object(q.jsx)(L,{setData:function(e){return c(e)}}),mobileOpen:b,setMobileOpen:d}),Object(q.jsxs)("main",{className:S.content,children:[Object(q.jsx)("div",{className:S.toolbar}),x?Object(q.jsxs)(n.Fragment,{children:[Object(q.jsx)("div",{className:S.tabs}),Object(q.jsx)(ae,{courseData:a,selectedIndex:y})]}):null]})]})]})};i.a.render(Object(q.jsx)(xe,{}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.209a1643.chunk.js.map