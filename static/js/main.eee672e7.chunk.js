(this.webpackJsonpboreal=this.webpackJsonpboreal||[]).push([[0],{167:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(39),i=n.n(c),o=n(12),s=n(19),l=n(217),j=n(218),u=n(227),d=n(219),b=n(239),h=n(229),O=n(48),x=n.n(O),f=n(228),p=n(113),m=n(43),g=n(101),v=n(44),y=function(){var e=360;return{flex:{flex:1},paginator:{justifyContent:"center",padding:"4px"},drawerWidth:e,drawer:{width:{md:e},flexShrink:{md:0}},appBar:{width:{md:"calc(100% - ".concat(e,"px)")},ml:{md:"".concat(e,"px")}},menuButton:{marginRight:2,display:{md:"none"}},tabs:{height:"48px"},drawerPaper:{width:e},content:{flexGrow:1,padding:3},contentWrapper:{flexGrow:1,paddingLeft:3,paddingRight:3,paddingTop:5,paddingBottom:5,marginLeft:"".concat(e,"px")},contentMobileWrapper:{flexGrow:1,paddingLeft:3,paddingRight:3,paddingTop:5,paddingBottom:5},loader:{padding:3},gridItem:{height:"100%"}}},C=n(79),k=n.n(C),S=n(103),w=n(104),T=n.n(w),I=n(230),M=n(210),W=n(221),B=n(233),E=n(234),P=n(235),F=n(222),L=n(232),A=n(224),R=n(236),N=n(105),q=n.n(N),D=n(50),Q=n(2),_=function(){var e=y();return Object(Q.jsx)(h.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:e.loader,children:Object(Q.jsx)(I.a,{})})},G=function(e){var t=e.searchTermControl,n=e.onButtonClick,r=Object(o.a)(t,2),a=r[0],c=r[1];return Object(Q.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(Q.jsxs)(M.a,{spacing:1,children:[Object(Q.jsx)(W.a,{id:"code-input",label:"Course Code",variant:"filled",placeholder:"Quick search",value:a,onChange:function(e){return c(e.target.value.toUpperCase())},fullWidth:!0,size:"small",flex:1}),Object(Q.jsx)(B.a,{variant:"caption",children:"Quick search shows courses for the current year. For more options, use advanced search."}),Object(Q.jsx)(E.a,{variant:"outlined",color:"inherit",startIcon:Object(Q.jsx)(q.a,{}),component:D.b,to:"/search",onClick:n,children:"Advanced Search"})]})})},H=function(e){var t=e.loading,n=e.data,r=e.onCourseClick,a=e.pageControl,c=e.itemsPerPage,i=e.noOfPages;if(t)return Object(Q.jsx)(_,{});if(null===n||x.a.isEmpty(n))return Object(Q.jsxs)(M.a,{spacing:1,justifyContent:"center",alignItems:"center",children:[Object(Q.jsx)(P.a,{flexItem:!0}),Object(Q.jsx)(B.a,{variant:"body2",children:"Start searching to see courses here!"})]});var s=y(),l=Object(o.a)(a,2),j=l[0],u=l[1];return Object(Q.jsxs)(M.a,{spacing:1,children:[Object(Q.jsx)(P.a,{}),Object(Q.jsx)(F.a,{count:i,page:j,onChange:function(e,t){u(t)},defaultPage:1,siblingCount:0,boundaryCount:1,color:"primary",sx:{ul:s.paginator}}),Object(Q.jsx)(P.a,{}),Object(Q.jsx)(L.a,{dense:!0,children:Object.keys(n).slice((j-1)*c,j*c).map((function(e){var t=n[e];return Object(Q.jsx)(A.a,{button:!0,onClick:function(){return r(t)},children:Object(Q.jsx)(R.a,{primary:t.courseTitle,secondary:"".concat(t.code).concat(t.section)})},e)}))})]})},z=function(e){var t=e.setData,n=e.onCourseSelectionAction,a=e.onButtonClick,c=Object(r.useState)(""),i=Object(o.a)(c,2),s=i[0],l=i[1],j=Object(r.useRef)(0),u=Object(r.useState)({}),d=Object(o.a)(u,2),b=d[0],h=d[1],O=Object(r.useState)(!1),x=Object(o.a)(O,2),f=x[0],p=x[1],m=Object(r.useState)(1),g=Object(o.a)(m,2),v=g[0],y=g[1],C=Object(r.useState)(Math.ceil(Object.keys(b).length/10)),w=Object(o.a)(C,2),I=w[0],W=w[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(S.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://ionice.herokuapp.com/https://timetable.iit.artsci.utoronto.ca/api/20219/courses?code=".concat(s),e.next=3,T.a.get(n,{headers:{}});case 3:r=e.sent,a=r.data,j.current===t&&(h(a),W(Math.ceil(Object.keys(a).length/10)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){j.current+=1,p(!0),y(1),e(j.current).then((function(){return p(!1)}))};if(!s||b){var n=setTimeout((function(){s&&t()}),500);return function(){clearTimeout(n)}}t()}),[s]),Object(Q.jsxs)(M.a,{flex:1,spacing:1,children:[Object(Q.jsx)(G,{searchTermControl:[s,l],onButtonClick:a}),Object(Q.jsx)(H,{loading:f,data:b,onCourseClick:function(e){t(e),n()},pageControl:[v,y],noOfPages:I,itemsPerPage:10})]})},J=n(216),U=n(237),Y=n(238),V=n(226),K=n(108),X=n.n(K),Z=n(107),$=n.n(Z),ee=n(109),te=n.n(ee),ne=function(e){var t=e.label,n=e.icon,r=e.right,a=void 0===r?null:r,c=e.to,i=void 0===c?null:c,o=e.onClick,s=void 0===o?null:o;return Object(Q.jsx)(A.a,{children:Object(Q.jsxs)(J.a,{component:D.b,to:i,onClick:s,children:[Object(Q.jsx)(U.a,{children:n}),Object(Q.jsx)(R.a,{primary:t}),a]})})},re=function(e){var t=e.children,n=e.mobileClose;return Object(Q.jsxs)(L.a,{dense:!0,children:[Object(Q.jsx)(Y.a,{id:"site-functions",children:"Site functions"}),Object(Q.jsx)(ne,{label:"Favourites",icon:Object(Q.jsx)($.a,{}),to:"/favorites",onClick:n}),Object(Q.jsx)(ne,{label:"Timetable",icon:Object(Q.jsx)(X.a,{}),to:"/timetable",onClick:n}),Object(Q.jsx)(ne,{label:"Settings",icon:Object(Q.jsx)(te.a,{}),to:"/settings",onClick:n}),Object(Q.jsx)(Y.a,{id:"search",children:"Search"}),Object(Q.jsx)(A.a,{children:t})]})},ae=function(e){var t=e.children,n=e.navControl,r=e.mobile,a=Object(o.a)(n,2),c=a[0],i=a[1],s=y(),l=function(e){return{mobileSx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:e}},permanentSx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:e}}}}(s.drawerWidth),j=l.mobileSx,u=l.permanentSx,d=function(){i(!c)};return Object(Q.jsx)(h.a,{sx:s.drawer,"aria-label":"search",children:Object(Q.jsxs)(V.a,{variant:r?"temporary":"permanent",open:!r||c,onClose:r?d:null,ModalProps:{keepMounted:!0},sx:r?j:u,children:[Object(Q.jsx)(b.a,{}),Object(Q.jsx)(P.a,{}),Object(Q.jsx)(re,{children:t,mobileClose:r?d:null})]})})},ce=n(220),ie=n(240),oe=n(241),se=n(112),le=n.n(se),je=n(110),ue=n.n(je),de=n(111),be=n.n(de),he=function(e){var t=e.title,n=e.navControl,r=e.themeControl,a=e.mobile,c=Object(o.a)(r,2),i=c[0],s=c[1],l=Object(o.a)(n,2),j=l[0],u=l[1],d=function(){u(!j)},h=y(),O=function(){return Object(Q.jsx)(ce.a,{title:"Toggle theme",children:Object(Q.jsx)(ie.a,{color:"inherit","aria-label":"toggle theme",onClick:function(){return s(!i)},children:i?Object(Q.jsx)(ue.a,{}):Object(Q.jsx)(be.a,{})})})},x=function(){return a?Object(Q.jsx)(ie.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:d,sx:h.menuButton,children:Object(Q.jsx)(le.a,{})}):null},f=function(){return Object(Q.jsx)(B.a,{variant:"h6",sx:h.flex,children:t})};return Object(Q.jsx)(oe.a,{position:"fixed",sx:h.appBar,children:Object(Q.jsxs)(b.a,{children:[Object(Q.jsx)(x,{}),Object(Q.jsx)(f,{}),Object(Q.jsx)(O,{})]})})},Oe=n(245),xe=n(242),fe=n(243),pe=n(244),me=function(e){if(x.a.isEmpty(e))return"TBA";var t="";return Object.entries(e).forEach((function(e){var n=Object(o.a)(e,2)[1];t+=n.firstName+". "+n.lastName+", "})),t.substring(0,t.length-2)},ge=function(e,t){var n=e.meetingDay,r=e.meetingStartTime,a=e.meetingEndTime,c=e.assignedRoom1,i=e.assignedRoom2,o=function(e){switch(e){case"MO":return"M";case"TU":return"T";case"WE":return"W";case"TH":return"R";case"FR":return"F";default:return null}}(n),s=r.replace(":","")+"-"+a.replace(":","");if(!t)return o+" "+s;var l=function(e,t){return e||t?e&&t?e===t?e:e+"/"+t:e||t:"TBA"}(c,i);return o+" "+s+" "+l},ve=function(e,t,n,r){var a=Number(e)-Number(t);return a>0?"Available: "+a:r?"Waitlist: "+n:"Full, no waitlisting"},ye=function(e){switch(e){case"CLASS":return"In person";case"ONLSYNC":return"Online Sync";case"ONLASYNC":return"Online Async";default:return null}},Ce=function(e){var t=e.meeting,n=e.onClick,r=t.schedule,a=t.instructors,c=t.teachingMethod,i=t.sectionNumber,s=t.enrollmentCapacity,l=t.actualEnrolment,j=t.actualWaitlist,u=t.waitlist,d=t.deliveryMode,b=t.enrollmentIndicator,h=t.cancel,O=function(){return h?Object(Q.jsx)(B.a,{variant:"body2",children:"Cancelled"}):Object(Q.jsxs)(M.a,{spacing:1,direction:"row",divider:Object(Q.jsx)(P.a,{orientation:"vertical",flexItem:!0}),children:[Object(Q.jsx)(B.a,{variant:"body2",children:ve(s,l,j,u)}),Object(Q.jsx)(B.a,{variant:"body2",children:ye(d)}),Object(Q.jsx)(B.a,{variant:"body2",children:me(a)}),Object.entries(r).map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return"-"===n?null:Object(Q.jsx)(B.a,{variant:"body2",children:ge(r,!1)})})),Object(Q.jsx)(B.a,{variant:"body2",children:b})]})};return Object(Q.jsx)(A.a,{disableGutters:!0,children:Object(Q.jsx)(J.a,{onClick:n,children:Object(Q.jsx)(R.a,{primary:"".concat(c+i),secondary:Object(Q.jsx)(O,{})})})})},ke=function(e){var t=e.data,n=e.onListEntryClick;return Object(Q.jsx)(L.a,{dense:!0,children:Object.entries(t).map((function(e){var t=Object(o.a)(e,2)[1];return Object(Q.jsx)(Ce,{meeting:t,onClick:n})}))})},Se=function(e){var t=e.data,n=Object(r.useState)(!1),a=Object(o.a)(n,2),c=a[0],i=a[1];if(!t)return null;return Object(Q.jsxs)(M.a,{children:[Object(Q.jsx)(B.a,{variant:"h5",paragraph:!0,children:"Meeting Sections"}),Object(Q.jsx)(ke,{data:t,onListEntryClick:function(){i(!0)}}),Object(Q.jsxs)(xe.a,{open:c,onClose:function(){return i(!1)},maxWidth:"sm",fullWidth:!0,children:[Object(Q.jsx)(fe.a,{children:"test title"}),Object(Q.jsx)(pe.a,{children:"test content"})]})]})},we=function(e){var t=e.subheader;return Object(Q.jsx)(B.a,{variant:"h5",paragraph:!0,children:t})},Te=function(e){var t=e.title;return Object(Q.jsx)(B.a,{variant:"h4",children:t})},Ie=function(e){var t=e.description;return Object(Q.jsx)(B.a,{variant:"body1",dangerouslySetInnerHTML:{__html:t}})},Me=function(e){var t=e.prerequisite;return t?Object(Q.jsx)(B.a,{variant:"body1",children:"Pre-requisites: ".concat(t)}):null},We=function(e){var t=e.corequisite;return t?Object(Q.jsx)(B.a,{variant:"body1",children:"Co-requisites: ".concat(t)}):null},Be=function(e){var t=e.exclusion;return t?Object(Q.jsx)(B.a,{variant:"body1",children:"Exclusions: ".concat(t)}):null},Ee=function(e){var t=e.recommendedPreparation;return t?Object(Q.jsx)(B.a,{variant:"body1",children:"Recommended preparation: ".concat(t)}):null},Pe=function(e){var t=e.breadthCategories;return t?Object(Q.jsx)(B.a,{variant:"body1",children:"Breadth categories: ".concat(t)}):null},Fe=function(e){var t=e.distributionCategories;return t?Object(Q.jsx)(B.a,{variant:"body1",children:"Distribution categories: ".concat(t)}):null},Le=function(e){var t=e.webTimetableInstructions;return t?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(B.a,{variant:"body1",children:"Timetable instructions:"}),Object(Q.jsx)(B.a,{variant:"body1",dangerouslySetInnerHTML:{__html:t}})]}):null},Ae=function(e){var t=e.deliveryInstructions;return t?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(B.a,{variant:"body1",children:"Delivery instructions:"}),Object(Q.jsx)(B.a,{variant:"body1",dangerouslySetInnerHTML:{__html:t}})]}):null},Re=function(e){var t=e.data,n=t.courseTitle,r=t.courseDescription,a=t.prerequisite,c=t.corequisite,i=t.exclusion,o=t.recommendedPreparation,s=t.breadthCategories,l=t.distributionCategories,j=t.webTimetableInstructions,u=t.deliveryInstructions,d=t.meetings;return Object(Q.jsx)(Oe.a,{maxWidth:"lg",children:Object(Q.jsxs)(M.a,{spacing:3,divider:Object(Q.jsx)(P.a,{}),children:[Object(Q.jsx)(Te,{title:n}),Object(Q.jsx)(Ie,{description:r}),a||c||i||o?Object(Q.jsxs)(M.a,{spacing:1,children:[Object(Q.jsx)(we,{subheader:"Enrollment limitations"}),Object(Q.jsx)(Me,{prerequisite:a}),Object(Q.jsx)(We,{corequisite:c}),Object(Q.jsx)(Be,{exclusion:i}),Object(Q.jsx)(Ee,{recommendedPreparation:o})]}):null,s||l?Object(Q.jsxs)(M.a,{spacing:1,children:[Object(Q.jsx)(we,{subheader:"Breadth classifications"}),Object(Q.jsx)(Pe,{breadthCategories:s}),Object(Q.jsx)(Fe,{distributionCategories:l})]}):null,j||u?Object(Q.jsxs)(M.a,{spacing:1,children:[Object(Q.jsx)(we,{subheader:"Additional instructions"}),Object(Q.jsx)(Le,{webTimetableInstructions:j}),Object(Q.jsx)(Ae,{deliveryInstructions:u})]}):null,Object(Q.jsx)(Se,{data:d})]})})},Ne=function(){var e=y(),t=Object(s.a)(),n=a.a.useState(!0),c=Object(o.a)(n,2),i=c[0],O=c[1],C=a.a.useState(!1),k=Object(o.a)(C,2),S=k[0],w=k[1],T=Object(l.a)(t.breakpoints.down("md")),I=Object(r.useState)({}),M=Object(o.a)(I,2),W=M[0],B=M[1],E=Object(r.useState)(!1),P=Object(o.a)(E,2),F=P[0],L=P[1];Object(r.useEffect)((function(){L(!x.a.isEmpty(W))}),[W]),Object(r.useEffect)((function(){var e=localStorage.getItem("darkMode");e?O("dark"===e):(O(!1),localStorage.setItem("dark","light"))}),[]),Object(r.useEffect)((function(){localStorage.setItem("darkMode",i?"dark":"light")}),[i]);var A;return Object(Q.jsx)(j.a,{injectFirst:!0,children:Object(Q.jsxs)(u.a,{theme:(A=i,Object(f.a)(Object(p.a)({palette:{mode:A?"dark":"light",primary:{main:m.a[800]},secondary:{main:g.a[50]},error:{main:v.a[500]}},typography:{fontFamily:["Roboto","Quicksand"].join(",")},components:{MuiTypography:{defaultProps:{variantMapping:{h4:"h1",h5:"h2",h6:"h3"}},styleOverrides:{h3:{fontFamily:"Quicksand",fontWeight:300},h4:{fontFamily:"Quicksand",fontWeight:300},h5:{fontFamily:"Quicksand",fontWeight:400},h6:{fontFamily:"Quicksand",fontWeight:400}}}}}))),children:[Object(Q.jsx)(d.a,{}),Object(Q.jsx)(he,{title:F?"".concat(W.code).concat(W.section):"Boreal",navControl:[S,w],themeControl:[i,O],mobile:T}),Object(Q.jsx)(ae,{mobile:T,navControl:[S,w],children:Object(Q.jsx)(z,{setData:function(e){return B(e)},onCourseSelectionAction:w,onButtonClick:function(){return w(!S)}})}),Object(Q.jsx)(b.a,{}),Object(Q.jsx)(h.a,{sx:T?e.contentMobileWrapper:e.contentWrapper,children:Object(Q.jsx)(Re,{data:W})})]})})};i.a.render(Object(Q.jsx)(D.a,{children:Object(Q.jsx)(Ne,{})}),document.getElementById("root"))}},[[167,1,2]]]);
//# sourceMappingURL=main.eee672e7.chunk.js.map