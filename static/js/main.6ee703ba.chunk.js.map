{"version":3,"sources":["theme.js","components/Loader.js","components/QuickSearchPanel.js","components/Drawer.js","components/AppBar.js","components/course/CourseInformation.js","utilities/courseFormatter.js","components/course/CourseMeetings.js","screens/CourseScreen.js","utilities/fetcher.js","screens/FavoritesScreen.js","Switchboard.js","utilities/searchOptions.js","App.js","utilities/misc.js","index.js"],"names":["styles","drawerWidth","flex","paginator","justifyContent","padding","drawer","width","md","flexShrink","appBar","ml","menuButton","marginRight","display","tabs","height","drawerPaper","content","flexGrow","contentWrapper","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","contentMobileWrapper","loader","gridItem","Loader","classes","Box","alignItems","sx","CircularProgress","Search","fetchedDataControl","onCourseSelection","onButtonClick","useState","searchTerm","setSearchTerm","searchInstance","useRef","fetchedData","setFetchedData","loading","setLoading","retrievedOn","Date","page","setPage","Math","ceil","Object","keys","length","noOfPages","setNoOfPages","useEffect","search","currSearchInstance","a","url","current","axios","get","headers","data","forEach","key","execute","then","timerId","setTimeout","clearTimeout","Stack","spacing","searchTermControl","onCourseClick","pageControl","itemsPerPage","SearchOptions","noValidate","autoComplete","TextField","id","label","variant","placeholder","value","onChange","e","target","toUpperCase","fullWidth","size","Typography","Button","color","startIcon","component","RouterLink","to","onClick","Results","_","isEmpty","Divider","flexItem","Pagination","count","event","defaultPage","siblingCount","boundaryCount","ul","List","dense","slice","map","result","courseTitle","code","section","session","ListItem","button","toLowerCase","ListItemText","primary","secondary","ListEntry","icon","right","ListItemButton","ListItemIcon","DrawerContent","children","mobileClose","ListSubheader","Drawer","navControl","mobile","expandNav","setExpandNav","mobileSx","xs","boxSizing","permanentSx","handleDrawerToggle","open","onClose","ModalProps","keepMounted","Toolbar","ElevationScroll","props","trigger","useScrollTrigger","disableHysteresis","threshold","cloneElement","elevation","AppBar","title","themeControl","favoriteControl","dark","setDark","isCurrFavorite","modifyFavorites","favorite","setFavorite","handleFavoritesToggle","BrightnessButton","Tooltip","IconButton","FavoritesButton","DrawerButton","edge","Title","position","SectionSubheader","subheader","paragraph","Description","description","dangerouslySetInnerHTML","__html","Prerequisites","prerequisite","Corequisites","corequisite","Exclusions","exclusion","RecommendedPreparation","recommendedPreparation","Breadth","breadthCategories","Distribution","distributionCategories","TimetableInstructions","webTimetableInstructions","DeliveryInstructions","deliveryInstructions","Limitations","BreadthClassifications","AdditionalInstructions","formatInstructors","instructors","string","entries","lastName","firstName","substring","formatSessionInfo","meetingSession","full","meetingDay","meetingStartTime","meetingEndTime","assignedRoom1","assignedRoom2","date","formatDayOfWeek","time","replace","room","formatLocation","formatCapacity","capacity","enrollment","waitlist","waitlistable","spotsLeft","Number","formatDeliveryMode","deliveryMode","getPriorityCodeDescription","formatDate","sections","toString","split","MeetingListing","meeting","schedule","teachingMethod","sectionNumber","enrollmentCapacity","actualEnrolment","actualWaitlist","enrollmentIndicator","enrollmentControls","cancel","ListItemSecondary","theme","useTheme","fontVariant","useMediaQuery","breakpoints","down","direction","divider","orientation","sm","Instructors","k","v","EnrollmentIndicator","disableGutters","meetings","filter","delivery","priority","priorityGroups","entry","groupData","postCode","postName","restrictedGroup","group","yearOfStudy","primaryOrgName","secondaryOrgName","assocOrgName","dept","adminOrgName","formatPriorityGroup","MeetingListings","onListEntryClick","DialogContent","showGroups","setShowGroups","transform","transition","index","CourseMeetings","dialogOpen","setDialogOpen","dialogData","setDialogData","Dialog","maxWidth","DialogTitle","CourseScreen","currDisplayedDataControl","currFetchedData","favorites","location","useLocation","currDisplayedData","setCurrDisplayedData","pathSplit","pathname","val","currDisplayedId","hasOwnProperty","window","navigator","onLine","create","baseURL","params","res","updated","catch","Container","courseDescription","FavoritesList","favoritesControl","updateFavorite","ListItemSecondaryAction","sort","b","FavoritesScreen","Switchboard","path","years","short_label","App","sv","themeFunction","localStorage","getItem","isNavExpanded","setIsNavExpanded","appBarTitle","setAppBarTitle","favoritesKey","setCurrFetchedData","existingFavorites","JSON","parse","loadExistingFavorites","setFavorites","monitorCrossTabState","newValue","addEventListener","removeEventListener","newTitle","currDisplayedCourse","startsWith","last","obj","console","log","getPageTitle","document","setItem","useDark","getId","action","courseId","state","omit","stringify","StyledEngineProvider","injectFirst","ThemeProvider","responsiveFontSizes","createTheme","palette","mode","main","blue","grey","error","red","typography","fontFamily","join","components","MuiTypography","defaultProps","variantMapping","h4","h5","h6","styleOverrides","h3","fontWeight","CssBaseline","includes","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6ee703ba.chunk.js","sourcesContent":["import { createTheme, responsiveFontSizes } from \"@mui/material/styles\";\nimport { blue, grey, red } from \"@mui/material/colors\";\n\nconst theme = (useDark) => {\n  return responsiveFontSizes(\n    createTheme({\n      palette: {\n        mode: useDark ? \"dark\" : \"light\",\n        primary: {\n          main: blue[800],\n        },\n        secondary: {\n          main: grey[50],\n        },\n        error: {\n          main: red[500],\n        },\n      },\n      typography: {\n        fontFamily: [\"Roboto\", \"Quicksand\"].join(\",\"),\n      },\n      components: {\n        MuiTypography: {\n          defaultProps: {\n            variantMapping: {\n              h4: \"h1\",\n              h5: \"h2\",\n              h6: \"h3\",\n            },\n          },\n          styleOverrides: {\n            h3: {\n              fontFamily: \"Quicksand\",\n              fontWeight: 300,\n            },\n            h4: {\n              fontFamily: \"Quicksand\",\n              fontWeight: 300,\n            },\n            h5: {\n              fontFamily: \"Quicksand\",\n              fontWeight: 400,\n            },\n            h6: {\n              fontFamily: \"Quicksand\",\n              fontWeight: 400,\n            },\n          },\n        },\n      },\n    })\n  );\n};\n\nconst styles = () => {\n  const drawerWidth = 360;\n\n  return {\n    flex: {\n      flex: 1,\n    },\n    paginator: {\n      justifyContent: \"center\",\n      padding: \"4px\",\n    },\n    drawerWidth: drawerWidth,\n    drawer: { width: { md: drawerWidth }, flexShrink: { md: 0 } },\n    appBar: {\n      width: { md: `calc(100% - ${drawerWidth}px)` },\n      ml: { md: `${drawerWidth}px` },\n    },\n    menuButton: {\n      marginRight: 2,\n      display: {\n        md: \"none\",\n      },\n    },\n    tabs: {\n      height: \"48px\",\n    },\n    drawerPaper: {\n      width: drawerWidth,\n    },\n    content: {\n      flexGrow: 1,\n      padding: 3,\n    },\n    contentWrapper: {\n      flexGrow: 1,\n      paddingLeft: 3,\n      paddingRight: 3,\n      paddingTop: 5,\n      paddingBottom: 5,\n      marginLeft: `${drawerWidth}px`,\n    },\n    contentMobileWrapper: {\n      flexGrow: 1,\n      paddingLeft: 3,\n      paddingRight: 3,\n      paddingTop: 5,\n      paddingBottom: 5,\n    },\n    loader: {\n      padding: 3,\n    },\n    gridItem: {\n      height: \"100%\",\n    },\n  };\n};\n\nexport { theme, styles };\n","import { styles } from \"../theme\";\nimport { Box, CircularProgress } from \"@mui/material\";\n\nconst Loader = () => {\n  const classes = styles();\n  return (\n    <Box\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      sx={classes.loader}\n    >\n      <CircularProgress />\n    </Box>\n  );\n};\n\nexport { Loader };\n","import { useEffect, useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport {\n  Button,\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  Pagination,\n  Stack,\n  TextField,\n  Typography,\n} from \"@mui/material\";\n\nimport ManageSearchIcon from \"@mui/icons-material/ManageSearch\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport _ from \"lodash\";\n\nimport { styles } from \"../theme\";\nimport { Loader } from \"./Loader\";\n\nconst Search = ({ fetchedDataControl, onCourseSelection, onButtonClick }) => {\n  // search\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const searchInstance = useRef(0);\n\n  const [fetchedData, setFetchedData] = fetchedDataControl;\n  const [loading, setLoading] = useState(false);\n  const retrievedOn = useRef(new Date());\n\n  // pagination\n  const itemsPerPage = 10;\n  const [page, setPage] = useState(1);\n  const [noOfPages, setNoOfPages] = useState(\n    Math.ceil(Object.keys(fetchedData).length / itemsPerPage)\n  );\n\n  const onCourseClick = () => {\n    onCourseSelection();\n  };\n\n  useEffect(() => {\n    const search = async (currSearchInstance) => {\n      const url = `https://ionice.herokuapp.com/https://timetable.iit.artsci.utoronto.ca/api/20219/courses?code=${searchTerm}`;\n      retrievedOn.current = new Date();\n      const { data } = await axios.get(url, { headers: {} });\n\n      if (searchInstance.current === currSearchInstance) {\n        Object.keys(data).forEach((key) => {\n          data[key][\"updated\"] = retrievedOn.current;\n        });\n        setFetchedData(data);\n        setNoOfPages(Math.ceil(Object.keys(data).length / itemsPerPage));\n      }\n    };\n\n    const execute = () => {\n      searchInstance.current += 1;\n      setLoading(true);\n      setPage(1);\n      search(searchInstance.current).then(() => setLoading(false));\n    };\n\n    if (searchTerm && !fetchedData) {\n      execute();\n    } else {\n      const timerId = setTimeout(() => {\n        if (searchTerm) {\n          execute();\n        }\n      }, 500);\n\n      return () => {\n        clearTimeout(timerId);\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchTerm]);\n\n  return (\n    <Stack flex={1} spacing={1}>\n      <SearchOptions\n        searchTermControl={[searchTerm, setSearchTerm]}\n        onButtonClick={onButtonClick}\n      />\n      <Results\n        loading={loading}\n        data={fetchedData}\n        onCourseClick={onCourseClick}\n        pageControl={[page, setPage]}\n        noOfPages={noOfPages}\n        itemsPerPage={itemsPerPage}\n      />\n    </Stack>\n  );\n};\n\nconst SearchOptions = ({ searchTermControl, onButtonClick }) => {\n  const [searchTerm, setSearchTerm] = searchTermControl;\n\n  return (\n    <form noValidate autoComplete=\"off\">\n      <Stack spacing={1}>\n        <TextField\n          id=\"code-input\"\n          label=\"Course Code\"\n          variant=\"filled\"\n          placeholder=\"Quick search\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value.toUpperCase())}\n          fullWidth\n          size=\"small\"\n          flex={1}\n        />\n        <Typography variant=\"caption\">\n          Quick search shows courses for the current year. For more options, use\n          advanced search.\n        </Typography>\n        <Button\n          variant=\"outlined\"\n          color=\"inherit\"\n          startIcon={<ManageSearchIcon />}\n          component={RouterLink}\n          to=\"/search\"\n          onClick={onButtonClick}\n        >\n          Advanced Search\n        </Button>\n      </Stack>\n    </form>\n  );\n};\n\nconst Results = ({\n  loading,\n  data,\n  onCourseClick,\n  pageControl,\n  itemsPerPage,\n  noOfPages,\n}) => {\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (data === null || _.isEmpty(data)) {\n    return (\n      <Stack spacing={1} justifyContent=\"center\" alignItems=\"center\">\n        <Divider flexItem />\n        <Typography variant=\"body2\">\n          Start searching to see courses here!\n        </Typography>\n      </Stack>\n    );\n  }\n\n  const classes = styles();\n\n  const [page, setPage] = pageControl;\n  const handlePageChange = (event, value) => {\n    setPage(value);\n  };\n\n  return (\n    <Stack spacing={1}>\n      <Divider />\n\n      <Pagination\n        count={noOfPages}\n        page={page}\n        onChange={handlePageChange}\n        defaultPage={1}\n        siblingCount={0}\n        boundaryCount={1}\n        color=\"primary\"\n        sx={{ ul: classes.paginator }}\n      />\n\n      <Divider />\n\n      <List dense>\n        {Object.keys(data)\n          .slice((page - 1) * itemsPerPage, page * itemsPerPage)\n          .map((key) => {\n            const result = data[key];\n            const { courseTitle, code, section, session } = result;\n            return (\n              <ListItem\n                button\n                key={key}\n                onClick={() => onCourseClick(result)}\n                component={RouterLink}\n                to={`/course/${session}/${section.toLowerCase()}/${code.toLowerCase()}`}\n              >\n                <ListItemText\n                  primary={courseTitle}\n                  secondary={`${code}${section}`}\n                />\n              </ListItem>\n            );\n          })}\n      </List>\n    </Stack>\n  );\n};\n\nexport { Search as QuickSearchPanel };\n","import {\n  Box,\n  Divider,\n  Drawer as MuiDrawer,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemIcon,\n  ListItemText,\n  ListSubheader,\n  Toolbar,\n} from \"@mui/material\";\n\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport CalendarTodayIcon from \"@mui/icons-material/CalendarToday\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport SettingsIcon from \"@mui/icons-material/Settings\";\n\nimport { styles } from \"../theme\";\n\nconst sx = (drawerWidth) => ({\n  mobileSx: {\n    display: { xs: \"block\", md: \"none\" },\n    \"& .MuiDrawer-paper\": {\n      boxSizing: \"border-box\",\n      width: drawerWidth,\n    },\n  },\n  permanentSx: {\n    display: { xs: \"none\", md: \"block\" },\n    \"& .MuiDrawer-paper\": {\n      boxSizing: \"border-box\",\n      width: drawerWidth,\n    },\n  },\n});\n\nconst ListEntry = ({\n  label,\n  icon,\n  right = null,\n  to = null,\n  onClick = null,\n}) => (\n  <ListItem>\n    <ListItemButton component={RouterLink} to={to} onClick={onClick}>\n      <ListItemIcon>{icon}</ListItemIcon>\n      <ListItemText primary={label} />\n      {right}\n    </ListItemButton>\n  </ListItem>\n);\n\nconst DrawerContent = ({ children, mobileClose }) => (\n  <List dense>\n    <ListSubheader id=\"site-functions\">Site functions</ListSubheader>\n\n    <ListEntry\n      label=\"Favourites\"\n      icon={<FavoriteIcon />}\n      to=\"/favorites\"\n      onClick={mobileClose}\n    />\n    <ListEntry\n      label=\"Timetable\"\n      icon={<CalendarTodayIcon />}\n      to=\"/timetable\"\n      onClick={mobileClose}\n    />\n    <ListEntry\n      label=\"Settings\"\n      icon={<SettingsIcon />}\n      to=\"/settings\"\n      onClick={mobileClose}\n    />\n\n    <ListSubheader id=\"search\">Search</ListSubheader>\n\n    <ListItem>{children}</ListItem>\n  </List>\n);\n\nconst Drawer = ({ children, navControl, mobile }) => {\n  const [expandNav, setExpandNav] = navControl;\n\n  const classes = styles();\n  const drawerWidth = classes.drawerWidth;\n  const { mobileSx, permanentSx } = sx(drawerWidth);\n\n  const handleDrawerToggle = () => {\n    setExpandNav(!expandNav);\n  };\n\n  return (\n    <Box sx={classes.drawer} aria-label=\"search\">\n      <MuiDrawer\n        variant={mobile ? \"temporary\" : \"permanent\"}\n        open={mobile ? expandNav : true}\n        onClose={mobile ? handleDrawerToggle : null}\n        ModalProps={{\n          keepMounted: true,\n        }}\n        sx={mobile ? mobileSx : permanentSx}\n      >\n        <Toolbar />\n        <Divider />\n        <DrawerContent\n          children={children}\n          mobileClose={mobile ? handleDrawerToggle : null}\n        />\n      </MuiDrawer>\n    </Box>\n  );\n};\n\nexport { Drawer };\n","import {\n  AppBar as MuiAppBar,\n  IconButton,\n  Toolbar,\n  Tooltip,\n  Typography,\n  useScrollTrigger,\n} from \"@mui/material\";\n\nimport Brightness4Icon from \"@mui/icons-material/Brightness4\";\nimport Brightness7Icon from \"@mui/icons-material/Brightness7\";\nimport FavoriteBorderIcon from \"@mui/icons-material/FavoriteBorder\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport RefreshIcon from \"@mui/icons-material/Refresh\";\n\nimport { styles } from \"../theme\";\nimport { cloneElement, useEffect, useState } from \"react\";\n\nconst ElevationScroll = (props) => {\n  const { children } = props;\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0,\n  });\n\n  return cloneElement(children, {\n    elevation: trigger ? 4 : 0,\n  });\n};\n\nconst AppBar = ({\n  title,\n  navControl,\n  themeControl,\n  favoriteControl,\n  mobile,\n}) => {\n  const [dark, setDark] = themeControl;\n  const [expandNav, setExpandNav] = navControl;\n  const [isCurrFavorite, modifyFavorites] = favoriteControl;\n  const [favorite, setFavorite] = useState(isCurrFavorite);\n\n  useEffect(() => {\n    setFavorite(isCurrFavorite);\n  }, [title, isCurrFavorite]);\n\n  const handleDrawerToggle = () => {\n    setExpandNav(!expandNav);\n  };\n\n  const handleFavoritesToggle = () => {\n    modifyFavorites(!favorite ? \"add\" : \"remove\");\n  };\n\n  const classes = styles();\n\n  const BrightnessButton = () => (\n    <Tooltip title={\"Toggle theme\"}>\n      <IconButton\n        color=\"inherit\"\n        aria-label=\"toggle theme\"\n        onClick={() => setDark(!dark)}\n      >\n        {dark ? <Brightness4Icon /> : <Brightness7Icon />}\n      </IconButton>\n    </Tooltip>\n  );\n\n  const FavoritesButton = () => {\n    if (!title) return null;\n\n    return (\n      <Tooltip title={`${favorite ? \"Remove from\" : \"Add to\"} favorites`}>\n        <IconButton color=\"inherit\" onClick={handleFavoritesToggle}>\n          {favorite ? <FavoriteIcon /> : <FavoriteBorderIcon />}\n        </IconButton>\n      </Tooltip>\n    );\n  };\n\n  const RefreshButton = () => {\n    if (!title) return null;\n\n    // TODO: pass in function to be called\n    return (\n      <Tooltip title=\"Refresh course\">\n        <IconButton color=\"inherit\">\n          <RefreshIcon />\n        </IconButton>\n      </Tooltip>\n    );\n  };\n\n  const DrawerButton = () => {\n    if (!mobile) return null;\n\n    return (\n      <IconButton\n        color=\"inherit\"\n        aria-label=\"open drawer\"\n        edge=\"start\"\n        onClick={handleDrawerToggle}\n        sx={classes.menuButton}\n      >\n        <MenuIcon />\n      </IconButton>\n    );\n  };\n\n  const Title = () => (\n    <Typography variant=\"h6\" sx={classes.flex}>\n      {title}\n    </Typography>\n  );\n\n  return (\n    <ElevationScroll>\n      <MuiAppBar position=\"fixed\" sx={classes.appBar}>\n        <Toolbar>\n          <DrawerButton />\n          <Title />\n          {/*<RefreshButton />*/}\n          <FavoritesButton />\n          <BrightnessButton />\n        </Toolbar>\n      </MuiAppBar>\n    </ElevationScroll>\n  );\n};\n\nexport { AppBar };\n","import { Stack, Typography } from \"@mui/material\";\r\n\r\nconst SectionSubheader = ({ subheader }) => (\r\n  <Typography variant=\"h5\" paragraph>\r\n    {subheader}\r\n  </Typography>\r\n);\r\n\r\nconst Title = ({ title, retrievedOn }) => {\r\n  return (\r\n    <>\r\n      <Typography variant=\"h4\">{title}</Typography>\r\n      <Typography variant=\"body2\">{`Retrieved on ${retrievedOn}`}</Typography>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Description = ({ description }) => {\r\n  if (!description) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography\r\n      variant=\"body1\"\r\n      dangerouslySetInnerHTML={{\r\n        __html: description,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst Prerequisites = ({ prerequisite }) => {\r\n  if (!prerequisite) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography variant=\"body1\">{`Pre-requisites: ${prerequisite}`}</Typography>\r\n  );\r\n};\r\n\r\nconst Corequisites = ({ corequisite }) => {\r\n  if (!corequisite) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography variant=\"body1\">{`Co-requisites: ${corequisite}`}</Typography>\r\n  );\r\n};\r\n\r\nconst Exclusions = ({ exclusion }) => {\r\n  if (!exclusion) {\r\n    return null;\r\n  }\r\n\r\n  return <Typography variant=\"body1\">{`Exclusions: ${exclusion}`}</Typography>;\r\n};\r\n\r\nconst RecommendedPreparation = ({ recommendedPreparation }) => {\r\n  if (!recommendedPreparation) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography variant=\"body1\">{`Recommended preparation: ${recommendedPreparation}`}</Typography>\r\n  );\r\n};\r\n\r\nconst Breadth = ({ breadthCategories }) => {\r\n  if (!breadthCategories) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography variant=\"body1\">{`Breadth categories: ${breadthCategories}`}</Typography>\r\n  );\r\n};\r\n\r\nconst Distribution = ({ distributionCategories }) => {\r\n  if (!distributionCategories) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography variant=\"body1\">{`Distribution categories: ${distributionCategories}`}</Typography>\r\n  );\r\n};\r\n\r\nconst TimetableInstructions = ({ webTimetableInstructions }) => {\r\n  if (!webTimetableInstructions) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"body1\">Timetable instructions:</Typography>\r\n      <Typography\r\n        variant=\"body1\"\r\n        dangerouslySetInnerHTML={{\r\n          __html: webTimetableInstructions,\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst DeliveryInstructions = ({ deliveryInstructions }) => {\r\n  if (!deliveryInstructions) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"body1\">Delivery instructions:</Typography>\r\n      <Typography\r\n        variant=\"body1\"\r\n        dangerouslySetInnerHTML={{\r\n          __html: deliveryInstructions,\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst Limitations = ({\r\n  prerequisite,\r\n  corequisite,\r\n  exclusion,\r\n  recommendedPreparation,\r\n}) => {\r\n  if (!prerequisite && !corequisite && !exclusion && !recommendedPreparation) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <SectionSubheader subheader=\"Enrollment limitations\" />\r\n      <Prerequisites prerequisite={prerequisite} />\r\n      <Corequisites corequisite={corequisite} />\r\n      <Exclusions exclusion={exclusion} />\r\n      <RecommendedPreparation recommendedPreparation={recommendedPreparation} />\r\n    </Stack>\r\n  );\r\n};\r\n\r\nconst BreadthClassifications = ({\r\n  breadthCategories,\r\n  distributionCategories,\r\n}) => {\r\n  if (!breadthCategories && !distributionCategories) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <SectionSubheader subheader=\"Breadth classifications\" />\r\n      <Breadth breadthCategories={breadthCategories} />\r\n      <Distribution distributionCategories={distributionCategories} />\r\n    </Stack>\r\n  );\r\n};\r\n\r\nconst AdditionalInstructions = ({\r\n  webTimetableInstructions,\r\n  deliveryInstructions,\r\n}) => {\r\n  if (!webTimetableInstructions && !deliveryInstructions) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <SectionSubheader subheader=\"Additional instructions\" />\r\n      <TimetableInstructions\r\n        webTimetableInstructions={webTimetableInstructions}\r\n      />\r\n      <DeliveryInstructions deliveryInstructions={deliveryInstructions} />\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport {\r\n  Title,\r\n  Description,\r\n  Limitations,\r\n  BreadthClassifications,\r\n  AdditionalInstructions,\r\n};\r\n","import _ from \"lodash\";\n\nconst formatDayOfWeek = (date, full) => {\n  switch (date) {\n    case \"MO\":\n      return full ? \"Mon\" : \"M\";\n    case \"TU\":\n      return full ? \"Tue\" : \"T\";\n    case \"WE\":\n      return full ? \"Wed\" : \"W\";\n    case \"TH\":\n      return full ? \"Thu\" : \"R\";\n    case \"FR\":\n      return full ? \"Fri\" : \"F\";\n    default:\n      return null;\n  }\n};\n\nconst formatInstructors = (instructors) => {\n  if (_.isEmpty(instructors)) return \"TBA\";\n  let string = \"\";\n  Object.entries(instructors).forEach(([, value]) => {\n    const { lastName, firstName } = value;\n    string += firstName + \". \" + lastName + \", \";\n  });\n  return string.substring(0, string.length - 2);\n};\n\nconst formatLocation = (assignedRoom1, assignedRoom2) => {\n  // both rooms N/A\n  if (!assignedRoom1 && !assignedRoom2) {\n    return \"TBA\";\n  }\n\n  // both rooms are used\n  if (assignedRoom1 && assignedRoom2) {\n    if (assignedRoom1 === assignedRoom2) {\n      return assignedRoom1;\n    }\n    return assignedRoom1 + \"/\" + assignedRoom2;\n  }\n\n  // only 1 room is used\n  return assignedRoom1 ? assignedRoom1 : assignedRoom2;\n};\n\nconst formatSessionInfo = (meetingSession, full) => {\n  const {\n    meetingDay,\n    meetingStartTime,\n    meetingEndTime,\n    assignedRoom1,\n    assignedRoom2,\n  } = meetingSession;\n\n  const date = formatDayOfWeek(meetingDay, full);\n\n  const time = full\n    ? meetingStartTime + \" – \" + meetingEndTime\n    : meetingStartTime.replace(\":\", \"\") + \"–\" + meetingEndTime.replace(\":\", \"\");\n\n  if (!full) {\n    return date + \" \" + time;\n  }\n\n  const room = formatLocation(assignedRoom1, assignedRoom2);\n  return date + \" \" + time + \" \" + (full ? \"at \" : \"\") + room;\n};\n\nconst formatCapacity = (capacity, enrollment, waitlist, waitlistable, full) => {\n  const spotsLeft = Number(capacity) - Number(enrollment);\n\n  if (!full) {\n    if (spotsLeft > 0) return \"Available: \" + spotsLeft;\n    if (!waitlistable) return \"Full, no waitlisting\";\n    return \"Waitlist: \" + waitlist;\n  }\n\n  if (spotsLeft > 0)\n    return `Remaining capacity: ${spotsLeft + \" out of \" + capacity}`;\n  if (!waitlistable) return `Full, no waitlisting. (capacity: ${capacity})`;\n  return `Waitlist: ${waitlist} (capacity: ${capacity})`;\n};\n\nconst formatDeliveryMode = (deliveryMode, full) => {\n  switch (deliveryMode) {\n    case \"CLASS\":\n      return \"In person\";\n    case \"ONLSYNC\":\n      return full ? \"Online — Synchronous\" : \"Online Sync\";\n    case \"ONLASYNC\":\n      return full ? \"Online — Asynchronous\" : \"Online Async\";\n    default:\n      return null;\n  }\n};\n\nconst formatPriorityGroup = (groupData) => {\n  // note that restrictedGroup can be undefined\n  const { postCode, postName, restrictedGroup } = groupData;\n  const group = restrictedGroup ? `Group ${restrictedGroup} — ` : \"\";\n  if (postCode && postName) return group + postCode + \" \" + postName;\n\n  const {\n    yearOfStudy,\n    primaryOrgName,\n    secondaryOrgName,\n    assocOrgName,\n    adminOrgName,\n  } = groupData;\n\n  const year =\n    !yearOfStudy || yearOfStudy === \"*\" ? \"\" : `Year ${yearOfStudy} `;\n  const faculty = primaryOrgName ? primaryOrgName + \": \" : \"\";\n  const dept = adminOrgName\n    ? adminOrgName\n    : secondaryOrgName\n    ? secondaryOrgName\n    : \"\";\n\n  const college = assocOrgName ? assocOrgName : \"\";\n\n  return group + faculty + year + (dept ? dept : college);\n};\n\nconst getPriorityCodeDescription = (code) => {\n  switch (code) {\n    case \"P\":\n      return \"Priority: Some students are given priority access until a specific date.\";\n    case \"E\":\n      return \"Enrol at Department: Students must contact the sponsoring Department to enrol.\";\n    case \"AE\":\n      return \"Department Approval Required: Students must request enrolment on ACORN and await Departmental review of their request.\";\n    case \"PE\":\n      return \"Priority, then Enrol at Department: Some students are given priority access until a specific date, after which time another group of students is also able to enrol by contacting the sponsoring Department.\";\n    case \"R1\":\n      return \"Restricted: Course/section is restricted at all times for specific students.\";\n    case \"R2\":\n      return \"Restricted: Course/section is restricted to a group of students until a specific date, after which time another group of students is also able to enrol.\";\n    default:\n      return \"\";\n  }\n};\n\nconst formatDate = (date) => {\n  if (!date) {\n    return null;\n  }\n  const sections = date.toString().split(\" \");\n  return `${sections[1]} ${sections[2]} ${sections[3]} ${sections[4]} ${sections[6]} ${sections[7]} ${sections[8]}`;\n};\n\nexport {\n  formatDate,\n  formatDeliveryMode,\n  formatInstructors,\n  formatCapacity,\n  formatPriorityGroup,\n  formatSessionInfo,\n  getPriorityCodeDescription,\n};\n","import {\n  Dialog,\n  DialogContent as MuiDialogContent,\n  DialogTitle,\n  Divider,\n  IconButton,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemText,\n  Stack,\n  Typography,\n  useMediaQuery,\n  useTheme,\n} from \"@mui/material\";\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\nimport { useState } from \"react\";\nimport _ from \"lodash\";\n\nimport {\n  formatCapacity,\n  formatDeliveryMode,\n  formatInstructors,\n  formatPriorityGroup,\n  formatSessionInfo,\n  getPriorityCodeDescription,\n} from \"../../utilities/courseFormatter\";\n\nconst MeetingListing = ({ meeting, onClick }) => {\n  const {\n    schedule,\n    instructors,\n\n    teachingMethod, // LEC, TUT, PRA\n    sectionNumber,\n\n    enrollmentCapacity,\n    actualEnrolment,\n    actualWaitlist,\n    waitlist, // Y, N\n\n    deliveryMode, // CLASS, ONLSYNC, ONLASYNC\n\n    enrollmentIndicator, // P, E, AE, PE, R1, R2\n    enrollmentControls,\n\n    cancel,\n  } = meeting;\n\n  const ListItemSecondary = () => {\n    const theme = useTheme();\n    const fontVariant = useMediaQuery(theme.breakpoints.down(\"sm\"))\n      ? \"caption\"\n      : \"body2\";\n\n    if (cancel) {\n      return <Typography variant={fontVariant}>Cancelled</Typography>;\n    }\n\n    const full = false;\n    const Instructors = (instructors) => {\n      if (useMediaQuery(theme.breakpoints.down(\"sm\"))) {\n        return null;\n      }\n\n      return (\n        <Typography variant={fontVariant} display={{ xs: \"none\", sm: \"block\" }}>\n          {formatInstructors(instructors)}\n        </Typography>\n      );\n    };\n\n    const EnrollmentIndicator = (enrollmentIndicator) => {\n      if (useMediaQuery(theme.breakpoints.down(\"sm\")) || !enrollmentIndicator) {\n        return null;\n      }\n\n      return (\n        <Typography variant={fontVariant}>{enrollmentIndicator}</Typography>\n      );\n    };\n\n    return (\n      <Stack\n        spacing={1}\n        direction=\"row\"\n        divider={<Divider orientation=\"vertical\" flexItem />}\n      >\n        <Typography variant={fontVariant}>\n          {formatCapacity(\n            enrollmentCapacity,\n            actualEnrolment,\n            actualWaitlist,\n            waitlist,\n            full\n          )}\n        </Typography>\n\n        <Typography variant={fontVariant}>\n          {formatDeliveryMode(deliveryMode, full)}\n        </Typography>\n\n        {Instructors(instructors)}\n\n        {Object.entries(schedule).map(([k, v]) => {\n          if (k === \"-\") return null;\n          return (\n            <Typography variant={fontVariant} key={k}>\n              {formatSessionInfo(v, full)}\n            </Typography>\n          );\n        })}\n\n        {EnrollmentIndicator(enrollmentIndicator)}\n      </Stack>\n    );\n  };\n\n  const section = `${teachingMethod + sectionNumber}`;\n\n  const onItemClick = () => {\n    const full = true;\n    onClick({\n      section,\n      instructors: formatInstructors(instructors),\n      meetings: Object.entries(schedule)\n        .filter(([k]) => k !== \"-\")\n        .map(([, v]) => formatSessionInfo(v, full)),\n      delivery: formatDeliveryMode(deliveryMode, full),\n      priority: getPriorityCodeDescription(enrollmentIndicator),\n      capacity: formatCapacity(\n        enrollmentCapacity,\n        actualEnrolment,\n        actualWaitlist,\n        waitlist,\n        full\n      ),\n      priorityGroups: enrollmentControls.map((entry) =>\n        formatPriorityGroup(entry)\n      ),\n    });\n  };\n\n  return (\n    <ListItem disableGutters>\n      <ListItemButton onClick={onItemClick}>\n        <Stack>\n          <ListItemText primary={section} />\n          <ListItemSecondary />\n        </Stack>\n      </ListItemButton>\n    </ListItem>\n  );\n};\n\nconst MeetingListings = ({ data, onListEntryClick }) => (\n  <List dense>\n    {Object.entries(data).map(([k, v]) => {\n      return <MeetingListing meeting={v} onClick={onListEntryClick} key={k} />;\n    })}\n  </List>\n);\n\nconst DialogContent = ({ data }) => {\n  const {\n    instructors,\n    meetings,\n    delivery,\n    priority,\n    capacity,\n    priorityGroups,\n  } = data;\n  const [showGroups, setShowGroups] = useState(false);\n\n  return (\n    <MuiDialogContent>\n      <Stack spacing={2} divider={<Divider />}>\n        <Typography variant=\"body1\">{`Instructors: ${instructors}`}</Typography>\n        <Typography variant=\"body1\">{`Delivery mode: ${delivery}`}</Typography>\n        <Typography variant=\"body1\">{capacity}</Typography>\n        <Stack>\n          <Typography variant=\"body1\" paragraph>\n            Meetings:\n          </Typography>\n          {meetings.map((entry) => (\n            <Typography variant=\"body2\" key={entry}>\n              {entry}\n            </Typography>\n          ))}\n        </Stack>\n        {priority ? (\n          <Stack>\n            <Typography variant=\"body1\" paragraph>\n              Enrollment priority:\n            </Typography>\n            <Typography variant=\"body2\">{priority}</Typography>\n          </Stack>\n        ) : null}\n        {!_.isEmpty(priorityGroups) ? (\n          <Stack>\n            <Stack\n              direction=\"row\"\n              spacing={1}\n              alignItems=\"center\"\n              paddingBottom={1}\n            >\n              <Typography variant=\"body1\">Priority student groups:</Typography>\n              <IconButton onClick={() => setShowGroups(!showGroups)}>\n                <KeyboardArrowDownIcon\n                  sx={{\n                    transform: showGroups ? \"rotate(-180deg)\" : \"rotate(0)\",\n                    transition: \"0.2s\",\n                  }}\n                />\n              </IconButton>\n            </Stack>\n\n            <Stack sx={{ display: showGroups ? \"block\" : \"none\" }}>\n              {priorityGroups.map((entry, index) => (\n                <Typography variant=\"body2\" key={index}>\n                  {entry}\n                </Typography>\n              ))}\n            </Stack>\n          </Stack>\n        ) : null}\n      </Stack>\n    </MuiDialogContent>\n  );\n};\n\nconst CourseMeetings = ({ data }) => {\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [dialogData, setDialogData] = useState({\n    section: \"\",\n    instructors: \"\",\n    meetings: [],\n    delivery: \"\",\n    priority: \"\",\n    capacity: \"\",\n    priorityGroups: [],\n  });\n\n  if (!data) {\n    return null;\n  }\n\n  const entryClick = (data) => {\n    setDialogOpen(true);\n    setDialogData(data);\n  };\n\n  return (\n    <Stack>\n      <Typography variant=\"h5\" paragraph>\n        Meeting Sections\n      </Typography>\n      <MeetingListings data={data} onListEntryClick={entryClick} />\n      <Dialog\n        open={dialogOpen}\n        onClose={() => setDialogOpen(false)}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogTitle>{dialogData.section}</DialogTitle>\n        <DialogContent data={dialogData} />\n      </Dialog>\n    </Stack>\n  );\n};\n\nexport { CourseMeetings };\n","import { Box, Container, Divider, Stack, Typography } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport {\n  Title,\n  Description,\n  Limitations,\n  BreadthClassifications,\n  AdditionalInstructions,\n} from \"../components/course/CourseInformation\";\nimport { CourseMeetings as Meetings } from \"../components/course/CourseMeetings\";\nimport { formatDate } from \"../utilities/courseFormatter\";\nimport { getSearchInstance } from \"../utilities/fetcher\";\nimport { Loader } from \"../components/Loader\";\n\nconst CourseScreen = ({\n  currDisplayedDataControl,\n  currFetchedData,\n  favorites,\n}) => {\n  const location = useLocation();\n  const [loading, setLoading] = useState(false);\n  const [currDisplayedData, setCurrDisplayedData] = currDisplayedDataControl;\n\n  // summary: try to load from current data, if not then\n  // 1) if offline: try to load from favs\n  // 2) if online: fetch from api\n  // then push to curr displayed data\n  useEffect(() => {\n    const pathSplit = location.pathname\n      .replace(\"/course\", \"\")\n      .toUpperCase()\n      .split(\"/\")\n      .filter((val) => val);\n\n    if (pathSplit.length !== 3) {\n      setCurrDisplayedData({});\n      setLoading(false);\n    }\n\n    const code = pathSplit[2],\n      section = pathSplit[1],\n      session = pathSplit[0];\n    const currDisplayedId = `${code}-${section}-${session}`;\n\n    if (currFetchedData.hasOwnProperty(currDisplayedId)) {\n      setCurrDisplayedData(currFetchedData[currDisplayedId]);\n      setLoading(false);\n    } else {\n      setLoading(true);\n      if (!window.navigator.onLine) {\n        if (favorites.hasOwnProperty(currDisplayedId)) {\n          setCurrDisplayedData(favorites[currDisplayedId]);\n          setLoading(false);\n        }\n        return;\n      }\n      const retrievedOn = new Date();\n      getSearchInstance()\n        .get(`${session}/courses/`, {\n          params: { code, section },\n        })\n        .then((res) => {\n          setCurrDisplayedData(\n            !res.data[currDisplayedId]\n              ? {}\n              : {\n                  ...res.data[currDisplayedId],\n                  updated: retrievedOn,\n                }\n          );\n          setLoading(false);\n        })\n        .catch(() => {\n          setCurrDisplayedData({});\n          setLoading(false);\n        });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location]);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (Object.keys(currDisplayedData).length === 0) {\n    return (\n      <Container maxWidth=\"lg\">\n        <Box display=\"flex\" justifyContent=\"center\">\n          <Typography variant=\"h4\">\n            Invalid URL. Perhaps you visited a broken link?\n          </Typography>\n        </Box>\n      </Container>\n    );\n  }\n\n  const {\n    courseTitle,\n    courseDescription,\n    prerequisite,\n    corequisite,\n    exclusion,\n    recommendedPreparation,\n    breadthCategories,\n    distributionCategories,\n    webTimetableInstructions,\n    deliveryInstructions,\n    meetings,\n    updated,\n  } = currDisplayedData;\n\n  return (\n    <Container maxWidth=\"lg\">\n      <Stack spacing={3} divider={<Divider />}>\n        <Title title={courseTitle} retrievedOn={formatDate(updated)} />\n        {Description({ courseDescription })}\n        {Limitations({\n          prerequisite,\n          corequisite,\n          exclusion,\n          recommendedPreparation,\n        })}\n        {BreadthClassifications({ breadthCategories, distributionCategories })}\n        {AdditionalInstructions({\n          webTimetableInstructions,\n          deliveryInstructions,\n        })}\n        <Meetings data={meetings} />\n      </Stack>\n    </Container>\n  );\n};\n\nexport { CourseScreen };\n","import axios from \"axios\";\n\nconst instance = () => {\n  return axios.create({\n    baseURL:\n      \"https://ionice.herokuapp.com/https://timetable.iit.artsci.utoronto.ca/api/\",\n    headers: {},\n  });\n};\n\n// vaild params\n\n// org:\n// code:\n// section:\n// studyyear:\n// daytime:\n// weekday:\n// prof:\n// breadth:\n// deliverymode:\n// online:\n// waitlist:\n// available:\n// fyfcourse:\n// title:\n\nexport { instance as getSearchInstance };\n","import {\n  Container,\n  Divider,\n  IconButton,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemSecondaryAction,\n  ListItemText,\n  Stack,\n  Typography,\n} from \"@mui/material\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\n\nimport { Link as RouterLink } from \"react-router-dom\";\n\nconst Title = () => {\n  return <Typography variant=\"h4\">Saved Courses</Typography>;\n};\n\nconst FavoritesList = ({ favoritesControl }) => {\n  const [favorites, updateFavorite] = favoritesControl;\n  const ListEntry = ({ entry }) => {\n    const { courseTitle, code, section, session } = entry;\n    return (\n      <ListItem disableGutters>\n        <ListItemButton\n          component={RouterLink}\n          to={`/course/${session}/${section.toLowerCase()}/${code.toLowerCase()}`}\n        >\n          <ListItemText\n            primary={`${courseTitle}`}\n            secondary={`${code}${section}`}\n          />\n        </ListItemButton>\n        <ListItemSecondaryAction>\n          <IconButton\n            onClick={() =>\n              updateFavorite(\"remove\", `${code}-${section}-${session}`)\n            }\n          >\n            <ClearIcon />\n          </IconButton>\n        </ListItemSecondaryAction>\n      </ListItem>\n    );\n  };\n\n  return (\n    <List dense>\n      {Object.entries(favorites)\n        .sort((a, b) => (a < b ? -1 : 1))\n        .map(([k, v]) => (\n          <ListEntry entry={v} key={k} />\n        ))}\n    </List>\n  );\n};\n\nconst FavoritesScreen = ({ favoritesControl }) => {\n  return (\n    <Container maxWidth=\"lg\">\n      <Stack spacing={3} divider={<Divider />}>\n        <Title />\n        <FavoritesList favoritesControl={favoritesControl} />\n      </Stack>\n    </Container>\n  );\n};\n\nexport { FavoritesScreen };\n","import { Route, Switch } from \"react-router-dom\";\nimport { CourseScreen } from \"./screens/CourseScreen\";\nimport { FavoritesScreen } from \"./screens/FavoritesScreen\";\n\nconst Switchboard = ({\n  favoritesControl,\n  currFetchedData,\n  currDisplayedDataControl,\n}) => {\n  const [favorites] = favoritesControl;\n  return (\n    <Switch>\n      <Route path=\"/course\">\n        <CourseScreen\n          currDisplayedDataControl={currDisplayedDataControl}\n          currFetchedData={currFetchedData}\n          favorites={favorites}\n        />\n      </Route>\n\n      <Route path=\"/favorites\">\n        <FavoritesScreen favoritesControl={favoritesControl} />\n      </Route>\n    </Switch>\n  );\n};\n\nexport { Switchboard };\n","const years = [\r\n  {\r\n    value: \"20169\",\r\n    label: \"'16 Fall - '17 Winter\",\r\n    short_label: \"'16-'17 FW\",\r\n  },\r\n  {\r\n    value: \"20175\",\r\n    label: \"'17 Summer\",\r\n    short_label: \"'17 S\",\r\n  },\r\n  {\r\n    value: \"20179\",\r\n    label: \"'17 Fall - '18 Winter\",\r\n    short_label: \"'17-'18 FW\",\r\n  },\r\n  {\r\n    value: \"20185\",\r\n    label: \"'18 Summer\",\r\n    short_label: \"'18 S\",\r\n  },\r\n  {\r\n    value: \"20189\",\r\n    label: \"'18 Fall - '19 Winter\",\r\n    short_label: \"'18-'19 FW\",\r\n  },\r\n  {\r\n    value: \"20195\",\r\n    label: \"'19 Summer\",\r\n    short_label: \"'19 S\",\r\n  },\r\n  {\r\n    value: \"20199\",\r\n    label: \"'19 Fall - '20 Winter\",\r\n    short_label: \"'19-'20 FW\",\r\n  },\r\n  {\r\n    value: \"20205\",\r\n    label: \"'20 Summer\",\r\n    short_label: \"'20 S\",\r\n  },\r\n  {\r\n    value: \"20209\",\r\n    label: \"'20 Fall - '21 Winter\",\r\n    short_label: \"'20-'21 FW\",\r\n  },\r\n  {\r\n    value: \"20215\",\r\n    label: \"'21 Summer\",\r\n    short_label: \"'21 S\",\r\n  },\r\n  {\r\n    value: \"20219\",\r\n    label: \"'21 Fall - '22 Winter\",\r\n    short_label: \"'21-'22 FW\",\r\n  },\r\n];\r\n\r\nconst deptCodes = (\r\n  \"ABP/ACT/AFR/AMS/ANA/ANT/APM/ARC/ARH/AST/BCB/BCH/\" +\r\n  \"BIO/BMS/BPM/CAR/CAS/CDN/CHC/CHM/CIN/CJH/CJS/CLA/\" +\r\n  \"CLT/COG/COL/CRE/CRI/CSB/CSC/CSE/CTA/DHU/DRM/DTS/\" +\r\n  \"EAS/ECE/ECO/EDS/EDU/EEB/EHJ/ELL/ENG/ENT/ENV/ESS/\" +\r\n  \"EST/ETH/EUR/FAH/FCS/FIN/FOR/FRE/FSL/GER/GGR/GRK/\" +\r\n  \"HAJ/HIS/HMB/HPS/HST/HUN/IFP/IMC/IMM/INI/INS/IRE/\" +\r\n  \"ITA/IVP/JAH/JAL/JAR/JCA/JCC/JCI/JDC/JEE/JEG/JEH/\" +\r\n  \"JEI/JFE/JFG/JFL/JFP/JFV/JGA/JGE/JGI/JGJ/JGU/JHA/\" +\r\n  \"JHE/JHN/JHP/JIA/JIG/JLN/JLP/JLS/JMB/JNH/JNR/JNS/\" +\r\n  \"JOP/JPA/JPD/JPE/JPF/JPH/JPI/JPM/JPP/JPR/JPS/JPU/\" +\r\n  \"JQR/JRA/JSC/JSH/JSR/JSU/JSV/JUG/JUM/JWE/LAS/LAT/\" +\r\n  \"LCT/LIN/LMP/MAT/MCS/MGR/MGT/MGY/MHB/MIJ/MST/MUN/\" +\r\n  \"MUS/NEW/NFS/NMC/NML/NUS/PCJ/PCL/PHC/PHL/PHS/PHY/\" +\r\n  \"PLN/POL/PPG/PRT/PSL/PSY/REN/RLG/RSM/SAS/SDS/SLA/\" +\r\n  \"SMC/SOC/SPA/STA/SWE/SWK/TRN/UNI/URB/USA/UTP/VIC/\" +\r\n  \"WDW/WGS/WRR\"\r\n).split(\"/\");\r\n\r\nexport { years, deptCodes };\r\n","import { useEffect, useState } from \"react\";\nimport {\n  Box,\n  CssBaseline,\n  StyledEngineProvider,\n  ThemeProvider,\n  Toolbar,\n  useMediaQuery,\n  useTheme,\n} from \"@mui/material\";\nimport { useLocation } from \"react-router-dom\";\nimport _ from \"lodash\";\n\nimport { styles, theme } from \"./theme\";\nimport { QuickSearchPanel } from \"./components/QuickSearchPanel\";\nimport { Drawer } from \"./components/Drawer\";\nimport { AppBar } from \"./components/AppBar\";\nimport { Switchboard } from \"./Switchboard\";\nimport { getPageTitle } from \"./utilities/misc\";\n\nconst App = () => {\n  const sv = styles();\n  const themeFunction = useTheme();\n  const mobile = useMediaQuery(themeFunction.breakpoints.down(\"md\"));\n  const location = useLocation();\n\n  const [dark, setDark] = useState(localStorage.getItem(\"darkMode\") === \"dark\");\n  const [isNavExpanded, setIsNavExpanded] = useState(false);\n  const [appBarTitle, setAppBarTitle] = useState(\"\");\n\n  const favoritesKey = \"dfsoudfhsud\"; // to be fixed eventually when stable\n\n  const loadExistingFavorites = () => {\n    const existingFavorites = localStorage.getItem(favoritesKey);\n    return existingFavorites ? JSON.parse(existingFavorites) : {};\n  };\n\n  const [currFetchedData, setCurrFetchedData] = useState({});\n  const [favorites, setFavorites] = useState(loadExistingFavorites());\n\n  const [currDisplayedData, setCurrDisplayedData] = useState({});\n\n  // initial setup\n  useEffect(() => {\n    const existingFavorites = localStorage.getItem(favoritesKey);\n    if (existingFavorites) setFavorites(JSON.parse(existingFavorites));\n\n    const monitorCrossTabState = (e) => {\n      if (e.key === \"darkMode\") {\n        setDark(e.newValue === \"dark\");\n      } else if (e.key === favoritesKey) {\n        setFavorites(JSON.parse(e.newValue));\n      }\n    };\n\n    window.addEventListener(\"storage\", monitorCrossTabState);\n    return () => {\n      window.removeEventListener(\"storage\", monitorCrossTabState);\n    };\n  }, []);\n\n  // location updates\n  useEffect(() => {\n    const { pathname } = location;\n    const newTitle = getPageTitle(pathname, currDisplayedData);\n\n    setAppBarTitle(location.pathname.startsWith(\"/course\") ? newTitle : \"\");\n    document.title = `Boreal${newTitle === \"Boreal\" ? \"\" : \" — \" + newTitle}`;\n  }, [location, currDisplayedData]);\n\n  useEffect(() => {\n    localStorage.setItem(\"darkMode\", dark ? \"dark\" : \"light\");\n  }, [dark]);\n\n  const getId = () => {\n    if (_.isEmpty(currDisplayedData)) return null;\n    return `${currDisplayedData.code}-${currDisplayedData.section}-${currDisplayedData.session}`;\n  };\n\n  const updateFavorite = (action, courseId = getId()) => {\n    if (!courseId) return;\n\n    setFavorites((state) => {\n      if (action !== \"add\" && action !== \"remove\") return state;\n      const updated =\n        action === \"remove\"\n          ? _.omit(state, courseId)\n          : {\n              ...state,\n              [courseId]: currDisplayedData,\n            };\n      localStorage.setItem(favoritesKey, JSON.stringify(updated));\n      return updated;\n    });\n  };\n\n  const onQuickPanelCourseSelection = () => {\n    setIsNavExpanded(false);\n  };\n\n  return (\n    <StyledEngineProvider injectFirst>\n      <ThemeProvider theme={theme(dark)}>\n        <CssBaseline />\n        <AppBar\n          title={appBarTitle}\n          navControl={[isNavExpanded, setIsNavExpanded]}\n          themeControl={[dark, setDark]}\n          favoriteControl={[\n            Object.keys(favorites).includes(getId()),\n            updateFavorite,\n          ]}\n          mobile={mobile}\n        />\n        <Drawer mobile={mobile} navControl={[isNavExpanded, setIsNavExpanded]}>\n          <QuickSearchPanel\n            fetchedDataControl={[currFetchedData, setCurrFetchedData]}\n            onCourseSelection={onQuickPanelCourseSelection}\n            onButtonClick={() => setIsNavExpanded(!isNavExpanded)}\n          />\n        </Drawer>\n        <Toolbar />\n        <Box sx={mobile ? sv.contentMobileWrapper : sv.contentWrapper}>\n          <Switchboard\n            favoritesControl={[favorites, updateFavorite]}\n            currFetchedData={currFetchedData}\n            currDisplayedDataControl={[currDisplayedData, setCurrDisplayedData]}\n          />\n        </Box>\n      </ThemeProvider>\n    </StyledEngineProvider>\n  );\n};\n\nexport { App };\n","import _ from \"lodash\";\r\n\r\nimport { years } from \"./searchOptions\";\r\n\r\nconst getPageTitle = (pathname, currDisplayedCourse) => {\r\n  if (pathname === \"/search\") {\r\n    return \"Search\";\r\n  } else if (pathname === \"/favorites\") {\r\n    return \"Favorites\";\r\n  } else if (pathname === \"/timetable\") {\r\n    return \"Timetable\";\r\n  } else if (pathname === \"/settings\") {\r\n    return \"Settings\";\r\n  } else if (pathname.startsWith(\"/course\")) {\r\n    if (_.isEmpty(currDisplayedCourse)) return \"\";\r\n    if (currDisplayedCourse.session !== _.last(years).value) {\r\n      const session = years.filter(\r\n        (obj) => obj.value === currDisplayedCourse.session\r\n      );\r\n      console.log(session);\r\n      return `${currDisplayedCourse.code}${\r\n        currDisplayedCourse.section\r\n      } (Session: ${\r\n        !_.isEmpty(session)\r\n          ? session[0].short_label\r\n          : currDisplayedCourse.session\r\n      })`;\r\n    }\r\n    return `${currDisplayedCourse.code}${currDisplayedCourse.section}`;\r\n  } else {\r\n    return \"Boreal\";\r\n  }\r\n};\r\n\r\nexport { getPageTitle };\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { App } from \"./App\";\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}