(this["webpackJsonpcourse-finder"]=this["webpackJsonpcourse-finder"]||[]).push([[0],{132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),i=a.n(c),s=a(11),l=a(189),o=a(190),j=a(51),b=a.n(j),d=a(9),u=a(89),h=a(198),O=a(171),x=a(59),p=a(57),m=a(58),v=Object(h.a)(Object(u.a)({palette:{primary:{main:x.a[900]},secondary:{main:p.a[50]},error:{main:m.a[500]}},props:{MuiTypography:{variantMapping:{h4:"h1",h5:"h2",h6:"h3"}}}})),f=320,g=Object(O.a)((function(e){return{root:{display:"flex"},paginator:{justifyContent:"center",padding:"10px"},searchBox:{marginBottom:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),"& > *":{marginTop:e.spacing(1)}},drawer:Object(d.a)({},e.breakpoints.up("md"),{width:f,flexShrink:0}),appBar:Object(d.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(f,"px)"),marginLeft:f}),menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),toolbar:e.mixins.toolbar,tabs:{height:"48px"},drawerPaper:{width:f},content:{flexGrow:1,padding:e.spacing(3)},loader:{margin:e.spacing(3)},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}),{index:1}),y=a(64),C=a.n(y),S=a(86),w=a(87),N=a.n(w),T=a(192),k=a(173),D=a(134),M=a(175),F=a(191),I=a(177),W=a(178),B=a(176),E=a(194),P=[{value:"20169",label:"'16 Fall - '17 Winter"},{value:"20175",label:"'17 Summer"},{value:"20179",label:"'17 Fall - '18 Winter"},{value:"20185",label:"'18 Summer"},{value:"20189",label:"'18 Fall - '19 Winter"},{value:"20195",label:"'19 Summer"},{value:"20199",label:"'19 Fall - '20 Winter"},{value:"20205",label:"'20 Summer"},{value:"20209",label:"'20 Fall - '21 Winter"},{value:"20215",label:"'21 Summer"},{value:"20219",label:"'21 Fall - '22 Winter"}],q=a(3),A=function(){var e=g();return Object(q.jsx)(T.a,{display:"flex",justifyContent:"center",alignItems:"center",className:e.loader,children:Object(q.jsx)(k.a,{})})},L=function(e){var t=e.setData,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(P[P.length-1].value),o=Object(s.a)(l,2),j=o[0],b=o[1],d=Object(n.useState)({}),u=Object(s.a)(d,2),h=u[0],O=u[1],x=Object(n.useState)(!1),p=Object(s.a)(x,2),m=p[0],v=p[1],f=Object(n.useState)(1),y=Object(s.a)(f,2),w=y[0],k=y[1],L=Object(n.useState)(Math.ceil(Object.keys(h).length/10)),_=Object(s.a)(L,2),R=_[0],H=_[1],U=g();Object(n.useEffect)((function(){var e=function(){var e=Object(S.a)(C.a.mark((function e(){var t,a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://ionice.herokuapp.com/https://timetable.iit.artsci.utoronto.ca/api/".concat(j,"/courses?code=").concat(c),e.next=3,N.a.get(t,{headers:{}});case 3:a=e.sent,n=a.data,O(n),H(Math.ceil(Object.keys(n).length/10));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){v(!0),k(1),e().then((function(){return v(!1)}))};if(!c||!j||h){var a=setTimeout((function(){c&&j&&t()}),500);return function(){clearTimeout(a)}}t()}),[c,j]);var J=Object.keys(h).slice(10*(w-1),10*w).map((function(e){var a=h[e];return Object(q.jsx)(D.a,{button:!0,onClick:function(){return t(a)},children:Object(q.jsx)(M.a,{primary:a.courseTitle,secondary:"".concat(a.code).concat(a.section)})},e)}));return Object(q.jsxs)("div",{children:[Object(q.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(q.jsxs)(T.a,{className:U.searchBox,children:[Object(q.jsx)(F.a,{id:"year-input",select:!0,label:"Academic Year",variant:"filled",value:j,onChange:function(e){return b(e.target.value)},fullWidth:!0,children:P.map((function(e){return Object(q.jsx)(I.a,{value:e.value,children:e.label},e.value)}))}),Object(q.jsx)(F.a,{id:"code-input",label:"Course Code",variant:"filled",value:c,onChange:function(e){return i(e.target.value.toUpperCase())},fullWidth:!0})]})}),Object(q.jsx)(W.a,{}),m?Object(q.jsx)(A,{}):null,m?null:Object(q.jsxs)(n.Fragment,{children:[Object(q.jsx)(T.a,{padding:"10px",children:Object(q.jsx)(E.a,{count:R,page:w,onChange:function(e,t){k(t)},defaultPage:1,siblingCount:0,boundaryCount:1,color:"primary",classes:{ul:U.paginator}})}),Object(q.jsx)(W.a,{}),Object(q.jsx)(T.a,{children:Object(q.jsx)(B.a,{dense:!0,children:J})})]})]})},_=a(41),R=a(2),H=a(179),U=a(180),J=a(33),Y=a(182),z=a(183),G=a(184),V=a(185),K=a(65),Q=a.n(K),X=a(181),Z=a(4),$=["children","value","index"],ee=function(e){switch(e){case"MO":return"Mon";case"TU":return"Tue";case"WE":return"Wed";case"TH":return"Thu";case"FR":return"Fri";default:return e+": this date is unformatted; please report this to the developer."}},te=function(e){var t=e.children,a=e.value,n=e.index,r=Object(R.a)(e,$);return Object(q.jsx)("div",Object(_.a)(Object(_.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:t}))},ae=function(e){var t=e.title,a=e.subtitle,r=e.children,c=Object(n.useState)(!1),i=Object(s.a)(c,2),l=i[0],o=i[1];return Object(q.jsxs)(H.a,{variant:"outlined",children:[Object(q.jsx)(U.a,{action:Object(q.jsx)(X.a,{onClick:function(){o(!l)},"aria-expanded":l,"aria-label":"show more",children:Object(q.jsx)(Q.a,{})}),title:Object(q.jsx)(J.a,{variant:"h6",children:t}),subheader:Object(q.jsx)(J.a,{variant:"body1",children:a})}),Object(q.jsx)(Y.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(q.jsx)(z.a,{children:r})})]})},ne=function(e){var t=e.sectionCode,a=e.meetingData,r=Object(n.useState)(!1),c=Object(s.a)(r,2),i=c[0],l=c[1],o=g(),j=Number(a.enrollmentCapacity)-Number(a.actualEnrolment),u=Number(a.actualWaitlist),h=(j>0?"Remaining spots: "+String(j):"Y"===a.waitlist?"Waitlist size: "+String(u):"Full, no waitlisting allowed")+" (capacity: ".concat(a.enrollmentCapacity,")"),O=function(e){var t=e.schedule;return Object(q.jsxs)(G.a,{container:!0,children:[Object(q.jsx)(J.a,{variant:"body1",children:"Schedule:"}),Object.entries(t).map((function(e){var t=e[1];return Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(J.a,{variant:"body1",children:"".concat(ee(t.meetingDay)," ").concat(t.meetingStartTime,"-").concat(t.meetingEndTime)})})}))]})};return Object(q.jsxs)(H.a,{variant:"outlined",children:[Object(q.jsx)(U.a,{title:Object(q.jsx)(J.a,{variant:"h6",color:j>0?"initial":"error",children:t}),subheader:Object(q.jsxs)(n.Fragment,{children:[Object(q.jsx)(J.a,{variant:"body1",children:"Instructor(s): ".concat(function(e){if(b.a.isEmpty(e))return"Not available yet";for(var t="",a=0,n=Object.entries(e);a<n.length;a++){var r=Object(s.a)(n[a],2)[1];t+=r.firstName,t+=". ",t+=r.lastName,t+=", "}return t.substring(0,t.length-2)}(a.instructors))}),Object(q.jsx)(J.a,{variant:"body1",children:h})]})}),Object(q.jsx)(z.a,{children:Object(q.jsxs)(G.a,{container:!0,spacing:3,children:[Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(O,{schedule:a.schedule})}),Object(q.jsx)(G.a,{item:!0,xs:12,style:{display:i?"block":"none"},children:Object(q.jsx)(J.a,{variant:"body1",children:"Delivery mode: ".concat(a.online)})})]})}),Object(q.jsx)(V.a,{children:Object(q.jsx)(X.a,{className:Object(Z.a)(o.expand,Object(d.a)({},o.expandOpen,i)),onClick:function(){l(!i)},"aria-expanded":i,"aria-label":"show more",children:Object(q.jsx)(Q.a,{})})})]})},re=function(e){var t=e.courseData,a=e.selectedIndex;return Object(q.jsxs)(n.Fragment,{children:[Object(q.jsx)(te,{value:a,index:0,children:Object(q.jsx)(ce,{courseData:t})}),Object(q.jsx)(te,{value:a,index:1,children:Object(q.jsx)(ie,{courseData:t})})]})},ce=function(e){var t=e.courseData,a=g();return 0===Object.keys(t).length?Object(q.jsx)(J.a,{variant:"h6",children:"Search for a course for data to show up here!"}):Object(q.jsxs)(G.a,{container:!0,className:a.root,spacing:1,children:[Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(J.a,{variant:"h4",children:t.courseTitle})}),Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(J.a,{variant:"body1",dangerouslySetInnerHTML:{__html:t.courseDescription}})}),Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(ae,{title:"Additional course information:",subtitle:"Pre/co-requisites, exclusions and recommended preparation",children:Object(q.jsxs)(n.Fragment,{children:[Object(q.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Pre-requisites: ".concat(t.prerequisite?t.prerequisite:"N/A")}),Object(q.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Co-requisites: ".concat(t.corequisite?t.corequisite:"N/A")}),Object(q.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Exclusions: ".concat(t.exclusion?t.exclusion:"N/A")}),Object(q.jsx)(J.a,{variant:"body2",children:"Recommended preparation: ".concat(t.recommendedPreparation?t.recommendedPreparation:"N/A")})]})})}),Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsxs)(ae,{title:"Breadth & distribution classifications:",children:[Object(q.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Breadth categories: ".concat(t.breadthCategories)}),Object(q.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Distribution categories: ".concat(t.distributionCategories?t.distributionCategories:"N/A")})]})}),t.webTimetableInstructions?Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(ae,{title:"Timetable instructions:",children:Object(q.jsx)(J.a,{variant:"body2",dangerouslySetInnerHTML:{__html:t.webTimetableInstructions}})})}):null,t.deliveryInstructions?Object(q.jsx)(G.a,{item:!0,xs:12,children:Object(q.jsx)(ae,{title:"Delivery instructions:",children:Object(q.jsx)(J.a,{variant:"body2",dangerouslySetInnerHTML:{__html:t.deliveryInstructions}})})}):null]})},ie=function(e){var t=e.courseData,a=g();return Object(q.jsx)("div",{className:a.root,children:Object(q.jsx)(G.a,{container:!0,spacing:1,children:Object.keys(t.meetings).map((function(e){return Object(q.jsx)(G.a,{item:!0,xs:12,md:6,lg:3,children:Object(q.jsx)(ne,{sectionCode:e,meetingData:t.meetings[e]})},e)}))})})},se=a(197),le=a(196);function oe(e){var t=e.children,a=e.mobileOpen,n=e.setMobileOpen,r=g(),c=Object(q.jsx)("div",{children:t});return Object(q.jsx)("div",{className:r.root,children:Object(q.jsxs)("nav",{className:r.drawer,"aria-label":"search",children:[Object(q.jsx)(le.a,{mdUp:!0,implementation:"css",children:Object(q.jsx)(se.a,{variant:"temporary",anchor:"left",open:a,onClose:function(){n(!a)},classes:{paper:r.drawerPaper},ModalProps:{keepMounted:!0},children:c})}),Object(q.jsx)(le.a,{smDown:!0,implementation:"css",children:Object(q.jsx)(se.a,{classes:{paper:r.drawerPaper},variant:"permanent",open:!0,children:c})})]})})}var je=a(187),be=a(88),de=a.n(be),ue=a(193),he=a(188),Oe=a(186);function xe(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var pe=function(e){var t=e.title,a=e.showTabs,n=e.mobileOpen,r=e.setMobileOpen,c=e.index,i=e.setIndex,s=g();return Object(q.jsxs)(Oe.a,{position:"fixed",className:s.appBar,children:[Object(q.jsxs)(je.a,{children:[Object(q.jsx)(X.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){r(!n)},className:s.menuButton,children:Object(q.jsx)(de.a,{})}),Object(q.jsx)(J.a,{variant:"h6",children:t})]}),a?Object(q.jsxs)(ue.a,{value:c,onChange:function(e,t){i(t)},variant:"fullWidth","aria-label":"course information",children:[Object(q.jsx)(he.a,Object(_.a)({label:"Course Info"},xe(0))),Object(q.jsx)(he.a,Object(_.a)({label:"Meeting Sections"},xe(1)))]}):null]})},me=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],c=t[1],i=r.a.useState(!1),j=Object(s.a)(i,2),d=j[0],u=j[1],h=Object(n.useState)(!1),O=Object(s.a)(h,2),x=O[0],p=O[1],m=r.a.useState(0),f=Object(s.a)(m,2),y=f[0],C=f[1];Object(n.useEffect)((function(){p(!b.a.isEmpty(a))}),[a]);var S=g();return Object(q.jsxs)(l.a,{theme:v,children:[Object(q.jsx)(o.a,{}),Object(q.jsxs)("div",{className:S.root,children:[Object(q.jsx)(pe,{title:x?"".concat(a.code).concat(a.section):"Course Finder 2",showTabs:x,mobileOpen:d,setMobileOpen:u,index:y,setIndex:C}),Object(q.jsx)(oe,{children:Object(q.jsx)(L,{setData:function(e){return c(e)}}),mobileOpen:d,setMobileOpen:u}),Object(q.jsxs)("main",{className:S.content,children:[Object(q.jsx)("div",{className:S.toolbar}),x?Object(q.jsxs)(n.Fragment,{children:[Object(q.jsx)("div",{className:S.tabs}),Object(q.jsx)(re,{courseData:a,selectedIndex:y})]}):null]})]})]})};i.a.render(Object(q.jsx)(me,{}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.bc50cf1d.chunk.js.map