(this["webpackJsonpcourse-finder"]=this["webpackJsonpcourse-finder"]||[]).push([[0],{132:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),i=a.n(r),s=a(12),l=a(188),o=a(189),j=a(51),u=a.n(j),d=a(9),b=a(89),h=a(197),O=a(171),x=a(59),m=a(57),p=a(58),v=Object(h.a)(Object(b.a)({palette:{primary:{main:x.a[900]},secondary:{main:m.a[50]},error:{main:p.a[500]}},props:{MuiTypography:{variantMapping:{h4:"h1",h5:"h2",h6:"h3"}}}})),g=320,f=Object(O.a)((function(e){return{root:{display:"flex"},paginator:{justifyContent:"center",padding:"10px"},searchBox:{marginBottom:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),"& > *":{marginTop:e.spacing(1)}},drawer:Object(d.a)({},e.breakpoints.up("md"),{width:g,flexShrink:0}),appBar:Object(d.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(g,"px)"),marginLeft:g}),menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),toolbar:e.mixins.toolbar,tabs:{height:"48px"},drawerPaper:{width:g},content:{flexGrow:1,padding:e.spacing(3)},loader:{margin:e.spacing(3)},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},gridItem:{height:"100%"}}}),{index:1}),y=a(64),C=a.n(y),S=a(85),w=a(86),N=a.n(w),T=a(191),k=a(173),I=a(134),D=a(175),M=a(190),F=a(177),W=a(178),A=a(176),B=a(193),E=[{value:"20169",label:"'16 Fall - '17 Winter"},{value:"20175",label:"'17 Summer"},{value:"20179",label:"'17 Fall - '18 Winter"},{value:"20185",label:"'18 Summer"},{value:"20189",label:"'18 Fall - '19 Winter"},{value:"20195",label:"'19 Summer"},{value:"20199",label:"'19 Fall - '20 Winter"},{value:"20205",label:"'20 Summer"},{value:"20209",label:"'20 Fall - '21 Winter"},{value:"20215",label:"'21 Summer"},{value:"20219",label:"'21 Fall - '22 Winter"}],R=a(3),P=function(){var e=f();return Object(R.jsx)(T.a,{display:"flex",justifyContent:"center",alignItems:"center",className:e.loader,children:Object(R.jsx)(k.a,{})})},q=function(e){var t=e.setData,a=e.onCourseSelectionAction,c=Object(n.useState)(""),r=Object(s.a)(c,2),i=r[0],l=r[1],o=Object(n.useState)(E[E.length-1].value),j=Object(s.a)(o,2),u=j[0],d=j[1],b=Object(n.useState)({}),h=Object(s.a)(b,2),O=h[0],x=h[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),v=p[0],g=p[1],y=Object(n.useState)(1),w=Object(s.a)(y,2),k=w[0],q=w[1],L=Object(n.useState)(Math.ceil(Object.keys(O).length/10)),_=Object(s.a)(L,2),H=_[0],U=_[1],J=f();Object(n.useEffect)((function(){var e=function(){var e=Object(S.a)(C.a.mark((function e(){var t,a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://ionice.herokuapp.com/https://timetable.iit.artsci.utoronto.ca/api/".concat(u,"/courses?code=").concat(i),e.next=3,N.a.get(t,{headers:{}});case 3:a=e.sent,n=a.data,x(n),U(Math.ceil(Object.keys(n).length/10));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){g(!0),q(1),e().then((function(){return g(!1)}))};if(!i||!u||O){var a=setTimeout((function(){i&&u&&t()}),500);return function(){clearTimeout(a)}}t()}),[i,u]);var Y=Object.keys(O).slice(10*(k-1),10*k).map((function(e){var n=O[e];return Object(R.jsx)(I.a,{button:!0,onClick:function(){return function(e){t(e),a()}(n)},children:Object(R.jsx)(D.a,{primary:n.courseTitle,secondary:"".concat(n.code).concat(n.section)})},e)}));return Object(R.jsxs)("div",{children:[Object(R.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(R.jsxs)(T.a,{className:J.searchBox,children:[Object(R.jsx)(M.a,{id:"year-input",select:!0,label:"Academic Year",variant:"filled",value:u,onChange:function(e){return d(e.target.value)},fullWidth:!0,children:E.map((function(e){return Object(R.jsx)(F.a,{value:e.value,children:e.label},e.value)}))}),Object(R.jsx)(M.a,{id:"code-input",label:"Course Code",variant:"filled",value:i,onChange:function(e){return l(e.target.value.toUpperCase())},fullWidth:!0})]})}),Object(R.jsx)(W.a,{}),v?Object(R.jsx)(P,{}):null,v?null:Object(R.jsxs)(n.Fragment,{children:[Object(R.jsx)(T.a,{padding:"10px",children:Object(R.jsx)(B.a,{count:H,page:k,onChange:function(e,t){q(t)},defaultPage:1,siblingCount:0,boundaryCount:1,color:"primary",classes:{ul:J.paginator}})}),Object(R.jsx)(W.a,{}),Object(R.jsx)(T.a,{children:Object(R.jsx)(A.a,{dense:!0,children:Y})})]})]})},L=a(41),_=a(2),H=a(179),U=a(180),J=a(33),Y=a(182),z=a(183),G=a(184),V=a(87),K=a.n(V),Q=a(181),X=["children","value","index"],Z=function(e){var t=e.children,a=e.value,n=e.index,c=Object(_.a)(e,X);return Object(R.jsx)("div",Object(L.a)(Object(L.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),{},{children:t}))},$=function(e){var t=e.title,a=e.subtitle,c=e.children,r=Object(n.useState)(!1),i=Object(s.a)(r,2),l=i[0],o=i[1];return Object(R.jsxs)(H.a,{variant:"outlined",children:[Object(R.jsx)(U.a,{action:Object(R.jsx)(Q.a,{onClick:function(){o(!l)},"aria-expanded":l,"aria-label":"show more",children:Object(R.jsx)(K.a,{})}),title:Object(R.jsx)(J.a,{variant:"h6",children:t}),subheader:Object(R.jsx)(J.a,{variant:"body1",children:a})}),Object(R.jsx)(Y.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(R.jsx)(z.a,{children:c})})]})},ee=function(e){var t=e.sectionCode,a=e.meetingData,c=f(),r=Number(a.enrollmentCapacity)-Number(a.actualEnrolment),i=Number(a.actualWaitlist),l=(r>0?"Remaining spots: "+String(r):"Y"===a.waitlist?"Waitlist size: "+String(i):"Full, no waitlisting allowed")+" (capacity: ".concat(a.enrollmentCapacity,")"),o=function(e){var t=e.schedule;return Object(R.jsxs)(G.a,{container:!0,children:[Object(R.jsx)(J.a,{variant:"body1",children:"Schedule:"}),Object.entries(t).map((function(e){var t=e[1],a="".concat(function(e){switch(e){case"MO":return"Mon";case"TU":return"Tue";case"WE":return"Wed";case"TH":return"Thu";case"FR":return"Fri";default:return e+": this date is unformatted; please report this to the developer."}}(t.meetingDay)," \n          ").concat(t.meetingStartTime,"-").concat(t.meetingEndTime),n=t.assignedRoom1?t.assignedRoom2?"".concat(t.assignedRoom1,"/").concat(t.assignedRoom2):"".concat(t.assignedRoom1):null;return Object(R.jsx)(G.a,{item:!0,xs:12,children:Object(R.jsx)(J.a,{variant:"body1",children:"".concat(a," @ ").concat(null!=n?n:"N/A")})})}))]})};return Object(R.jsxs)(H.a,{variant:"outlined",className:c.gridItem,children:[Object(R.jsx)(U.a,{title:Object(R.jsx)(J.a,{variant:"h6",color:r>0?"initial":"error",children:t}),subheader:Object(R.jsxs)(n.Fragment,{children:[Object(R.jsx)(J.a,{variant:"body1",children:l}),null!==a.online?Object(R.jsx)(J.a,{variant:"body1",children:"Delivery mode: ".concat(a.online)}):null]})}),Object(R.jsx)(z.a,{children:Object(R.jsxs)(G.a,{container:!0,spacing:2,children:[Object(R.jsx)(G.a,{item:!0,xs:12,children:Object(R.jsx)(J.a,{variant:"body1",children:"Instructor(s): ".concat(function(e){if(u.a.isEmpty(e))return"Not available yet";for(var t="",a=0,n=Object.entries(e);a<n.length;a++){var c=Object(s.a)(n[a],2)[1];t+=c.firstName,t+=". ",t+=c.lastName,t+=", "}return t.substring(0,t.length-2)}(a.instructors))})}),Object(R.jsx)(G.a,{item:!0,xs:12,children:Object(R.jsx)(o,{schedule:a.schedule})})]})})]})},te=function(e){var t=e.courseData,a=e.selectedIndex;return Object(R.jsxs)(n.Fragment,{children:[Object(R.jsx)(Z,{value:a,index:0,children:Object(R.jsx)(ae,{courseData:t})}),Object(R.jsx)(Z,{value:a,index:1,children:Object(R.jsx)(ne,{courseData:t})})]})},ae=function(e){var t=e.courseData,a=f();return 0===Object.keys(t).length?Object(R.jsx)(J.a,{variant:"h6",children:"Search for a course for data to show up here!"}):Object(R.jsxs)(G.a,{container:!0,className:a.root,spacing:1,children:[Object(R.jsx)(G.a,{item:!0,xs:12,children:Object(R.jsx)(J.a,{variant:"h4",children:t.courseTitle})}),Object(R.jsx)(G.a,{item:!0,xs:12,children:Object(R.jsx)(J.a,{variant:"body1",dangerouslySetInnerHTML:{__html:t.courseDescription}})}),Object(R.jsx)(G.a,{item:!0,xs:12,children:Object(R.jsx)($,{title:"Additional course information:",subtitle:"Pre/co-requisites, exclusions and recommended preparation",children:Object(R.jsxs)(n.Fragment,{children:[Object(R.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Pre-requisites: ".concat(t.prerequisite?t.prerequisite:"N/A")}),Object(R.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Co-requisites: ".concat(t.corequisite?t.corequisite:"N/A")}),Object(R.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Exclusions: ".concat(t.exclusion?t.exclusion:"N/A")}),Object(R.jsx)(J.a,{variant:"body2",children:"Recommended preparation: ".concat(t.recommendedPreparation?t.recommendedPreparation:"N/A")})]})})}),Object(R.jsx)(G.a,{item:!0,xs:12,children:Object(R.jsxs)($,{title:"Breadth & distribution classifications:",children:[Object(R.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Breadth categories: ".concat(t.breadthCategories)}),Object(R.jsx)(J.a,{variant:"body2",paragraph:!0,children:"Distribution categories: ".concat(t.distributionCategories?t.distributionCategories:"N/A")})]})}),t.webTimetableInstructions?Object(R.jsx)(G.a,{item:!0,xs:12,children:Object(R.jsx)($,{title:"Timetable instructions:",children:Object(R.jsx)(J.a,{variant:"body2",dangerouslySetInnerHTML:{__html:t.webTimetableInstructions}})})}):null,t.deliveryInstructions?Object(R.jsx)(G.a,{item:!0,xs:12,children:Object(R.jsx)($,{title:"Delivery instructions:",children:Object(R.jsx)(J.a,{variant:"body2",dangerouslySetInnerHTML:{__html:t.deliveryInstructions}})})}):null]})},ne=function(e){var t=e.courseData,a=f();return Object(R.jsx)("div",{className:a.root,children:Object(R.jsx)(G.a,{container:!0,spacing:2,children:Object.keys(t.meetings).map((function(e){return Object(R.jsx)(G.a,{item:!0,xs:12,md:6,lg:3,children:Object(R.jsx)(ee,{sectionCode:e,meetingData:t.meetings[e]})})}))})})},ce=a(196),re=a(195);function ie(e){var t=e.children,a=e.mobileOpen,n=e.setMobileOpen,c=f(),r=Object(R.jsx)("div",{children:t});return Object(R.jsx)("div",{className:c.root,children:Object(R.jsxs)("nav",{className:c.drawer,"aria-label":"search",children:[Object(R.jsx)(re.a,{mdUp:!0,implementation:"css",children:Object(R.jsx)(ce.a,{variant:"temporary",anchor:"left",open:a,onClose:function(){n(!a)},classes:{paper:c.drawerPaper},ModalProps:{keepMounted:!0},children:r})}),Object(R.jsx)(re.a,{smDown:!0,implementation:"css",children:Object(R.jsx)(ce.a,{classes:{paper:c.drawerPaper},variant:"permanent",open:!0,children:r})})]})})}var se=a(186),le=a(88),oe=a.n(le),je=a(192),ue=a(187),de=a(185);function be(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var he=function(e){var t=e.title,a=e.showTabs,n=e.mobileOpen,c=e.setMobileOpen,r=e.index,i=e.setIndex,s=f();return Object(R.jsxs)(de.a,{position:"fixed",className:s.appBar,children:[Object(R.jsxs)(se.a,{children:[Object(R.jsx)(Q.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){c(!n)},className:s.menuButton,children:Object(R.jsx)(oe.a,{})}),Object(R.jsx)(J.a,{variant:"h6",children:t})]}),a?Object(R.jsxs)(je.a,{value:r,onChange:function(e,t){i(t)},variant:"fullWidth","aria-label":"course information",children:[Object(R.jsx)(ue.a,Object(L.a)({label:"Course Info"},be(0))),Object(R.jsx)(ue.a,Object(L.a)({label:"Meeting Sections"},be(1)))]}):null]})},Oe=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],r=t[1],i=c.a.useState(!1),j=Object(s.a)(i,2),d=j[0],b=j[1],h=Object(n.useState)(!1),O=Object(s.a)(h,2),x=O[0],m=O[1],p=c.a.useState(0),g=Object(s.a)(p,2),y=g[0],C=g[1];Object(n.useEffect)((function(){m(!u.a.isEmpty(a))}),[a]);var S=f();return Object(R.jsxs)(l.a,{theme:v,children:[Object(R.jsx)(o.a,{}),Object(R.jsxs)("div",{className:S.root,children:[Object(R.jsx)(he,{title:x?"".concat(a.code).concat(a.section):"Course Finder 2",showTabs:x,mobileOpen:d,setMobileOpen:b,index:y,setIndex:C}),Object(R.jsx)(ie,{children:Object(R.jsx)(q,{setData:function(e){return r(e)},onCourseSelectionAction:b}),mobileOpen:d,setMobileOpen:b}),Object(R.jsxs)("main",{className:S.content,children:[Object(R.jsx)("div",{className:S.toolbar}),x?Object(R.jsxs)(n.Fragment,{children:[Object(R.jsx)("div",{className:S.tabs}),Object(R.jsx)(te,{courseData:a,selectedIndex:y})]}):null]})]})]})};i.a.render(Object(R.jsx)(Oe,{}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.b732046c.chunk.js.map